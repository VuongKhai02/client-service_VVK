(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{"1uSB":function(e,t,n){"use strict";n.r(t),n.d(t,"AST",function(){return fs}),n.d(t,"ASTWithName",function(){return ds}),n.d(t,"ASTWithSource",function(){return Vs}),n.d(t,"AbsoluteSourceSpan",function(){return Bs}),n.d(t,"AotCompiler",function(){return Pf}),n.d(t,"AotSummaryResolver",function(){return cd}),n.d(t,"ArrayType",function(){return _e}),n.d(t,"AssertNotNull",function(){return ut}),n.d(t,"AstMemoryEfficientTransformer",function(){return zs}),n.d(t,"AstPath",function(){return Jo}),n.d(t,"AstTransformer",function(){return Ws}),n.d(t,"AttrAst",function(){return Qu}),n.d(t,"Attribute",function(){return ru}),n.d(t,"Binary",function(){return As}),n.d(t,"BinaryOperator",function(){return be}),n.d(t,"BinaryOperatorExpr",function(){return vt}),n.d(t,"BindingPipe",function(){return Os}),n.d(t,"BoundDirectivePropertyAst",function(){return tc}),n.d(t,"BoundElementProperty",function(){return Gs}),n.d(t,"BoundElementPropertyAst",function(){return Gu}),n.d(t,"BoundEventAst",function(){return $u}),n.d(t,"BoundTextAst",function(){return Ku}),n.d(t,"BuiltinMethod",function(){return Re}),n.d(t,"BuiltinType",function(){return ke}),n.d(t,"BuiltinTypeName",function(){return me}),n.d(t,"BuiltinVar",function(){return Pe}),n.d(t,"CONTENT_ATTR",function(){return Qo}),n.d(t,"CUSTOM_ELEMENTS_SCHEMA",function(){return ie}),n.d(t,"CastExpr",function(){return ct}),n.d(t,"Chain",function(){return ks}),n.d(t,"ClassField",function(){return Nt}),n.d(t,"ClassMethod",function(){return Mt}),n.d(t,"ClassStmt",function(){return Pt}),n.d(t,"CommaExpr",function(){return bt}),n.d(t,"Comment",function(){return au}),n.d(t,"CompileDirectiveMetadata",function(){return ur}),n.d(t,"CompileMetadataResolver",function(){return Av}),n.d(t,"CompileNgModuleMetadata",function(){return hr}),n.d(t,"CompilePipeMetadata",function(){return cr}),n.d(t,"CompileReflector",function(){return wd}),n.d(t,"CompileShallowModuleMetadata",function(){return lr}),n.d(t,"CompileStylesheetMetadata",function(){return sr}),n.d(t,"CompileSummaryKind",function(){return $n}),n.d(t,"CompileTemplateMetadata",function(){return or}),n.d(t,"CompiledStylesheet",function(){return Go}),n.d(t,"CompilerConfig",function(){return Op}),n.d(t,"Conditional",function(){return Es}),n.d(t,"ConditionalExpr",function(){return st}),n.d(t,"ConstantPool",function(){return hn}),n.d(t,"CssSelector",function(){return D}),n.d(t,"DEFAULT_INTERPOLATION_CONFIG",function(){return Ba}),n.d(t,"DYNAMIC_TYPE",function(){return xe}),n.d(t,"DeclareFunctionStmt",function(){return Ct}),n.d(t,"DeclareVarStmt",function(){return wt}),n.d(t,"DirectiveAst",function(){return nc}),n.d(t,"DirectiveNormalizer",function(){return jp}),n.d(t,"DirectiveResolver",function(){return Ap}),n.d(t,"DomElementSchemaRegistry",function(){return Tl}),n.d(t,"EOF",function(){return il}),n.d(t,"ERROR_COMPONENT_TYPE",function(){return Nv}),n.d(t,"Element",function(){return iu}),n.d(t,"ElementAst",function(){return Zu}),n.d(t,"ElementSchemaRegistry",function(){return xl}),n.d(t,"EmbeddedTemplateAst",function(){return ec}),n.d(t,"EmitterVisitorContext",function(){return Mr}),n.d(t,"EmptyExpr",function(){return ys}),n.d(t,"Expansion",function(){return tu}),n.d(t,"ExpansionCase",function(){return nu}),n.d(t,"Expression",function(){return Ie}),n.d(t,"ExpressionBinding",function(){return Hs}),n.d(t,"ExpressionStatement",function(){return Ot}),n.d(t,"ExpressionType",function(){return Ee}),n.d(t,"ExternalExpr",function(){return it}),n.d(t,"ExternalReference",function(){return at}),n.d(t,"Extractor",function(){return Id}),n.d(t,"FunctionCall",function(){return Ls}),n.d(t,"FunctionExpr",function(){return ht}),n.d(t,"GeneratedFile",function(){return gf}),n.d(t,"HOST_ATTR",function(){return Ko}),n.d(t,"HtmlParser",function(){return Pu}),n.d(t,"HtmlTagDefinition",function(){return M}),n.d(t,"I18NHtmlParser",function(){return iv}),n.d(t,"Identifiers",function(){return yn}),n.d(t,"IfStmt",function(){return It}),n.d(t,"ImplicitReceiver",function(){return gs}),n.d(t,"InstantiateExpr",function(){return ze}),n.d(t,"Interpolation",function(){return Ms}),n.d(t,"InterpolationConfig",function(){return La}),n.d(t,"InvokeFunctionExpr",function(){return qe}),n.d(t,"InvokeMethodExpr",function(){return He}),n.d(t,"IvyParser",function(){return ml}),n.d(t,"JSDocComment",function(){return St}),n.d(t,"JitCompiler",function(){return Ed}),n.d(t,"JitEvaluator",function(){return Wa}),n.d(t,"JitSummaryResolver",function(){return vd}),n.d(t,"KeyedRead",function(){return ws}),n.d(t,"KeyedWrite",function(){return Cs}),n.d(t,"LeadingComment",function(){return _t}),n.d(t,"Lexer",function(){return el}),n.d(t,"LiteralArray",function(){return js}),n.d(t,"LiteralArrayExpr",function(){return mt}),n.d(t,"LiteralExpr",function(){return Ke}),n.d(t,"LiteralMap",function(){return Ns}),n.d(t,"LiteralMapExpr",function(){return gt}),n.d(t,"LiteralPrimitive",function(){return Ts}),n.d(t,"LocalizedString",function(){return Je}),n.d(t,"MapType",function(){return Se}),n.d(t,"MessageBundle",function(){return mf}),n.d(t,"MethodCall",function(){return Ds}),n.d(t,"NAMED_ENTITIES",function(){return O}),n.d(t,"NGSP_UNICODE",function(){return T}),n.d(t,"NONE_TYPE",function(){return je}),n.d(t,"NO_ERRORS_SCHEMA",function(){return ae}),n.d(t,"NgContentAst",function(){return ic}),n.d(t,"NgModuleCompiler",function(){return zv}),n.d(t,"NgModuleResolver",function(){return Kv}),n.d(t,"NodeWithI18n",function(){return Zo}),n.d(t,"NonNullAssert",function(){return Rs}),n.d(t,"NotExpr",function(){return ot}),n.d(t,"NullTemplateVisitor",function(){return ac}),n.d(t,"ParseError",function(){return ts}),n.d(t,"ParseErrorLevel",function(){return Ya}),n.d(t,"ParseLocation",function(){return Ja}),n.d(t,"ParseSourceFile",function(){return Za}),n.d(t,"ParseSourceSpan",function(){return es}),n.d(t,"ParseSpan",function(){return vs}),n.d(t,"ParseTreeResult",function(){return ju}),n.d(t,"ParsedEvent",function(){return Qs}),n.d(t,"ParsedProperty",function(){return Ks}),n.d(t,"ParsedPropertyType",function(){return hs}),n.d(t,"ParsedVariable",function(){return Xs}),n.d(t,"Parser",function(){return dl}),n.d(t,"ParserError",function(){return ps}),n.d(t,"PipeResolver",function(){return $v}),n.d(t,"PrefixNot",function(){return Is}),n.d(t,"PropertyRead",function(){return _s}),n.d(t,"PropertyWrite",function(){return Ss}),n.d(t,"ProviderAst",function(){return rc}),n.d(t,"ProviderAstType",function(){return Wu}),n.d(t,"ProviderMeta",function(){return fr}),n.d(t,"Quote",function(){return ms}),n.d(t,"R3BoundTarget",function(){return Bd}),n.d(t,"R3FactoryTarget",function(){return Sa}),n.d(t,"R3Identifiers",function(){return _r}),n.d(t,"R3ResolvedDependencyType",function(){return xa}),n.d(t,"R3TargetBinder",function(){return Rd}),n.d(t,"ReadKeyExpr",function(){return dt}),n.d(t,"ReadPropExpr",function(){return ft}),n.d(t,"ReadVarExpr",function(){return De}),n.d(t,"RecursiveAstVisitor",function(){return qs}),n.d(t,"RecursiveTemplateAstVisitor",function(){return sc}),n.d(t,"RecursiveVisitor",function(){return uu}),n.d(t,"ReferenceAst",function(){return Yu}),n.d(t,"ResolvedStaticSymbol",function(){return xf}),n.d(t,"ResourceLoader",function(){return rp}),n.d(t,"ReturnStatement",function(){return Tt}),n.d(t,"STRING_TYPE",function(){return Te}),n.d(t,"SafeMethodCall",function(){return Fs}),n.d(t,"SafePropertyRead",function(){return xs}),n.d(t,"SelectorContext",function(){return B}),n.d(t,"SelectorListContext",function(){return L}),n.d(t,"SelectorMatcher",function(){return F}),n.d(t,"Serializer",function(){return Li}),n.d(t,"SplitInterpolation",function(){return vl}),n.d(t,"Statement",function(){return xt}),n.d(t,"StaticReflector",function(){return Jf}),n.d(t,"StaticSymbol",function(){return kn}),n.d(t,"StaticSymbolCache",function(){return En}),n.d(t,"StaticSymbolResolver",function(){return wf}),n.d(t,"StmtModifier",function(){return rt}),n.d(t,"StyleCompiler",function(){return $o}),n.d(t,"StylesCompileDependency",function(){return Xo}),n.d(t,"SummaryResolver",function(){return pd}),n.d(t,"TagContentType",function(){return i}),n.d(t,"TaggedTemplateExpr",function(){return We}),n.d(t,"TemplateBindingParseResult",function(){return fl}),n.d(t,"TemplateLiteral",function(){return Qe}),n.d(t,"TemplateLiteralElement",function(){return Xe}),n.d(t,"TemplateParseError",function(){return Ac}),n.d(t,"TemplateParseResult",function(){return Pc}),n.d(t,"TemplateParser",function(){return Ic}),n.d(t,"Text",function(){return eu}),n.d(t,"TextAst",function(){return zu}),n.d(t,"ThisReceiver",function(){return bs}),n.d(t,"ThrowStmt",function(){return Dt}),n.d(t,"TmplAstBoundAttribute",function(){return Qr}),n.d(t,"TmplAstBoundEvent",function(){return Xr}),n.d(t,"TmplAstBoundText",function(){return zr}),n.d(t,"TmplAstContent",function(){return Yr}),n.d(t,"TmplAstElement",function(){return Gr}),n.d(t,"TmplAstIcu",function(){return ei}),n.d(t,"TmplAstRecursiveVisitor",function(){return ti}),n.d(t,"TmplAstReference",function(){return Zr}),n.d(t,"TmplAstTemplate",function(){return $r}),n.d(t,"TmplAstText",function(){return Wr}),n.d(t,"TmplAstTextAttribute",function(){return Kr}),n.d(t,"TmplAstVariable",function(){return Jr}),n.d(t,"Token",function(){return tl}),n.d(t,"TokenType",function(){return Xc}),n.d(t,"TransitiveCompileNgModuleMetadata",function(){return pr}),n.d(t,"TreeError",function(){return Tu}),n.d(t,"TryCatchStmt",function(){return Rt}),n.d(t,"Type",function(){return ye}),n.d(t,"TypeScriptEmitter",function(){return Xv}),n.d(t,"TypeofExpr",function(){return Fe}),n.d(t,"Unary",function(){return Ps}),n.d(t,"UnaryOperator",function(){return ge}),n.d(t,"UnaryOperatorExpr",function(){return pt}),n.d(t,"UrlResolver",function(){return Td}),n.d(t,"VERSION",function(){return Cp}),n.d(t,"VariableAst",function(){return Ju}),n.d(t,"VariableBinding",function(){return Us}),n.d(t,"Version",function(){return qn}),n.d(t,"ViewCompiler",function(){return tf}),n.d(t,"WrappedNodeExpr",function(){return Le}),n.d(t,"WriteKeyExpr",function(){return Ve}),n.d(t,"WritePropExpr",function(){return Ue}),n.d(t,"WriteVarExpr",function(){return Be}),n.d(t,"Xliff",function(){return zp}),n.d(t,"Xliff2",function(){return Gp}),n.d(t,"Xmb",function(){return Gi}),n.d(t,"XmlParser",function(){return Wp}),n.d(t,"Xtb",function(){return Zp}),n.d(t,"_ParseAST",function(){return gl}),n.d(t,"analyzeAndValidateNgModules",function(){return Lf}),n.d(t,"analyzeFile",function(){return Vf}),n.d(t,"analyzeFileForInjectables",function(){return Uf}),n.d(t,"analyzeNgModules",function(){return Ff}),n.d(t,"collectExternalReferences",function(){return Ut}),n.d(t,"compileComponentFromMetadata",function(){return qh}),n.d(t,"compileDeclareComponentFromMetadata",function(){return zd}),n.d(t,"compileDeclareDirectiveFromMetadata",function(){return Hd}),n.d(t,"compileDeclarePipeFromMetadata",function(){return Qd}),n.d(t,"compileDirectiveFromMetadata",function(){return Hh}),n.d(t,"compileFactoryFunction",function(){return ja}),n.d(t,"compileInjectable",function(){return Aa}),n.d(t,"compileInjector",function(){return ss}),n.d(t,"compileNgModule",function(){return as}),n.d(t,"compilePipeFromMetadata",function(){return cs}),n.d(t,"componentFactoryName",function(){return rr}),n.d(t,"computeMsgId",function(){return wi}),n.d(t,"core",function(){return de}),n.d(t,"createAotCompiler",function(){return hd}),n.d(t,"createAotUrlResolver",function(){return ld}),n.d(t,"createElementCssSelector",function(){return Vc}),n.d(t,"createLoweredSymbol",function(){return Cv}),n.d(t,"createOfflineCompileUrlResolver",function(){return Od}),n.d(t,"createUrlResolverWithoutPackagePrefix",function(){return Cd}),n.d(t,"debugOutputAstAsTypeScript",function(){return Qv}),n.d(t,"devOnlyGuardedExpression",function(){return Ur}),n.d(t,"findNode",function(){return cu}),n.d(t,"flatten",function(){return dr}),n.d(t,"formattedError",function(){return zf}),n.d(t,"getHtmlTagDefinition",function(){return A}),n.d(t,"getMissingNgModuleMetadataErrorData",function(){return Mv}),n.d(t,"getNsPrefix",function(){return w}),n.d(t,"getParseErrors",function(){return Fn}),n.d(t,"getSafePropertyAccessString",function(){return Br}),n.d(t,"getUrlScheme",function(){return jd}),n.d(t,"hostViewClassName",function(){return nr}),n.d(t,"identifierModuleUrl",function(){return Zn}),n.d(t,"identifierName",function(){return Jn}),n.d(t,"isEmptyExpression",function(){return zc}),n.d(t,"isFormattedError",function(){return Kf}),n.d(t,"isIdentifier",function(){return ol}),n.d(t,"isLoweredSymbol",function(){return wv}),n.d(t,"isNgContainer",function(){return _}),n.d(t,"isNgContent",function(){return S}),n.d(t,"isNgTemplate",function(){return x}),n.d(t,"isQuote",function(){return ll}),n.d(t,"isSyntaxError",function(){return Dn}),n.d(t,"jsDocComment",function(){return Qt}),n.d(t,"leadingComment",function(){return Kt}),n.d(t,"literalMap",function(){return en}),n.d(t,"makeBindingParser",function(){return Mh}),n.d(t,"mergeAnalyzedFiles",function(){return Hf}),n.d(t,"mergeNsAndName",function(){return C}),n.d(t,"ngModuleJitUrl",function(){return br}),n.d(t,"parseHostBindings",function(){return tp}),n.d(t,"parseTemplate",function(){return jh}),n.d(t,"preserveWhitespacesDefault",function(){return Tp}),n.d(t,"publishFacade",function(){return wp}),n.d(t,"r3JitTypeSourceSpan",function(){return rs}),n.d(t,"removeSummaryDuplicates",function(){return Wc}),n.d(t,"rendererTypeName",function(){return tr}),n.d(t,"sanitizeIdentifier",function(){return Gn}),n.d(t,"sharedStylesheetJitUrl",function(){return gr}),n.d(t,"splitClasses",function(){return Lc}),n.d(t,"splitNsName",function(){return E}),n.d(t,"syntaxError",function(){return Pn}),n.d(t,"templateJitUrl",function(){return kr}),n.d(t,"templateSourceUrl",function(){return yr}),n.d(t,"templateVisitAll",function(){return oc}),n.d(t,"toTypeScript",function(){return bf}),n.d(t,"tokenName",function(){return ir}),n.d(t,"tokenReference",function(){return ar}),n.d(t,"typeSourceSpan",function(){return ns}),n.d(t,"unescapeIdentifier",function(){return Cf}),n.d(t,"unwrapResolvedMetadata",function(){return Of}),n.d(t,"verifyHostBindings",function(){return np}),n.d(t,"viewClassName",function(){return er}),n.d(t,"visitAll",function(){return su});var r,i,a=n("RQB8"),s=n.n(a),o=n("TR1e"),u=n("+EXs"),c=n("UDiu"),l=n("q7pc"),h=n("95OS"),p=n("JL25"),v=n("QdLy"),f=n("t9bE"),d=n("KUzl"),m=n("mvVQ"),y=n("/E8u"),g=n("8vcG"),b=n("MGFw"),k=n("WtWf");function E(e){if(":"!=e[0])return[null,e];var t=e.indexOf(":",1);if(-1==t)throw new Error('Unsupported format "'.concat(e,'" expecting ":namespace:name"'));return[e.slice(1,t),e.slice(t+1)]}function _(e){return"ng-container"===E(e)[1]}function S(e){return"ng-content"===E(e)[1]}function x(e){return"ng-template"===E(e)[1]}function w(e){return null===e?null:E(e)[0]}function C(e,t){return e?":".concat(e,":").concat(t):t}!function(e){e[e.RAW_TEXT=0]="RAW_TEXT",e[e.ESCAPABLE_RAW_TEXT=1]="ESCAPABLE_RAW_TEXT",e[e.PARSABLE_DATA=2]="PARSABLE_DATA"}(i||(i={}));var O={Aacute:"\xc1",aacute:"\xe1",Acirc:"\xc2",acirc:"\xe2",acute:"\xb4",AElig:"\xc6",aelig:"\xe6",Agrave:"\xc0",agrave:"\xe0",alefsym:"\u2135",Alpha:"\u0391",alpha:"\u03b1",amp:"&",and:"\u2227",ang:"\u2220",apos:"'",Aring:"\xc5",aring:"\xe5",asymp:"\u2248",Atilde:"\xc3",atilde:"\xe3",Auml:"\xc4",auml:"\xe4",bdquo:"\u201e",Beta:"\u0392",beta:"\u03b2",brvbar:"\xa6",bull:"\u2022",cap:"\u2229",Ccedil:"\xc7",ccedil:"\xe7",cedil:"\xb8",cent:"\xa2",Chi:"\u03a7",chi:"\u03c7",circ:"\u02c6",clubs:"\u2663",cong:"\u2245",copy:"\xa9",crarr:"\u21b5",cup:"\u222a",curren:"\xa4",dagger:"\u2020",Dagger:"\u2021",darr:"\u2193",dArr:"\u21d3",deg:"\xb0",Delta:"\u0394",delta:"\u03b4",diams:"\u2666",divide:"\xf7",Eacute:"\xc9",eacute:"\xe9",Ecirc:"\xca",ecirc:"\xea",Egrave:"\xc8",egrave:"\xe8",empty:"\u2205",emsp:"\u2003",ensp:"\u2002",Epsilon:"\u0395",epsilon:"\u03b5",equiv:"\u2261",Eta:"\u0397",eta:"\u03b7",ETH:"\xd0",eth:"\xf0",Euml:"\xcb",euml:"\xeb",euro:"\u20ac",exist:"\u2203",fnof:"\u0192",forall:"\u2200",frac12:"\xbd",frac14:"\xbc",frac34:"\xbe",frasl:"\u2044",Gamma:"\u0393",gamma:"\u03b3",ge:"\u2265",gt:">",harr:"\u2194",hArr:"\u21d4",hearts:"\u2665",hellip:"\u2026",Iacute:"\xcd",iacute:"\xed",Icirc:"\xce",icirc:"\xee",iexcl:"\xa1",Igrave:"\xcc",igrave:"\xec",image:"\u2111",infin:"\u221e",int:"\u222b",Iota:"\u0399",iota:"\u03b9",iquest:"\xbf",isin:"\u2208",Iuml:"\xcf",iuml:"\xef",Kappa:"\u039a",kappa:"\u03ba",Lambda:"\u039b",lambda:"\u03bb",lang:"\u27e8",laquo:"\xab",larr:"\u2190",lArr:"\u21d0",lceil:"\u2308",ldquo:"\u201c",le:"\u2264",lfloor:"\u230a",lowast:"\u2217",loz:"\u25ca",lrm:"\u200e",lsaquo:"\u2039",lsquo:"\u2018",lt:"<",macr:"\xaf",mdash:"\u2014",micro:"\xb5",middot:"\xb7",minus:"\u2212",Mu:"\u039c",mu:"\u03bc",nabla:"\u2207",nbsp:"\xa0",ndash:"\u2013",ne:"\u2260",ni:"\u220b",not:"\xac",notin:"\u2209",nsub:"\u2284",Ntilde:"\xd1",ntilde:"\xf1",Nu:"\u039d",nu:"\u03bd",Oacute:"\xd3",oacute:"\xf3",Ocirc:"\xd4",ocirc:"\xf4",OElig:"\u0152",oelig:"\u0153",Ograve:"\xd2",ograve:"\xf2",oline:"\u203e",Omega:"\u03a9",omega:"\u03c9",Omicron:"\u039f",omicron:"\u03bf",oplus:"\u2295",or:"\u2228",ordf:"\xaa",ordm:"\xba",Oslash:"\xd8",oslash:"\xf8",Otilde:"\xd5",otilde:"\xf5",otimes:"\u2297",Ouml:"\xd6",ouml:"\xf6",para:"\xb6",permil:"\u2030",perp:"\u22a5",Phi:"\u03a6",phi:"\u03c6",Pi:"\u03a0",pi:"\u03c0",piv:"\u03d6",plusmn:"\xb1",pound:"\xa3",prime:"\u2032",Prime:"\u2033",prod:"\u220f",prop:"\u221d",Psi:"\u03a8",psi:"\u03c8",quot:'"',radic:"\u221a",rang:"\u27e9",raquo:"\xbb",rarr:"\u2192",rArr:"\u21d2",rceil:"\u2309",rdquo:"\u201d",real:"\u211c",reg:"\xae",rfloor:"\u230b",Rho:"\u03a1",rho:"\u03c1",rlm:"\u200f",rsaquo:"\u203a",rsquo:"\u2019",sbquo:"\u201a",Scaron:"\u0160",scaron:"\u0161",sdot:"\u22c5",sect:"\xa7",shy:"\xad",Sigma:"\u03a3",sigma:"\u03c3",sigmaf:"\u03c2",sim:"\u223c",spades:"\u2660",sub:"\u2282",sube:"\u2286",sum:"\u2211",sup:"\u2283",sup1:"\xb9",sup2:"\xb2",sup3:"\xb3",supe:"\u2287",szlig:"\xdf",Tau:"\u03a4",tau:"\u03c4",there4:"\u2234",Theta:"\u0398",theta:"\u03b8",thetasym:"\u03d1",thinsp:"\u2009",THORN:"\xde",thorn:"\xfe",tilde:"\u02dc",times:"\xd7",trade:"\u2122",Uacute:"\xda",uacute:"\xfa",uarr:"\u2191",uArr:"\u21d1",Ucirc:"\xdb",ucirc:"\xfb",Ugrave:"\xd9",ugrave:"\xf9",uml:"\xa8",upsih:"\u03d2",Upsilon:"\u03a5",upsilon:"\u03c5",Uuml:"\xdc",uuml:"\xfc",weierp:"\u2118",Xi:"\u039e",xi:"\u03be",Yacute:"\xdd",yacute:"\xfd",yen:"\xa5",yuml:"\xff",Yuml:"\u0178",Zeta:"\u0396",zeta:"\u03b6",zwj:"\u200d",zwnj:"\u200c"},T="\ue500";O.ngsp=T;var j,N,M=function(){function e(){var t=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=n.closedByChildren,a=n.implicitNamespacePrefix,s=n.contentType,o=void 0===s?i.PARSABLE_DATA:s,u=n.closedByParent,c=void 0!==u&&u,l=n.isVoid,h=void 0!==l&&l,p=n.ignoreFirstLf,v=void 0!==p&&p,f=n.preventNamespaceInheritance,d=void 0!==f&&f;Object(b.a)(this,e),this.closedByChildren={},this.closedByParent=!1,this.canSelfClose=!1,r&&r.length>0&&r.forEach(function(e){return t.closedByChildren[e]=!0}),this.isVoid=h,this.closedByParent=c||h,this.implicitNamespacePrefix=a||null,this.contentType=o,this.ignoreFirstLf=v,this.preventNamespaceInheritance=d}return Object(k.a)(e,[{key:"isClosedByChild",value:function(e){return this.isVoid||e.toLowerCase()in this.closedByChildren}},{key:"getContentType",value:function(e){if("object"==typeof this.contentType){var t=null==e?void 0:this.contentType[e];return null!=t?t:this.contentType.default}return this.contentType}}]),e}();function A(e){var t,n;return N||(j=new M,N={base:new M({isVoid:!0}),meta:new M({isVoid:!0}),area:new M({isVoid:!0}),embed:new M({isVoid:!0}),link:new M({isVoid:!0}),img:new M({isVoid:!0}),input:new M({isVoid:!0}),param:new M({isVoid:!0}),hr:new M({isVoid:!0}),br:new M({isVoid:!0}),source:new M({isVoid:!0}),track:new M({isVoid:!0}),wbr:new M({isVoid:!0}),p:new M({closedByChildren:["address","article","aside","blockquote","div","dl","fieldset","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","hr","main","nav","ol","p","pre","section","table","ul"],closedByParent:!0}),thead:new M({closedByChildren:["tbody","tfoot"]}),tbody:new M({closedByChildren:["tbody","tfoot"],closedByParent:!0}),tfoot:new M({closedByChildren:["tbody"],closedByParent:!0}),tr:new M({closedByChildren:["tr"],closedByParent:!0}),td:new M({closedByChildren:["td","th"],closedByParent:!0}),th:new M({closedByChildren:["td","th"],closedByParent:!0}),col:new M({isVoid:!0}),svg:new M({implicitNamespacePrefix:"svg"}),foreignObject:new M({implicitNamespacePrefix:"svg",preventNamespaceInheritance:!0}),math:new M({implicitNamespacePrefix:"math"}),li:new M({closedByChildren:["li"],closedByParent:!0}),dt:new M({closedByChildren:["dt","dd"]}),dd:new M({closedByChildren:["dt","dd"],closedByParent:!0}),rb:new M({closedByChildren:["rb","rt","rtc","rp"],closedByParent:!0}),rt:new M({closedByChildren:["rb","rt","rtc","rp"],closedByParent:!0}),rtc:new M({closedByChildren:["rb","rtc","rp"],closedByParent:!0}),rp:new M({closedByChildren:["rb","rt","rtc","rp"],closedByParent:!0}),optgroup:new M({closedByChildren:["optgroup"],closedByParent:!0}),option:new M({closedByChildren:["option","optgroup"],closedByParent:!0}),pre:new M({ignoreFirstLf:!0}),listing:new M({ignoreFirstLf:!0}),style:new M({contentType:i.RAW_TEXT}),script:new M({contentType:i.RAW_TEXT}),title:new M({contentType:{default:i.ESCAPABLE_RAW_TEXT,svg:i.PARSABLE_DATA}}),textarea:new M({contentType:i.ESCAPABLE_RAW_TEXT,ignoreFirstLf:!0})}),null!==(n=null!==(t=N[e])&&void 0!==t?t:N[e.toLowerCase()])&&void 0!==n?n:j}var P,I,R=new RegExp("(\\:not\\()|(([\\.\\#]?)[-\\w]+)|(?:\\[([-.\\w*]+)(?:=([\"']?)([^\\]\"']*)\\5)?\\])|(\\))|(\\s*,\\s*)","g"),D=function(){function e(){Object(b.a)(this,e),this.element=null,this.classNames=[],this.attrs=[],this.notSelectors=[]}return Object(k.a)(e,[{key:"isElementSelector",value:function(){return this.hasElementSelector()&&0==this.classNames.length&&0==this.attrs.length&&0===this.notSelectors.length}},{key:"hasElementSelector",value:function(){return!!this.element}},{key:"setElement",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;this.element=e}},{key:"getMatchingElementTemplate",value:function(){for(var e=this.element||"div",t=this.classNames.length>0?' class="'.concat(this.classNames.join(" "),'"'):"",n="",r=0;r<this.attrs.length;r+=2){var i=this.attrs[r],a=""!==this.attrs[r+1]?'="'.concat(this.attrs[r+1],'"'):"";n+=" ".concat(i).concat(a)}return A(e).isVoid?"<".concat(e).concat(t).concat(n,"/>"):"<".concat(e).concat(t).concat(n,"></").concat(e,">")}},{key:"getAttrs",value:function(){var e=[];return this.classNames.length>0&&e.push("class",this.classNames.join(" ")),e.concat(this.attrs)}},{key:"addAttribute",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";this.attrs.push(e,t&&t.toLowerCase()||"")}},{key:"addClassName",value:function(e){this.classNames.push(e.toLowerCase())}},{key:"toString",value:function(){var e=this.element||"";if(this.classNames&&this.classNames.forEach(function(t){return e+=".".concat(t)}),this.attrs)for(var t=0;t<this.attrs.length;t+=2){var n=this.attrs[t],r=this.attrs[t+1];e+="[".concat(n).concat(r?"="+r:"","]")}return this.notSelectors.forEach(function(t){return e+=":not(".concat(t,")")}),e}}],[{key:"parse",value:function(t){var n,r=[],i=function(e,t){t.notSelectors.length>0&&!t.element&&0==t.classNames.length&&0==t.attrs.length&&(t.element="*"),e.push(t)},a=new e,s=a,o=!1;for(R.lastIndex=0;n=R.exec(t);){if(n[1]){if(o)throw new Error("Nesting :not in a selector is not allowed");o=!0,s=new e,a.notSelectors.push(s)}var u=n[2];if(u){var c=n[3];"#"===c?s.addAttribute("id",u.substr(1)):"."===c?s.addClassName(u.substr(1)):s.setElement(u)}var l=n[4];if(l&&s.addAttribute(l,n[6]),n[7]&&(o=!1,s=a),n[8]){if(o)throw new Error("Multiple selectors in :not are not supported");i(r,a),a=s=new e}}return i(r,a),r}}]),e}(),F=function(){function e(){Object(b.a)(this,e),this._elementMap=new Map,this._elementPartialMap=new Map,this._classMap=new Map,this._classPartialMap=new Map,this._attrValueMap=new Map,this._attrValuePartialMap=new Map,this._listContexts=[]}return Object(k.a)(e,[{key:"addSelectables",value:function(e,t){var n=null;e.length>1&&(n=new L(e),this._listContexts.push(n));for(var r=0;r<e.length;r++)this._addSelectable(e[r],t,n)}},{key:"_addSelectable",value:function(e,t,n){var r=this,i=e.element,a=e.classNames,s=e.attrs,o=new B(e,t,n);i&&(0===s.length&&0===a.length?this._addTerminal(r._elementMap,i,o):r=this._addPartial(r._elementPartialMap,i));if(a)for(var u=0;u<a.length;u++){var c=0===s.length&&u===a.length-1,l=a[u];c?this._addTerminal(r._classMap,l,o):r=this._addPartial(r._classPartialMap,l)}if(s)for(var h=0;h<s.length;h+=2){var p=h===s.length-2,v=s[h],f=s[h+1];if(p){var d=r._attrValueMap,m=d.get(v);m||(m=new Map,d.set(v,m)),this._addTerminal(m,f,o)}else{var y=r._attrValuePartialMap,g=y.get(v);g||(g=new Map,y.set(v,g)),r=this._addPartial(g,f)}}}},{key:"_addTerminal",value:function(e,t,n){var r=e.get(t);r||(r=[],e.set(t,r)),r.push(n)}},{key:"_addPartial",value:function(t,n){var r=t.get(n);return r||(r=new e,t.set(n,r)),r}},{key:"match",value:function(e,t){for(var n=!1,r=e.element,i=e.classNames,a=e.attrs,s=0;s<this._listContexts.length;s++)this._listContexts[s].alreadyMatched=!1;if(n=this._matchTerminal(this._elementMap,r,e,t)||n,n=this._matchPartial(this._elementPartialMap,r,e,t)||n,i)for(var o=0;o<i.length;o++){var u=i[o];n=this._matchTerminal(this._classMap,u,e,t)||n,n=this._matchPartial(this._classPartialMap,u,e,t)||n}if(a)for(var c=0;c<a.length;c+=2){var l=a[c],h=a[c+1],p=this._attrValueMap.get(l);h&&(n=this._matchTerminal(p,"",e,t)||n),n=this._matchTerminal(p,h,e,t)||n;var v=this._attrValuePartialMap.get(l);h&&(n=this._matchPartial(v,"",e,t)||n),n=this._matchPartial(v,h,e,t)||n}return n}},{key:"_matchTerminal",value:function(e,t,n,r){if(!e||"string"!=typeof t)return!1;var i=e.get(t)||[],a=e.get("*");if(a&&(i=i.concat(a)),0===i.length)return!1;for(var s=!1,o=0;o<i.length;o++)s=i[o].finalize(n,r)||s;return s}},{key:"_matchPartial",value:function(e,t,n,r){if(!e||"string"!=typeof t)return!1;var i=e.get(t);return!!i&&i.match(n,r)}}],[{key:"createNotMatcher",value:function(t){var n=new e;return n.addSelectables(t,null),n}}]),e}(),L=function e(t){Object(b.a)(this,e),this.selectors=t,this.alreadyMatched=!1},B=function(){function e(t,n,r){Object(b.a)(this,e),this.selector=t,this.cbContext=n,this.listContext=r,this.notSelectors=t.notSelectors}return Object(k.a)(e,[{key:"finalize",value:function(e,t){var n=!0;!(this.notSelectors.length>0)||this.listContext&&this.listContext.alreadyMatched||(n=!F.createNotMatcher(this.notSelectors).match(e,null));return!n||!t||this.listContext&&this.listContext.alreadyMatched||(this.listContext&&(this.listContext.alreadyMatched=!0),t(this.selector,this.cbContext)),n}}]),e}(),V=he("Inject",function(e){return{token:e}}),U=he("InjectionToken",function(e){return{_desc:e,"\u0275prov":void 0}}),H=he("Attribute",function(e){return{attributeName:e}}),q=he("ContentChildren",function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object.assign({selector:e,first:!1,isViewQuery:!1,descendants:!1,emitDistinctChangesOnly:!1},t)}),W=he("ContentChild",function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object.assign({selector:e,first:!0,isViewQuery:!1,descendants:!0},t)}),z=he("ViewChildren",function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object.assign({selector:e,first:!1,isViewQuery:!0,descendants:!0,emitDistinctChangesOnly:!1},t)}),K=he("ViewChild",function(e,t){return Object.assign({selector:e,first:!0,isViewQuery:!0,descendants:!0},t)}),Q=he("Directive",function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e});!function(e){e[e.Emulated=0]="Emulated",e[e.None=2]="None",e[e.ShadowDom=3]="ShadowDom"}(P||(P={})),function(e){e[e.OnPush=0]="OnPush",e[e.Default=1]="Default"}(I||(I={}));var X,G,$=he("Component",function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object.assign({changeDetection:I.Default},e)}),Y=he("Pipe",function(e){return Object.assign({pure:!0},e)}),J=he("Input",function(e){return{bindingPropertyName:e}}),Z=he("Output",function(e){return{bindingPropertyName:e}}),ee=he("HostBinding",function(e){return{hostPropertyName:e}}),te=he("HostListener",function(e,t){return{eventName:e,args:t}}),ne=he("NgModule",function(e){return e}),re=he("Injectable",function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e}),ie={name:"custom-elements"},ae={name:"no-errors-schema"},se=he("Optional"),oe=he("Self"),ue=he("SkipSelf"),ce=he("Host"),le=Function;function he(e,t){function n(){var n=t?t.apply(void 0,arguments):{};return Object.assign({ngMetadataName:e},n)}return n.isTypeOf=function(t){return t&&t.ngMetadataName===e},n.ngMetadataName=e,n}function pe(e){var t=function(e){var t=e.classNames&&e.classNames.length?[8].concat(Object(g.a)(e.classNames)):[];return[e.element&&"*"!==e.element?e.element:""].concat(Object(g.a)(e.attrs),Object(g.a)(t))}(e),n=e.notSelectors&&e.notSelectors.length?e.notSelectors.map(function(e){return function(e){var t=e.classNames&&e.classNames.length?[8].concat(Object(g.a)(e.classNames)):[];return e.element?[5,e.element].concat(Object(g.a)(e.attrs),Object(g.a)(t)):e.attrs.length?[3].concat(Object(g.a)(e.attrs),Object(g.a)(t)):e.classNames&&e.classNames.length?[9].concat(Object(g.a)(e.classNames)):[]}(e)}):[];return t.concat.apply(t,Object(g.a)(n))}function ve(e){return e?D.parse(e).map(pe):[]}!function(e){e[e.NONE=0]="NONE",e[e.HTML=1]="HTML",e[e.STYLE=2]="STYLE",e[e.SCRIPT=3]="SCRIPT",e[e.URL=4]="URL",e[e.RESOURCE_URL=5]="RESOURCE_URL"}(X||(X={})),function(e){e[e.Error=0]="Error",e[e.Warning=1]="Warning",e[e.Ignore=2]="Ignore"}(G||(G={}));var fe,de=Object.freeze({__proto__:null,createInject:V,createInjectionToken:U,createAttribute:H,emitDistinctChangesOnlyDefaultValue:!1,createContentChildren:q,createContentChild:W,createViewChildren:z,createViewChild:K,createDirective:Q,get ViewEncapsulation(){return P},get ChangeDetectionStrategy(){return I},createComponent:$,createPipe:Y,createInput:J,createOutput:Z,createHostBinding:ee,createHostListener:te,createNgModule:ne,createInjectable:re,CUSTOM_ELEMENTS_SCHEMA:ie,NO_ERRORS_SCHEMA:ae,createOptional:se,createSelf:oe,createSkipSelf:ue,createHost:ce,Type:le,get SecurityContext(){return X},get MissingTranslationStrategy(){return G},parseSelectorToR3Selector:ve});!function(e){e[e.Const=0]="Const"}(fe||(fe={}));var me,ye=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];Object(b.a)(this,e),this.modifiers=t}return Object(k.a)(e,[{key:"hasModifier",value:function(e){return-1!==this.modifiers.indexOf(e)}}]),e}();!function(e){e[e.Dynamic=0]="Dynamic",e[e.Bool=1]="Bool",e[e.String=2]="String",e[e.Int=3]="Int",e[e.Number=4]="Number",e[e.Function=5]="Function",e[e.Inferred=6]="Inferred",e[e.None=7]="None"}(me||(me={}));var ge,be,ke=function(e){Object(m.a)(n,e);var t=Object(y.a)(n);function n(e,r){var i;return Object(b.a)(this,n),(i=t.call(this,r)).name=e,i}return Object(k.a)(n,[{key:"visitType",value:function(e,t){return e.visitBuiltinType(this,t)}}]),n}(ye),Ee=function(e){Object(m.a)(n,e);var t=Object(y.a)(n);function n(e,r){var i,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return Object(b.a)(this,n),(i=t.call(this,r)).value=e,i.typeParams=a,i}return Object(k.a)(n,[{key:"visitType",value:function(e,t){return e.visitExpressionType(this,t)}}]),n}(ye),_e=function(e){Object(m.a)(n,e);var t=Object(y.a)(n);function n(e,r){var i;return Object(b.a)(this,n),(i=t.call(this,r)).of=e,i}return Object(k.a)(n,[{key:"visitType",value:function(e,t){return e.visitArrayType(this,t)}}]),n}(ye),Se=function(e){Object(m.a)(n,e);var t=Object(y.a)(n);function n(e,r){var i;return Object(b.a)(this,n),(i=t.call(this,r)).valueType=e||null,i}return Object(k.a)(n,[{key:"visitType",value:function(e,t){return e.visitMapType(this,t)}}]),n}(ye),xe=new ke(me.Dynamic),we=new ke(me.Inferred),Ce=new ke(me.Bool),Oe=(new ke(me.Int),new ke(me.Number)),Te=new ke(me.String),je=(new ke(me.Function),new ke(me.None));function Ne(e,t){return null==e||null==t?e==t:e.isEquivalent(t)}function Me(e,t,n){var r=e.length;if(r!==t.length)return!1;for(var i=0;i<r;i++)if(!n(e[i],t[i]))return!1;return!0}function Ae(e,t){return Me(e,t,function(e,t){return e.isEquivalent(t)})}!function(e){e[e.Minus=0]="Minus",e[e.Plus=1]="Plus"}(ge||(ge={})),function(e){e[e.Equals=0]="Equals",e[e.NotEquals=1]="NotEquals",e[e.Identical=2]="Identical",e[e.NotIdentical=3]="NotIdentical",e[e.Minus=4]="Minus",e[e.Plus=5]="Plus",e[e.Divide=6]="Divide",e[e.Multiply=7]="Multiply",e[e.Modulo=8]="Modulo",e[e.And=9]="And",e[e.Or=10]="Or",e[e.BitwiseAnd=11]="BitwiseAnd",e[e.Lower=12]="Lower",e[e.LowerEquals=13]="LowerEquals",e[e.Bigger=14]="Bigger",e[e.BiggerEquals=15]="BiggerEquals"}(be||(be={}));var Pe,Ie=function(){function e(t,n){Object(b.a)(this,e),this.type=t||null,this.sourceSpan=n||null}return Object(k.a)(e,[{key:"prop",value:function(e,t){return new ft(this,e,null,t)}},{key:"key",value:function(e,t,n){return new dt(this,e,t,n)}},{key:"callMethod",value:function(e,t,n){return new He(this,e,t,null,n)}},{key:"callFn",value:function(e,t,n){return new qe(this,e,null,t,n)}},{key:"instantiate",value:function(e,t,n){return new ze(this,e,t,n)}},{key:"conditional",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2?arguments[2]:void 0;return new st(this,e,t,null,n)}},{key:"equals",value:function(e,t){return new vt(be.Equals,this,e,null,t)}},{key:"notEquals",value:function(e,t){return new vt(be.NotEquals,this,e,null,t)}},{key:"identical",value:function(e,t){return new vt(be.Identical,this,e,null,t)}},{key:"notIdentical",value:function(e,t){return new vt(be.NotIdentical,this,e,null,t)}},{key:"minus",value:function(e,t){return new vt(be.Minus,this,e,null,t)}},{key:"plus",value:function(e,t){return new vt(be.Plus,this,e,null,t)}},{key:"divide",value:function(e,t){return new vt(be.Divide,this,e,null,t)}},{key:"multiply",value:function(e,t){return new vt(be.Multiply,this,e,null,t)}},{key:"modulo",value:function(e,t){return new vt(be.Modulo,this,e,null,t)}},{key:"and",value:function(e,t){return new vt(be.And,this,e,null,t)}},{key:"bitwiseAnd",value:function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return new vt(be.BitwiseAnd,this,e,null,t,n)}},{key:"or",value:function(e,t){return new vt(be.Or,this,e,null,t)}},{key:"lower",value:function(e,t){return new vt(be.Lower,this,e,null,t)}},{key:"lowerEquals",value:function(e,t){return new vt(be.LowerEquals,this,e,null,t)}},{key:"bigger",value:function(e,t){return new vt(be.Bigger,this,e,null,t)}},{key:"biggerEquals",value:function(e,t){return new vt(be.BiggerEquals,this,e,null,t)}},{key:"isBlank",value:function(e){return this.equals(Et,e)}},{key:"cast",value:function(e,t){return new ct(this,e,t)}},{key:"toStmt",value:function(){return new Ot(this,null)}}]),e}();!function(e){e[e.This=0]="This",e[e.Super=1]="Super",e[e.CatchError=2]="CatchError",e[e.CatchStack=3]="CatchStack"}(Pe||(Pe={}));var Re,De=function(e){Object(m.a)(n,e);var t=Object(y.a)(n);function n(e,r,i){var a;return Object(b.a)(this,n),a=t.call(this,r,i),"string"==typeof e?(a.name=e,a.builtin=null):(a.name=null,a.builtin=e),a}return Object(k.a)(n,[{key:"isEquivalent",value:function(e){return e instanceof n&&this.name===e.name&&this.builtin===e.builtin}},{key:"isConstant",value:function(){return!1}},{key:"visitExpression",value:function(e,t){return e.visitReadVarExpr(this,t)}},{key:"set",value:function(e){if(!this.name)throw new Error("Built in variable ".concat(this.builtin," can not be assigned to."));return new Be(this.name,e,null,this.sourceSpan)}}]),n}(Ie),Fe=function(e){Object(m.a)(n,e);var t=Object(y.a)(n);function n(e,r,i){var a;return Object(b.a)(this,n),(a=t.call(this,r,i)).expr=e,a}return Object(k.a)(n,[{key:"visitExpression",value:function(e,t){return e.visitTypeofExpr(this,t)}},{key:"isEquivalent",value:function(e){return e instanceof n&&e.expr.isEquivalent(this.expr)}},{key:"isConstant",value:function(){return this.expr.isConstant()}}]),n}(Ie),Le=function(e){Object(m.a)(n,e);var t=Object(y.a)(n);function n(e,r,i){var a;return Object(b.a)(this,n),(a=t.call(this,r,i)).node=e,a}return Object(k.a)(n,[{key:"isEquivalent",value:function(e){return e instanceof n&&this.node===e.node}},{key:"isConstant",value:function(){return!1}},{key:"visitExpression",value:function(e,t){return e.visitWrappedNodeExpr(this,t)}}]),n}(Ie),Be=function(e){Object(m.a)(n,e);var t=Object(y.a)(n);function n(e,r,i,a){var s;return Object(b.a)(this,n),(s=t.call(this,i||r.type,a)).name=e,s.value=r,s}return Object(k.a)(n,[{key:"isEquivalent",value:function(e){return e instanceof n&&this.name===e.name&&this.value.isEquivalent(e.value)}},{key:"isConstant",value:function(){return!1}},{key:"visitExpression",value:function(e,t){return e.visitWriteVarExpr(this,t)}},{key:"toDeclStmt",value:function(e,t){return new wt(this.name,this.value,e,t,this.sourceSpan)}},{key:"toConstDecl",value:function(){return this.toDeclStmt(we,[rt.Final])}}]),n}(Ie),Ve=function(e){Object(m.a)(n,e);var t=Object(y.a)(n);function n(e,r,i,a,s){var o;return Object(b.a)(this,n),(o=t.call(this,a||i.type,s)).receiver=e,o.index=r,o.value=i,o}return Object(k.a)(n,[{key:"isEquivalent",value:function(e){return e instanceof n&&this.receiver.isEquivalent(e.receiver)&&this.index.isEquivalent(e.index)&&this.value.isEquivalent(e.value)}},{key:"isConstant",value:function(){return!1}},{key:"visitExpression",value:function(e,t){return e.visitWriteKeyExpr(this,t)}}]),n}(Ie),Ue=function(e){Object(m.a)(n,e);var t=Object(y.a)(n);function n(e,r,i,a,s){var o;return Object(b.a)(this,n),(o=t.call(this,a||i.type,s)).receiver=e,o.name=r,o.value=i,o}return Object(k.a)(n,[{key:"isEquivalent",value:function(e){return e instanceof n&&this.receiver.isEquivalent(e.receiver)&&this.name===e.name&&this.value.isEquivalent(e.value)}},{key:"isConstant",value:function(){return!1}},{key:"visitExpression",value:function(e,t){return e.visitWritePropExpr(this,t)}}]),n}(Ie);!function(e){e[e.ConcatArray=0]="ConcatArray",e[e.SubscribeObservable=1]="SubscribeObservable",e[e.Bind=2]="Bind"}(Re||(Re={}));var He=function(e){Object(m.a)(n,e);var t=Object(y.a)(n);function n(e,r,i,a,s){var o;return Object(b.a)(this,n),(o=t.call(this,a,s)).receiver=e,o.args=i,"string"==typeof r?(o.name=r,o.builtin=null):(o.name=null,o.builtin=r),o}return Object(k.a)(n,[{key:"isEquivalent",value:function(e){return e instanceof n&&this.receiver.isEquivalent(e.receiver)&&this.name===e.name&&this.builtin===e.builtin&&Ae(this.args,e.args)}},{key:"isConstant",value:function(){return!1}},{key:"visitExpression",value:function(e,t){return e.visitInvokeMethodExpr(this,t)}}]),n}(Ie),qe=function(e){Object(m.a)(n,e);var t=Object(y.a)(n);function n(e,r,i,a){var s,o=arguments.length>4&&void 0!==arguments[4]&&arguments[4];return Object(b.a)(this,n),(s=t.call(this,i,a)).fn=e,s.args=r,s.pure=o,s}return Object(k.a)(n,[{key:"isEquivalent",value:function(e){return e instanceof n&&this.fn.isEquivalent(e.fn)&&Ae(this.args,e.args)&&this.pure===e.pure}},{key:"isConstant",value:function(){return!1}},{key:"visitExpression",value:function(e,t){return e.visitInvokeFunctionExpr(this,t)}}]),n}(Ie),We=function(e){Object(m.a)(n,e);var t=Object(y.a)(n);function n(e,r,i,a){var s;return Object(b.a)(this,n),(s=t.call(this,i,a)).tag=e,s.template=r,s}return Object(k.a)(n,[{key:"isEquivalent",value:function(e){return e instanceof n&&this.tag.isEquivalent(e.tag)&&Me(this.template.elements,e.template.elements,function(e,t){return e.text===t.text})&&Ae(this.template.expressions,e.template.expressions)}},{key:"isConstant",value:function(){return!1}},{key:"visitExpression",value:function(e,t){return e.visitTaggedTemplateExpr(this,t)}}]),n}(Ie),ze=function(e){Object(m.a)(n,e);var t=Object(y.a)(n);function n(e,r,i,a){var s;return Object(b.a)(this,n),(s=t.call(this,i,a)).classExpr=e,s.args=r,s}return Object(k.a)(n,[{key:"isEquivalent",value:function(e){return e instanceof n&&this.classExpr.isEquivalent(e.classExpr)&&Ae(this.args,e.args)}},{key:"isConstant",value:function(){return!1}},{key:"visitExpression",value:function(e,t){return e.visitInstantiateExpr(this,t)}}]),n}(Ie),Ke=function(e){Object(m.a)(n,e);var t=Object(y.a)(n);function n(e,r,i){var a;return Object(b.a)(this,n),(a=t.call(this,r,i)).value=e,a}return Object(k.a)(n,[{key:"isEquivalent",value:function(e){return e instanceof n&&this.value===e.value}},{key:"isConstant",value:function(){return!0}},{key:"visitExpression",value:function(e,t){return e.visitLiteralExpr(this,t)}}]),n}(Ie),Qe=function e(t,n){Object(b.a)(this,e),this.elements=t,this.expressions=n},Xe=function e(t,n,r){var i;Object(b.a)(this,e),this.text=t,this.sourceSpan=n,this.rawText=null!==(i=null!=r?r:null==n?void 0:n.toString())&&void 0!==i?i:tt(Ze(t))},Ge=function e(t,n){Object(b.a)(this,e),this.text=t,this.sourceSpan=n},$e=function(e){Object(m.a)(n,e);var t=Object(y.a)(n);function n(){return Object(b.a)(this,n),t.apply(this,arguments)}return n}(Ge),Ye=function(e){Object(m.a)(n,e);var t=Object(y.a)(n);function n(){return Object(b.a)(this,n),t.apply(this,arguments)}return n}(Ge),Je=function(e){Object(m.a)(n,e);var t=Object(y.a)(n);function n(e,r,i,a,s){var o;return Object(b.a)(this,n),(o=t.call(this,Te,s)).metaBlock=e,o.messageParts=r,o.placeHolderNames=i,o.expressions=a,o}return Object(k.a)(n,[{key:"isEquivalent",value:function(e){return!1}},{key:"isConstant",value:function(){return!1}},{key:"visitExpression",value:function(e,t){return e.visitLocalizedString(this,t)}},{key:"serializeI18nHead",value:function(){var e=this.metaBlock.description||"";return this.metaBlock.meaning&&(e="".concat(this.metaBlock.meaning).concat("|").concat(e)),this.metaBlock.customId&&(e="".concat(e).concat("@@").concat(this.metaBlock.customId)),this.metaBlock.legacyIds&&this.metaBlock.legacyIds.forEach(function(t){e="".concat(e).concat("\u241f").concat(t)}),nt(e,this.messageParts[0].text,this.getMessagePartSourceSpan(0))}},{key:"getMessagePartSourceSpan",value:function(e){var t,n;return null!==(n=null===(t=this.messageParts[e])||void 0===t?void 0:t.sourceSpan)&&void 0!==n?n:this.sourceSpan}},{key:"getPlaceholderSourceSpan",value:function(e){var t,n,r,i;return null!==(i=null!==(n=null===(t=this.placeHolderNames[e])||void 0===t?void 0:t.sourceSpan)&&void 0!==n?n:null===(r=this.expressions[e])||void 0===r?void 0:r.sourceSpan)&&void 0!==i?i:this.sourceSpan}},{key:"serializeI18nTemplatePart",value:function(e){return nt(this.placeHolderNames[e-1].text,this.messageParts[e].text,this.getMessagePartSourceSpan(e))}}]),n}(Ie),Ze=function(e){return e.replace(/\\/g,"\\\\")},et=function(e){return e.replace(/:/g,"\\:")},tt=function(e){return e.replace(/`/g,"\\`").replace(/\${/g,"$\\{")};function nt(e,t,n){return""===e?{cooked:t,raw:tt((r=Ze(t),r.replace(/^:/,"\\:"))),range:n}:{cooked:":".concat(e,":").concat(t),raw:tt(":".concat(et(Ze(e)),":").concat(Ze(t))),range:n};var r}var rt,it=function(e){Object(m.a)(n,e);var t=Object(y.a)(n);function n(e,r){var i,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,s=arguments.length>3?arguments[3]:void 0;return Object(b.a)(this,n),(i=t.call(this,r,s)).value=e,i.typeParams=a,i}return Object(k.a)(n,[{key:"isEquivalent",value:function(e){return e instanceof n&&this.value.name===e.value.name&&this.value.moduleName===e.value.moduleName&&this.value.runtime===e.value.runtime}},{key:"isConstant",value:function(){return!1}},{key:"visitExpression",value:function(e,t){return e.visitExternalExpr(this,t)}}]),n}(Ie),at=function e(t,n,r){Object(b.a)(this,e),this.moduleName=t,this.name=n,this.runtime=r},st=function(e){Object(m.a)(n,e);var t=Object(y.a)(n);function n(e,r){var i,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,s=arguments.length>3?arguments[3]:void 0,o=arguments.length>4?arguments[4]:void 0;return Object(b.a)(this,n),(i=t.call(this,s||r.type,o)).condition=e,i.falseCase=a,i.trueCase=r,i}return Object(k.a)(n,[{key:"isEquivalent",value:function(e){return e instanceof n&&this.condition.isEquivalent(e.condition)&&this.trueCase.isEquivalent(e.trueCase)&&Ne(this.falseCase,e.falseCase)}},{key:"isConstant",value:function(){return!1}},{key:"visitExpression",value:function(e,t){return e.visitConditionalExpr(this,t)}}]),n}(Ie),ot=function(e){Object(m.a)(n,e);var t=Object(y.a)(n);function n(e,r){var i;return Object(b.a)(this,n),(i=t.call(this,Ce,r)).condition=e,i}return Object(k.a)(n,[{key:"isEquivalent",value:function(e){return e instanceof n&&this.condition.isEquivalent(e.condition)}},{key:"isConstant",value:function(){return!1}},{key:"visitExpression",value:function(e,t){return e.visitNotExpr(this,t)}}]),n}(Ie),ut=function(e){Object(m.a)(n,e);var t=Object(y.a)(n);function n(e,r){var i;return Object(b.a)(this,n),(i=t.call(this,e.type,r)).condition=e,i}return Object(k.a)(n,[{key:"isEquivalent",value:function(e){return e instanceof n&&this.condition.isEquivalent(e.condition)}},{key:"isConstant",value:function(){return!1}},{key:"visitExpression",value:function(e,t){return e.visitAssertNotNullExpr(this,t)}}]),n}(Ie),ct=function(e){Object(m.a)(n,e);var t=Object(y.a)(n);function n(e,r,i){var a;return Object(b.a)(this,n),(a=t.call(this,r,i)).value=e,a}return Object(k.a)(n,[{key:"isEquivalent",value:function(e){return e instanceof n&&this.value.isEquivalent(e.value)}},{key:"isConstant",value:function(){return!1}},{key:"visitExpression",value:function(e,t){return e.visitCastExpr(this,t)}}]),n}(Ie),lt=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;Object(b.a)(this,e),this.name=t,this.type=n}return Object(k.a)(e,[{key:"isEquivalent",value:function(e){return this.name===e.name}}]),e}(),ht=function(e){Object(m.a)(n,e);var t=Object(y.a)(n);function n(e,r,i,a,s){var o;return Object(b.a)(this,n),(o=t.call(this,i,a)).params=e,o.statements=r,o.name=s,o}return Object(k.a)(n,[{key:"isEquivalent",value:function(e){return e instanceof n&&Ae(this.params,e.params)&&Ae(this.statements,e.statements)}},{key:"isConstant",value:function(){return!1}},{key:"visitExpression",value:function(e,t){return e.visitFunctionExpr(this,t)}},{key:"toDeclStmt",value:function(e,t){return new Ct(e,this.params,this.statements,this.type,t,this.sourceSpan)}}]),n}(Ie),pt=function(e){Object(m.a)(n,e);var t=Object(y.a)(n);function n(e,r,i,a){var s,o=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];return Object(b.a)(this,n),(s=t.call(this,i||Oe,a)).operator=e,s.expr=r,s.parens=o,s}return Object(k.a)(n,[{key:"isEquivalent",value:function(e){return e instanceof n&&this.operator===e.operator&&this.expr.isEquivalent(e.expr)}},{key:"isConstant",value:function(){return!1}},{key:"visitExpression",value:function(e,t){return e.visitUnaryOperatorExpr(this,t)}}]),n}(Ie),vt=function(e){Object(m.a)(n,e);var t=Object(y.a)(n);function n(e,r,i,a,s){var o,u=!(arguments.length>5&&void 0!==arguments[5])||arguments[5];return Object(b.a)(this,n),(o=t.call(this,a||r.type,s)).operator=e,o.rhs=i,o.parens=u,o.lhs=r,o}return Object(k.a)(n,[{key:"isEquivalent",value:function(e){return e instanceof n&&this.operator===e.operator&&this.lhs.isEquivalent(e.lhs)&&this.rhs.isEquivalent(e.rhs)}},{key:"isConstant",value:function(){return!1}},{key:"visitExpression",value:function(e,t){return e.visitBinaryOperatorExpr(this,t)}}]),n}(Ie),ft=function(e){Object(m.a)(n,e);var t=Object(y.a)(n);function n(e,r,i,a){var s;return Object(b.a)(this,n),(s=t.call(this,i,a)).receiver=e,s.name=r,s}return Object(k.a)(n,[{key:"isEquivalent",value:function(e){return e instanceof n&&this.receiver.isEquivalent(e.receiver)&&this.name===e.name}},{key:"isConstant",value:function(){return!1}},{key:"visitExpression",value:function(e,t){return e.visitReadPropExpr(this,t)}},{key:"set",value:function(e){return new Ue(this.receiver,this.name,e,null,this.sourceSpan)}}]),n}(Ie),dt=function(e){Object(m.a)(n,e);var t=Object(y.a)(n);function n(e,r,i,a){var s;return Object(b.a)(this,n),(s=t.call(this,i,a)).receiver=e,s.index=r,s}return Object(k.a)(n,[{key:"isEquivalent",value:function(e){return e instanceof n&&this.receiver.isEquivalent(e.receiver)&&this.index.isEquivalent(e.index)}},{key:"isConstant",value:function(){return!1}},{key:"visitExpression",value:function(e,t){return e.visitReadKeyExpr(this,t)}},{key:"set",value:function(e){return new Ve(this.receiver,this.index,e,null,this.sourceSpan)}}]),n}(Ie),mt=function(e){Object(m.a)(n,e);var t=Object(y.a)(n);function n(e,r,i){var a;return Object(b.a)(this,n),(a=t.call(this,r,i)).entries=e,a}return Object(k.a)(n,[{key:"isConstant",value:function(){return this.entries.every(function(e){return e.isConstant()})}},{key:"isEquivalent",value:function(e){return e instanceof n&&Ae(this.entries,e.entries)}},{key:"visitExpression",value:function(e,t){return e.visitLiteralArrayExpr(this,t)}}]),n}(Ie),yt=function(){function e(t,n,r){Object(b.a)(this,e),this.key=t,this.value=n,this.quoted=r}return Object(k.a)(e,[{key:"isEquivalent",value:function(e){return this.key===e.key&&this.value.isEquivalent(e.value)}}]),e}(),gt=function(e){Object(m.a)(n,e);var t=Object(y.a)(n);function n(e,r,i){var a;return Object(b.a)(this,n),(a=t.call(this,r,i)).entries=e,a.valueType=null,r&&(a.valueType=r.valueType),a}return Object(k.a)(n,[{key:"isEquivalent",value:function(e){return e instanceof n&&Ae(this.entries,e.entries)}},{key:"isConstant",value:function(){return this.entries.every(function(e){return e.value.isConstant()})}},{key:"visitExpression",value:function(e,t){return e.visitLiteralMapExpr(this,t)}}]),n}(Ie),bt=function(e){Object(m.a)(n,e);var t=Object(y.a)(n);function n(e,r){var i;return Object(b.a)(this,n),(i=t.call(this,e[e.length-1].type,r)).parts=e,i}return Object(k.a)(n,[{key:"isEquivalent",value:function(e){return e instanceof n&&Ae(this.parts,e.parts)}},{key:"isConstant",value:function(){return!1}},{key:"visitExpression",value:function(e,t){return e.visitCommaExpr(this,t)}}]),n}(Ie),kt=(new De(Pe.This,null,null),new De(Pe.Super,null,null),new De(Pe.CatchError,null,null),new De(Pe.CatchStack,null,null),new Ke(null,null,null)),Et=new Ke(null,we,null);!function(e){e[e.Final=0]="Final",e[e.Private=1]="Private",e[e.Exported=2]="Exported",e[e.Static=3]="Static"}(rt||(rt={}));var _t=function(){function e(t,n,r){Object(b.a)(this,e),this.text=t,this.multiline=n,this.trailingNewline=r}return Object(k.a)(e,[{key:"toString",value:function(){return this.multiline?" ".concat(this.text," "):this.text}}]),e}(),St=function(e){Object(m.a)(n,e);var t=Object(y.a)(n);function n(e){var r;return Object(b.a)(this,n),(r=t.call(this,"",!0,!0)).tags=e,r}return Object(k.a)(n,[{key:"toString",value:function(){return function(e){if(0===e.length)return"";if(1===e.length&&e[0].tagName&&!e[0].text)return"*".concat(on(e[0])," ");var t,n="*\n",r=Object(v.a)(e);try{for(r.s();!(t=r.n()).done;){var i=t.value;n+=" *",n+=on(i).replace(/\n/g,"\n * "),n+="\n"}}catch(a){r.e(a)}finally{r.f()}return n+=" "}(this.tags)}}]),n}(_t),xt=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2?arguments[2]:void 0;Object(b.a)(this,e),this.modifiers=t,this.sourceSpan=n,this.leadingComments=r}return Object(k.a)(e,[{key:"hasModifier",value:function(e){return-1!==this.modifiers.indexOf(e)}},{key:"addLeadingComment",value:function(e){var t;this.leadingComments=null!==(t=this.leadingComments)&&void 0!==t?t:[],this.leadingComments.push(e)}}]),e}(),wt=function(e){Object(m.a)(n,e);var t=Object(y.a)(n);function n(e,r,i,a,s,o){var u;return Object(b.a)(this,n),(u=t.call(this,a,s,o)).name=e,u.value=r,u.type=i||r&&r.type||null,u}return Object(k.a)(n,[{key:"isEquivalent",value:function(e){return e instanceof n&&this.name===e.name&&(this.value?!!e.value&&this.value.isEquivalent(e.value):!e.value)}},{key:"visitStatement",value:function(e,t){return e.visitDeclareVarStmt(this,t)}}]),n}(xt),Ct=function(e){Object(m.a)(n,e);var t=Object(y.a)(n);function n(e,r,i,a,s,o,u){var c;return Object(b.a)(this,n),(c=t.call(this,s,o,u)).name=e,c.params=r,c.statements=i,c.type=a||null,c}return Object(k.a)(n,[{key:"isEquivalent",value:function(e){return e instanceof n&&Ae(this.params,e.params)&&Ae(this.statements,e.statements)}},{key:"visitStatement",value:function(e,t){return e.visitDeclareFunctionStmt(this,t)}}]),n}(xt),Ot=function(e){Object(m.a)(n,e);var t=Object(y.a)(n);function n(e,r,i){var a;return Object(b.a)(this,n),(a=t.call(this,[],r,i)).expr=e,a}return Object(k.a)(n,[{key:"isEquivalent",value:function(e){return e instanceof n&&this.expr.isEquivalent(e.expr)}},{key:"visitStatement",value:function(e,t){return e.visitExpressionStmt(this,t)}}]),n}(xt),Tt=function(e){Object(m.a)(n,e);var t=Object(y.a)(n);function n(e){var r,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,a=arguments.length>2?arguments[2]:void 0;return Object(b.a)(this,n),(r=t.call(this,[],i,a)).value=e,r}return Object(k.a)(n,[{key:"isEquivalent",value:function(e){return e instanceof n&&this.value.isEquivalent(e.value)}},{key:"visitStatement",value:function(e,t){return e.visitReturnStmt(this,t)}}]),n}(xt),jt=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];Object(b.a)(this,e),this.type=t,this.modifiers=n}return Object(k.a)(e,[{key:"hasModifier",value:function(e){return-1!==this.modifiers.indexOf(e)}}]),e}(),Nt=function(e){Object(m.a)(n,e);var t=Object(y.a)(n);function n(e,r,i,a){var s;return Object(b.a)(this,n),(s=t.call(this,r,i)).name=e,s.initializer=a,s}return Object(k.a)(n,[{key:"isEquivalent",value:function(e){return this.name===e.name}}]),n}(jt),Mt=function(e){Object(m.a)(n,e);var t=Object(y.a)(n);function n(e,r,i,a,s){var o;return Object(b.a)(this,n),(o=t.call(this,a,s)).name=e,o.params=r,o.body=i,o}return Object(k.a)(n,[{key:"isEquivalent",value:function(e){return this.name===e.name&&Ae(this.body,e.body)}}]),n}(jt),At=function(e){Object(m.a)(n,e);var t=Object(y.a)(n);function n(e,r,i,a){var s;return Object(b.a)(this,n),(s=t.call(this,i,a)).name=e,s.body=r,s}return Object(k.a)(n,[{key:"isEquivalent",value:function(e){return this.name===e.name&&Ae(this.body,e.body)}}]),n}(jt),Pt=function(e){Object(m.a)(n,e);var t=Object(y.a)(n);function n(e,r,i,a,s,o,u,c,l){var h;return Object(b.a)(this,n),(h=t.call(this,u,c,l)).name=e,h.parent=r,h.fields=i,h.getters=a,h.constructorMethod=s,h.methods=o,h}return Object(k.a)(n,[{key:"isEquivalent",value:function(e){return e instanceof n&&this.name===e.name&&Ne(this.parent,e.parent)&&Ae(this.fields,e.fields)&&Ae(this.getters,e.getters)&&this.constructorMethod.isEquivalent(e.constructorMethod)&&Ae(this.methods,e.methods)}},{key:"visitStatement",value:function(e,t){return e.visitDeclareClassStmt(this,t)}}]),n}(xt),It=function(e){Object(m.a)(n,e);var t=Object(y.a)(n);function n(e,r){var i,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],s=arguments.length>3?arguments[3]:void 0,o=arguments.length>4?arguments[4]:void 0;return Object(b.a)(this,n),(i=t.call(this,[],s,o)).condition=e,i.trueCase=r,i.falseCase=a,i}return Object(k.a)(n,[{key:"isEquivalent",value:function(e){return e instanceof n&&this.condition.isEquivalent(e.condition)&&Ae(this.trueCase,e.trueCase)&&Ae(this.falseCase,e.falseCase)}},{key:"visitStatement",value:function(e,t){return e.visitIfStmt(this,t)}}]),n}(xt),Rt=function(e){Object(m.a)(n,e);var t=Object(y.a)(n);function n(e,r){var i,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,s=arguments.length>3?arguments[3]:void 0;return Object(b.a)(this,n),(i=t.call(this,[],a,s)).bodyStmts=e,i.catchStmts=r,i}return Object(k.a)(n,[{key:"isEquivalent",value:function(e){return e instanceof n&&Ae(this.bodyStmts,e.bodyStmts)&&Ae(this.catchStmts,e.catchStmts)}},{key:"visitStatement",value:function(e,t){return e.visitTryCatchStmt(this,t)}}]),n}(xt),Dt=function(e){Object(m.a)(n,e);var t=Object(y.a)(n);function n(e){var r,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,a=arguments.length>2?arguments[2]:void 0;return Object(b.a)(this,n),(r=t.call(this,[],i,a)).error=e,r}return Object(k.a)(n,[{key:"isEquivalent",value:function(e){return e instanceof Rt&&this.error.isEquivalent(e.error)}},{key:"visitStatement",value:function(e,t){return e.visitThrowStmt(this,t)}}]),n}(xt),Ft=function(){function e(){Object(b.a)(this,e)}return Object(k.a)(e,[{key:"transformExpr",value:function(e,t){return e}},{key:"transformStmt",value:function(e,t){return e}},{key:"visitReadVarExpr",value:function(e,t){return this.transformExpr(e,t)}},{key:"visitWrappedNodeExpr",value:function(e,t){return this.transformExpr(e,t)}},{key:"visitTypeofExpr",value:function(e,t){return this.transformExpr(new Fe(e.expr.visitExpression(this,t),e.type,e.sourceSpan),t)}},{key:"visitWriteVarExpr",value:function(e,t){return this.transformExpr(new Be(e.name,e.value.visitExpression(this,t),e.type,e.sourceSpan),t)}},{key:"visitWriteKeyExpr",value:function(e,t){return this.transformExpr(new Ve(e.receiver.visitExpression(this,t),e.index.visitExpression(this,t),e.value.visitExpression(this,t),e.type,e.sourceSpan),t)}},{key:"visitWritePropExpr",value:function(e,t){return this.transformExpr(new Ue(e.receiver.visitExpression(this,t),e.name,e.value.visitExpression(this,t),e.type,e.sourceSpan),t)}},{key:"visitInvokeMethodExpr",value:function(e,t){var n=e.builtin||e.name;return this.transformExpr(new He(e.receiver.visitExpression(this,t),n,this.visitAllExpressions(e.args,t),e.type,e.sourceSpan),t)}},{key:"visitInvokeFunctionExpr",value:function(e,t){return this.transformExpr(new qe(e.fn.visitExpression(this,t),this.visitAllExpressions(e.args,t),e.type,e.sourceSpan),t)}},{key:"visitTaggedTemplateExpr",value:function(e,t){var n=this;return this.transformExpr(new We(e.tag.visitExpression(this,t),new Qe(e.template.elements,e.template.expressions.map(function(e){return e.visitExpression(n,t)})),e.type,e.sourceSpan),t)}},{key:"visitInstantiateExpr",value:function(e,t){return this.transformExpr(new ze(e.classExpr.visitExpression(this,t),this.visitAllExpressions(e.args,t),e.type,e.sourceSpan),t)}},{key:"visitLiteralExpr",value:function(e,t){return this.transformExpr(e,t)}},{key:"visitLocalizedString",value:function(e,t){return this.transformExpr(new Je(e.metaBlock,e.messageParts,e.placeHolderNames,this.visitAllExpressions(e.expressions,t),e.sourceSpan),t)}},{key:"visitExternalExpr",value:function(e,t){return this.transformExpr(e,t)}},{key:"visitConditionalExpr",value:function(e,t){return this.transformExpr(new st(e.condition.visitExpression(this,t),e.trueCase.visitExpression(this,t),e.falseCase.visitExpression(this,t),e.type,e.sourceSpan),t)}},{key:"visitNotExpr",value:function(e,t){return this.transformExpr(new ot(e.condition.visitExpression(this,t),e.sourceSpan),t)}},{key:"visitAssertNotNullExpr",value:function(e,t){return this.transformExpr(new ut(e.condition.visitExpression(this,t),e.sourceSpan),t)}},{key:"visitCastExpr",value:function(e,t){return this.transformExpr(new ct(e.value.visitExpression(this,t),e.type,e.sourceSpan),t)}},{key:"visitFunctionExpr",value:function(e,t){return this.transformExpr(new ht(e.params,this.visitAllStatements(e.statements,t),e.type,e.sourceSpan),t)}},{key:"visitUnaryOperatorExpr",value:function(e,t){return this.transformExpr(new pt(e.operator,e.expr.visitExpression(this,t),e.type,e.sourceSpan),t)}},{key:"visitBinaryOperatorExpr",value:function(e,t){return this.transformExpr(new vt(e.operator,e.lhs.visitExpression(this,t),e.rhs.visitExpression(this,t),e.type,e.sourceSpan),t)}},{key:"visitReadPropExpr",value:function(e,t){return this.transformExpr(new ft(e.receiver.visitExpression(this,t),e.name,e.type,e.sourceSpan),t)}},{key:"visitReadKeyExpr",value:function(e,t){return this.transformExpr(new dt(e.receiver.visitExpression(this,t),e.index.visitExpression(this,t),e.type,e.sourceSpan),t)}},{key:"visitLiteralArrayExpr",value:function(e,t){return this.transformExpr(new mt(this.visitAllExpressions(e.entries,t),e.type,e.sourceSpan),t)}},{key:"visitLiteralMapExpr",value:function(e,t){var n=this,r=e.entries.map(function(e){return new yt(e.key,e.value.visitExpression(n,t),e.quoted)}),i=new Se(e.valueType);return this.transformExpr(new gt(r,i,e.sourceSpan),t)}},{key:"visitCommaExpr",value:function(e,t){return this.transformExpr(new bt(this.visitAllExpressions(e.parts,t),e.sourceSpan),t)}},{key:"visitAllExpressions",value:function(e,t){var n=this;return e.map(function(e){return e.visitExpression(n,t)})}},{key:"visitDeclareVarStmt",value:function(e,t){var n=e.value&&e.value.visitExpression(this,t);return this.transformStmt(new wt(e.name,n,e.type,e.modifiers,e.sourceSpan,e.leadingComments),t)}},{key:"visitDeclareFunctionStmt",value:function(e,t){return this.transformStmt(new Ct(e.name,e.params,this.visitAllStatements(e.statements,t),e.type,e.modifiers,e.sourceSpan,e.leadingComments),t)}},{key:"visitExpressionStmt",value:function(e,t){return this.transformStmt(new Ot(e.expr.visitExpression(this,t),e.sourceSpan,e.leadingComments),t)}},{key:"visitReturnStmt",value:function(e,t){return this.transformStmt(new Tt(e.value.visitExpression(this,t),e.sourceSpan,e.leadingComments),t)}},{key:"visitDeclareClassStmt",value:function(e,t){var n=this,r=e.parent.visitExpression(this,t),i=e.getters.map(function(e){return new At(e.name,n.visitAllStatements(e.body,t),e.type,e.modifiers)}),a=e.constructorMethod&&new Mt(e.constructorMethod.name,e.constructorMethod.params,this.visitAllStatements(e.constructorMethod.body,t),e.constructorMethod.type,e.constructorMethod.modifiers),s=e.methods.map(function(e){return new Mt(e.name,e.params,n.visitAllStatements(e.body,t),e.type,e.modifiers)});return this.transformStmt(new Pt(e.name,r,e.fields,i,a,s,e.modifiers,e.sourceSpan),t)}},{key:"visitIfStmt",value:function(e,t){return this.transformStmt(new It(e.condition.visitExpression(this,t),this.visitAllStatements(e.trueCase,t),this.visitAllStatements(e.falseCase,t),e.sourceSpan,e.leadingComments),t)}},{key:"visitTryCatchStmt",value:function(e,t){return this.transformStmt(new Rt(this.visitAllStatements(e.bodyStmts,t),this.visitAllStatements(e.catchStmts,t),e.sourceSpan,e.leadingComments),t)}},{key:"visitThrowStmt",value:function(e,t){return this.transformStmt(new Dt(e.error.visitExpression(this,t),e.sourceSpan,e.leadingComments),t)}},{key:"visitAllStatements",value:function(e,t){var n=this;return e.map(function(e){return e.visitStatement(n,t)})}}]),e}(),Lt=function(){function e(){Object(b.a)(this,e)}return Object(k.a)(e,[{key:"visitType",value:function(e,t){return e}},{key:"visitExpression",value:function(e,t){return e.type&&e.type.visitType(this,t),e}},{key:"visitBuiltinType",value:function(e,t){return this.visitType(e,t)}},{key:"visitExpressionType",value:function(e,t){var n=this;return e.value.visitExpression(this,t),null!==e.typeParams&&e.typeParams.forEach(function(e){return n.visitType(e,t)}),this.visitType(e,t)}},{key:"visitArrayType",value:function(e,t){return this.visitType(e,t)}},{key:"visitMapType",value:function(e,t){return this.visitType(e,t)}},{key:"visitWrappedNodeExpr",value:function(e,t){return e}},{key:"visitTypeofExpr",value:function(e,t){return this.visitExpression(e,t)}},{key:"visitReadVarExpr",value:function(e,t){return this.visitExpression(e,t)}},{key:"visitWriteVarExpr",value:function(e,t){return e.value.visitExpression(this,t),this.visitExpression(e,t)}},{key:"visitWriteKeyExpr",value:function(e,t){return e.receiver.visitExpression(this,t),e.index.visitExpression(this,t),e.value.visitExpression(this,t),this.visitExpression(e,t)}},{key:"visitWritePropExpr",value:function(e,t){return e.receiver.visitExpression(this,t),e.value.visitExpression(this,t),this.visitExpression(e,t)}},{key:"visitInvokeMethodExpr",value:function(e,t){return e.receiver.visitExpression(this,t),this.visitAllExpressions(e.args,t),this.visitExpression(e,t)}},{key:"visitInvokeFunctionExpr",value:function(e,t){return e.fn.visitExpression(this,t),this.visitAllExpressions(e.args,t),this.visitExpression(e,t)}},{key:"visitTaggedTemplateExpr",value:function(e,t){return e.tag.visitExpression(this,t),this.visitAllExpressions(e.template.expressions,t),this.visitExpression(e,t)}},{key:"visitInstantiateExpr",value:function(e,t){return e.classExpr.visitExpression(this,t),this.visitAllExpressions(e.args,t),this.visitExpression(e,t)}},{key:"visitLiteralExpr",value:function(e,t){return this.visitExpression(e,t)}},{key:"visitLocalizedString",value:function(e,t){return this.visitExpression(e,t)}},{key:"visitExternalExpr",value:function(e,t){var n=this;return e.typeParams&&e.typeParams.forEach(function(e){return e.visitType(n,t)}),this.visitExpression(e,t)}},{key:"visitConditionalExpr",value:function(e,t){return e.condition.visitExpression(this,t),e.trueCase.visitExpression(this,t),e.falseCase.visitExpression(this,t),this.visitExpression(e,t)}},{key:"visitNotExpr",value:function(e,t){return e.condition.visitExpression(this,t),this.visitExpression(e,t)}},{key:"visitAssertNotNullExpr",value:function(e,t){return e.condition.visitExpression(this,t),this.visitExpression(e,t)}},{key:"visitCastExpr",value:function(e,t){return e.value.visitExpression(this,t),this.visitExpression(e,t)}},{key:"visitFunctionExpr",value:function(e,t){return this.visitAllStatements(e.statements,t),this.visitExpression(e,t)}},{key:"visitUnaryOperatorExpr",value:function(e,t){return e.expr.visitExpression(this,t),this.visitExpression(e,t)}},{key:"visitBinaryOperatorExpr",value:function(e,t){return e.lhs.visitExpression(this,t),e.rhs.visitExpression(this,t),this.visitExpression(e,t)}},{key:"visitReadPropExpr",value:function(e,t){return e.receiver.visitExpression(this,t),this.visitExpression(e,t)}},{key:"visitReadKeyExpr",value:function(e,t){return e.receiver.visitExpression(this,t),e.index.visitExpression(this,t),this.visitExpression(e,t)}},{key:"visitLiteralArrayExpr",value:function(e,t){return this.visitAllExpressions(e.entries,t),this.visitExpression(e,t)}},{key:"visitLiteralMapExpr",value:function(e,t){var n=this;return e.entries.forEach(function(e){return e.value.visitExpression(n,t)}),this.visitExpression(e,t)}},{key:"visitCommaExpr",value:function(e,t){return this.visitAllExpressions(e.parts,t),this.visitExpression(e,t)}},{key:"visitAllExpressions",value:function(e,t){var n=this;e.forEach(function(e){return e.visitExpression(n,t)})}},{key:"visitDeclareVarStmt",value:function(e,t){return e.value&&e.value.visitExpression(this,t),e.type&&e.type.visitType(this,t),e}},{key:"visitDeclareFunctionStmt",value:function(e,t){return this.visitAllStatements(e.statements,t),e.type&&e.type.visitType(this,t),e}},{key:"visitExpressionStmt",value:function(e,t){return e.expr.visitExpression(this,t),e}},{key:"visitReturnStmt",value:function(e,t){return e.value.visitExpression(this,t),e}},{key:"visitDeclareClassStmt",value:function(e,t){var n=this;return e.parent.visitExpression(this,t),e.getters.forEach(function(e){return n.visitAllStatements(e.body,t)}),e.constructorMethod&&this.visitAllStatements(e.constructorMethod.body,t),e.methods.forEach(function(e){return n.visitAllStatements(e.body,t)}),e}},{key:"visitIfStmt",value:function(e,t){return e.condition.visitExpression(this,t),this.visitAllStatements(e.trueCase,t),this.visitAllStatements(e.falseCase,t),e}},{key:"visitTryCatchStmt",value:function(e,t){return this.visitAllStatements(e.bodyStmts,t),this.visitAllStatements(e.catchStmts,t),e}},{key:"visitThrowStmt",value:function(e,t){return e.error.visitExpression(this,t),e}},{key:"visitAllStatements",value:function(e,t){var n=this;e.forEach(function(e){return e.visitStatement(n,t)})}}]),e}();function Bt(e){var t=new Vt;return t.visitAllStatements(e,null),t.varNames}var Vt=function(e){Object(m.a)(n,e);var t=Object(y.a)(n);function n(){var e;return Object(b.a)(this,n),(e=t.apply(this,arguments)).varNames=new Set,e}return Object(k.a)(n,[{key:"visitDeclareFunctionStmt",value:function(e,t){return e}},{key:"visitDeclareClassStmt",value:function(e,t){return e}},{key:"visitReadVarExpr",value:function(e,t){return e.name&&this.varNames.add(e.name),null}}]),n}(Lt);function Ut(e){var t=new Ht;return t.visitAllStatements(e,null),t.externalReferences}var Ht=function(e){Object(m.a)(n,e);var t=Object(y.a)(n);function n(){var e;return Object(b.a)(this,n),(e=t.apply(this,arguments)).externalReferences=[],e}return Object(k.a)(n,[{key:"visitExternalExpr",value:function(e,t){return this.externalReferences.push(e.value),Object(f.a)(Object(d.a)(n.prototype),"visitExternalExpr",this).call(this,e,t)}}]),n}(Lt);function qt(e,t){if(!t)return e;var n=new zt(t);return e.visitStatement(n,null)}function Wt(e,t){if(!t)return e;var n=new zt(t);return e.visitExpression(n,null)}var zt=function(e){Object(m.a)(n,e);var t=Object(y.a)(n);function n(e){var r;return Object(b.a)(this,n),(r=t.call(this)).sourceSpan=e,r}return Object(k.a)(n,[{key:"_clone",value:function(e){for(var t=Object.create(e.constructor.prototype),n=0,r=Object.keys(e);n<r.length;n++){var i=r[n];t[i]=e[i]}return t}},{key:"transformExpr",value:function(e,t){return e.sourceSpan||((e=this._clone(e)).sourceSpan=this.sourceSpan),e}},{key:"transformStmt",value:function(e,t){return e.sourceSpan||((e=this._clone(e)).sourceSpan=this.sourceSpan),e}}]),n}(Ft);function Kt(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return new _t(e,t,n)}function Qt(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return new St(e)}function Xt(e,t,n){return new De(e,t,n)}function Gt(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2?arguments[2]:void 0;return new it(e,null,t,n)}function $t(e,t,n){return null!=e?Yt(Gt(e,t,null),n):null}function Yt(e,t,n){return new Ee(e,t,n)}function Jt(e){return new Fe(e)}function Zt(e,t,n){return new mt(e,t,n)}function en(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return new gt(e.map(function(e){return new yt(e.key,e.value,e.quoted)}),t,null)}function tn(e,t,n,r,i){return new ht(e,t,n,r,i)}function nn(e,t,n,r,i){return new It(e,t,n,r,i)}function rn(e,t,n,r){return new We(e,t,n,r)}function an(e,t,n){return new Ke(e,t,n)}function sn(e){return e instanceof Ke&&null===e.value}function on(e){var t="";if(e.tagName&&(t+=" @".concat(e.tagName)),e.text){if(e.text.match(/\/\*|\*\//))throw new Error('JSDoc text cannot contain "/*" and "*/"');t+=" "+e.text.replace(/@/g,"\\@")}return t}var un=Xt("<unknown>"),cn={},ln=function(e){Object(m.a)(n,e);var t=Object(y.a)(n);function n(e){var r;return Object(b.a)(this,n),(r=t.call(this,e.type)).resolved=e,r.original=e,r}return Object(k.a)(n,[{key:"visitExpression",value:function(e,t){return t===cn?this.original.visitExpression(e,t):this.resolved.visitExpression(e,t)}},{key:"isEquivalent",value:function(e){return e instanceof n&&this.resolved.isEquivalent(e.resolved)}},{key:"isConstant",value:function(){return!0}},{key:"fixup",value:function(e){this.resolved=e,this.shared=!0}}]),n}(Ie),hn=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];Object(b.a)(this,e),this.isClosureCompilerEnabled=t,this.statements=[],this.literals=new Map,this.literalFactories=new Map,this.injectorDefinitions=new Map,this.directiveDefinitions=new Map,this.componentDefinitions=new Map,this.pipeDefinitions=new Map,this.nextNameIndex=0}return Object(k.a)(e,[{key:"getConstLiteral",value:function(e,t){if(e instanceof Ke&&!dn(e)||e instanceof ln)return e;var n=this.keyOf(e),r=this.literals.get(n),i=!1;if(r||(r=new ln(e),this.literals.set(n,r),i=!0),!i&&!r.shared||i&&t){var a,s,o=this.freshName();this.isClosureCompilerEnabled&&dn(e)?(a=Xt(o).set(new ht([],[new Tt(e)])),s=Xt(o).callFn([])):(a=Xt(o).set(e),s=Xt(o)),this.statements.push(a.toDeclStmt(we,[rt.Final])),r.fixup(s)}return r}},{key:"getDefinition",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=this.definitionsOf(t),a=i.get(e),s=!1;if(!a){var o=this.propertyNameOf(t);a=new ln(n.importExpr(e).prop(o)),i.set(e,a),s=!0}if(!s&&!a.shared||s&&r){var u=this.freshName();this.statements.push(Xt(u).set(a.resolved).toDeclStmt(we,[rt.Final])),a.fixup(Xt(u))}return a}},{key:"getLiteralFactory",value:function(e){if(e instanceof mt){var t=e.entries.map(function(e){return e.isConstant()?e:un}),n=this.keyOf(Zt(t));return this._getLiteralFactory(n,e.entries,function(e){return Zt(e)})}var r=en(e.entries.map(function(e){return{key:e.key,value:e.value.isConstant()?e.value:un,quoted:e.quoted}})),i=this.keyOf(r);return this._getLiteralFactory(i,e.entries.map(function(e){return e.value}),function(t){return en(t.map(function(t,n){return{key:e.entries[n].key,value:t,quoted:e.entries[n].quoted}}))})}},{key:"_getLiteralFactory",value:function(e,t,n){var r=this,i=this.literalFactories.get(e),a=t.filter(function(e){return!e.isConstant()});if(!i){var s=t.map(function(e,t){return e.isConstant()?r.getConstLiteral(e,!0):Xt("a".concat(t))}),o=tn(s.filter(fn).map(function(e){return new lt(e.name,xe)}),[new Tt(n(s))],we),u=this.freshName();this.statements.push(Xt(u).set(o).toDeclStmt(we,[rt.Final])),i=Xt(u),this.literalFactories.set(e,i)}return{literalFactory:i,literalFactoryArguments:a}}},{key:"uniqueName",value:function(e){return"".concat(e).concat(this.nextNameIndex++)}},{key:"definitionsOf",value:function(e){switch(e){case 2:return this.componentDefinitions;case 1:return this.directiveDefinitions;case 0:return this.injectorDefinitions;case 3:return this.pipeDefinitions}}},{key:"propertyNameOf",value:function(e){switch(e){case 2:return"\u0275cmp";case 1:return"\u0275dir";case 0:return"\u0275inj";case 3:return"\u0275pipe"}}},{key:"freshName",value:function(){return this.uniqueName("_c")}},{key:"keyOf",value:function(e){return e.visitExpression(new pn,cn)}}]),e}(),pn=function(){function e(){Object(b.a)(this,e),this.visitWrappedNodeExpr=vn,this.visitWriteVarExpr=vn,this.visitWriteKeyExpr=vn,this.visitWritePropExpr=vn,this.visitInvokeMethodExpr=vn,this.visitInvokeFunctionExpr=vn,this.visitTaggedTemplateExpr=vn,this.visitInstantiateExpr=vn,this.visitConditionalExpr=vn,this.visitNotExpr=vn,this.visitAssertNotNullExpr=vn,this.visitCastExpr=vn,this.visitFunctionExpr=vn,this.visitUnaryOperatorExpr=vn,this.visitBinaryOperatorExpr=vn,this.visitReadPropExpr=vn,this.visitReadKeyExpr=vn,this.visitCommaExpr=vn,this.visitLocalizedString=vn}return Object(k.a)(e,[{key:"visitLiteralExpr",value:function(e){return"".concat("string"==typeof e.value?'"'+e.value+'"':e.value)}},{key:"visitLiteralArrayExpr",value:function(e,t){var n=this;return"[".concat(e.entries.map(function(e){return e.visitExpression(n,t)}).join(","),"]")}},{key:"visitLiteralMapExpr",value:function(e,t){var n=this;return"{".concat(e.entries.map(function(e){return"".concat(function(e){var t=e.quoted?'"':"";return"".concat(t).concat(e.key).concat(t)}(e),":").concat(e.value.visitExpression(n,t))}).join(","))}},{key:"visitExternalExpr",value:function(e){return e.value.moduleName?"EX:".concat(e.value.moduleName,":").concat(e.value.name):"EX:".concat(e.value.runtime.name)}},{key:"visitReadVarExpr",value:function(e){return"VAR:".concat(e.name)}},{key:"visitTypeofExpr",value:function(e,t){return"TYPEOF:".concat(e.expr.visitExpression(this,t))}}]),e}();function vn(e){throw new Error("Invalid state: Visitor ".concat(this.constructor.name," doesn't handle ").concat(e.constructor.name))}function fn(e){return e instanceof De}function dn(e){return e instanceof Ke&&"string"==typeof e.value&&e.value.length>=50}var mn="@angular/core",yn=function e(){Object(b.a)(this,e)};function gn(e){return{identifier:{reference:e}}}function bn(e,t){return gn(e.resolveExternalReference(t))}yn.ANALYZE_FOR_ENTRY_COMPONENTS={name:"ANALYZE_FOR_ENTRY_COMPONENTS",moduleName:mn},yn.ElementRef={name:"ElementRef",moduleName:mn},yn.NgModuleRef={name:"NgModuleRef",moduleName:mn},yn.ViewContainerRef={name:"ViewContainerRef",moduleName:mn},yn.ChangeDetectorRef={name:"ChangeDetectorRef",moduleName:mn},yn.QueryList={name:"QueryList",moduleName:mn},yn.TemplateRef={name:"TemplateRef",moduleName:mn},yn.Renderer2={name:"Renderer2",moduleName:mn},yn.CodegenComponentFactoryResolver={name:"\u0275CodegenComponentFactoryResolver",moduleName:mn},yn.ComponentFactoryResolver={name:"ComponentFactoryResolver",moduleName:mn},yn.ComponentFactory={name:"ComponentFactory",moduleName:mn},yn.ComponentRef={name:"ComponentRef",moduleName:mn},yn.NgModuleFactory={name:"NgModuleFactory",moduleName:mn},yn.createModuleFactory={name:"\u0275cmf",moduleName:mn},yn.moduleDef={name:"\u0275mod",moduleName:mn},yn.moduleProviderDef={name:"\u0275mpd",moduleName:mn},yn.RegisterModuleFactoryFn={name:"\u0275registerModuleFactory",moduleName:mn},yn.inject={name:"\u0275\u0275inject",moduleName:mn},yn.directiveInject={name:"\u0275\u0275directiveInject",moduleName:mn},yn.INJECTOR={name:"INJECTOR",moduleName:mn},yn.Injector={name:"Injector",moduleName:mn},yn.\u0275\u0275defineInjectable={name:"\u0275\u0275defineInjectable",moduleName:mn},yn.InjectableDef={name:"\u0275\u0275InjectableDef",moduleName:mn},yn.ViewEncapsulation={name:"ViewEncapsulation",moduleName:mn},yn.ChangeDetectionStrategy={name:"ChangeDetectionStrategy",moduleName:mn},yn.SecurityContext={name:"SecurityContext",moduleName:mn},yn.LOCALE_ID={name:"LOCALE_ID",moduleName:mn},yn.TRANSLATIONS_FORMAT={name:"TRANSLATIONS_FORMAT",moduleName:mn},yn.inlineInterpolate={name:"\u0275inlineInterpolate",moduleName:mn},yn.interpolate={name:"\u0275interpolate",moduleName:mn},yn.EMPTY_ARRAY={name:"\u0275EMPTY_ARRAY",moduleName:mn},yn.EMPTY_MAP={name:"\u0275EMPTY_MAP",moduleName:mn},yn.Renderer={name:"Renderer",moduleName:mn},yn.viewDef={name:"\u0275vid",moduleName:mn},yn.elementDef={name:"\u0275eld",moduleName:mn},yn.anchorDef={name:"\u0275and",moduleName:mn},yn.textDef={name:"\u0275ted",moduleName:mn},yn.directiveDef={name:"\u0275did",moduleName:mn},yn.providerDef={name:"\u0275prd",moduleName:mn},yn.queryDef={name:"\u0275qud",moduleName:mn},yn.pureArrayDef={name:"\u0275pad",moduleName:mn},yn.pureObjectDef={name:"\u0275pod",moduleName:mn},yn.purePipeDef={name:"\u0275ppd",moduleName:mn},yn.pipeDef={name:"\u0275pid",moduleName:mn},yn.nodeValue={name:"\u0275nov",moduleName:mn},yn.ngContentDef={name:"\u0275ncd",moduleName:mn},yn.unwrapValue={name:"\u0275unv",moduleName:mn},yn.createRendererType2={name:"\u0275crt",moduleName:mn},yn.RendererType2={name:"RendererType2",moduleName:mn},yn.ViewDefinition={name:"\u0275ViewDefinition",moduleName:mn},yn.createComponentFactory={name:"\u0275ccf",moduleName:mn},yn.setClassMetadata={name:"\u0275setClassMetadata",moduleName:mn};var kn=function(){function e(t,n,r){Object(b.a)(this,e),this.filePath=t,this.name=n,this.members=r}return Object(k.a)(e,[{key:"assertNoMembers",value:function(){if(this.members.length)throw new Error("Illegal state: symbol without members expected, but got ".concat(JSON.stringify(this),"."))}}]),e}(),En=function(){function e(){Object(b.a)(this,e),this.cache=new Map}return Object(k.a)(e,[{key:"get",value:function(e,t,n){var r=(n=n||[]).length?".".concat(n.join(".")):"",i='"'.concat(e,'".').concat(t).concat(r),a=this.cache.get(i);return a||(a=new kn(e,t,n),this.cache.set(i,a)),a}}]),e}(),_n=/-+([a-z0-9])/g;function Sn(e,t){return xn(e,":",t)}function xn(e,t,n){var r=e.indexOf(t);return-1==r?n:[e.slice(0,r).trim(),e.slice(r+1).trim()]}function wn(e,t,n){return Array.isArray(e)?t.visitArray(e,n):"object"==typeof(r=e)&&null!==r&&Object.getPrototypeOf(r)===Ln?t.visitStringMap(e,n):null==e||"string"==typeof e||"number"==typeof e||"boolean"==typeof e?t.visitPrimitive(e,n):t.visitOther(e,n);var r}function Cn(e){return null!=e}function On(e){return void 0===e?null:e}var Tn=function(){function e(){Object(b.a)(this,e)}return Object(k.a)(e,[{key:"visitArray",value:function(e,t){var n=this;return e.map(function(e){return wn(e,n,t)})}},{key:"visitStringMap",value:function(e,t){var n=this,r={};return Object.keys(e).forEach(function(i){r[i]=wn(e[i],n,t)}),r}},{key:"visitPrimitive",value:function(e,t){return e}},{key:"visitOther",value:function(e,t){return e}}]),e}(),jn=function(e){if(Hn(e))throw new Error("Illegal state: value cannot be a promise");return e},Nn=function(e,t){return Hn(e)?e.then(t):t(e)},Mn=function(e){return e.some(Hn)?Promise.all(e):e};function An(e){throw new Error("Internal Error: ".concat(e))}function Pn(e,t){var n=Error(e);return n[In]=!0,t&&(n[Rn]=t),n}var In="ngSyntaxError",Rn="ngParseErrors";function Dn(e){return e[In]}function Fn(e){return e[Rn]||[]}var Ln=Object.getPrototypeOf({});function Bn(e){for(var t=[],n=0;n<e.length;n++){var r=e.charCodeAt(n);if(r>=55296&&r<=56319&&e.length>n+1){var i=e.charCodeAt(n+1);i>=56320&&i<=57343&&(n++,r=(r-55296<<10)+i-56320+65536)}r<=127?t.push(r):r<=2047?t.push(r>>6&31|192,63&r|128):r<=65535?t.push(r>>12|224,r>>6&63|128,63&r|128):r<=2097151&&t.push(r>>18&7|240,r>>12&63|128,r>>6&63|128,63&r|128)}return t}function Vn(e){if("string"==typeof e)return e;if(Array.isArray(e))return"["+e.map(Vn).join(", ")+"]";if(null==e)return""+e;if(e.overriddenName)return"".concat(e.overriddenName);if(e.name)return"".concat(e.name);if(!e.toString)return"object";var t=e.toString();if(null==t)return""+t;var n=t.indexOf("\n");return-1===n?t:t.substring(0,n)}function Un(e){return"function"==typeof e&&e.hasOwnProperty("__forward_ref__")?e():e}function Hn(e){return!!e&&"function"==typeof e.then}var qn=function e(t){Object(b.a)(this,e),this.full=t;var n=t.split(".");this.major=n[0],this.minor=n[1],this.patch=n.slice(2).join(".")},Wn="undefined"!=typeof window&&window,zn="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,Kn="undefined"!=typeof global&&global||Wn||zn;function Qn(e,t){for(var n=[],r=0;r<e;r++)n.push(t);return n}var Xn=/^(?:(?:\[([^\]]+)\])|(?:\(([^\)]+)\)))|(\@[-\w]+)$/;function Gn(e){return e.replace(/\W/g,"_")}var $n,Yn=0;function Jn(e){if(!e||!e.reference)return null;var t=e.reference;if(t instanceof kn)return t.name;if(t.__anonymousType)return t.__anonymousType;var n=Vn(t);return n.indexOf("(")>=0?(n="anonymous_".concat(Yn++),t.__anonymousType=n):n=Gn(n),n}function Zn(e){var t=e.reference;return t instanceof kn?t.filePath:"./".concat(Vn(t))}function er(e,t){return"View_".concat(Jn({reference:e}),"_").concat(t)}function tr(e){return"RenderType_".concat(Jn({reference:e}))}function nr(e){return"HostView_".concat(Jn({reference:e}))}function rr(e){return"".concat(Jn({reference:e}),"NgFactory")}function ir(e){return null!=e.value?Gn(e.value):Jn(e.identifier)}function ar(e){return null!=e.identifier?e.identifier.reference:e.value}!function(e){e[e.Pipe=0]="Pipe",e[e.Directive=1]="Directive",e[e.NgModule=2]="NgModule",e[e.Injectable=3]="Injectable"}($n||($n={}));var sr=function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.moduleUrl,r=t.styles,i=t.styleUrls;Object(b.a)(this,e),this.moduleUrl=n||null,this.styles=vr(r),this.styleUrls=vr(i)},or=function(){function e(t){var n=t.encapsulation,r=t.template,i=t.templateUrl,a=t.htmlAst,s=t.styles,o=t.styleUrls,u=t.externalStylesheets,c=t.animations,l=t.ngContentSelectors,h=t.interpolation,p=t.isInline,v=t.preserveWhitespaces;if(Object(b.a)(this,e),this.encapsulation=n,this.template=r,this.templateUrl=i,this.htmlAst=a,this.styles=vr(s),this.styleUrls=vr(o),this.externalStylesheets=vr(u),this.animations=c?dr(c):[],this.ngContentSelectors=l||[],h&&2!=h.length)throw new Error("'interpolation' should have a start and an end symbol.");this.interpolation=h,this.isInline=p,this.preserveWhitespaces=v}return Object(k.a)(e,[{key:"toSummary",value:function(){return{ngContentSelectors:this.ngContentSelectors,encapsulation:this.encapsulation,styles:this.styles,animations:this.animations}}}]),e}(),ur=function(){function e(t){var n=t.isHost,r=t.type,i=t.isComponent,a=t.selector,s=t.exportAs,o=t.changeDetection,u=t.inputs,c=t.outputs,l=t.hostListeners,h=t.hostProperties,p=t.hostAttributes,v=t.providers,f=t.viewProviders,d=t.queries,m=t.guards,y=t.viewQueries,g=t.entryComponents,k=t.template,E=t.componentViewType,_=t.rendererType,S=t.componentFactory;Object(b.a)(this,e),this.isHost=!!n,this.type=r,this.isComponent=i,this.selector=a,this.exportAs=s,this.changeDetection=o,this.inputs=u,this.outputs=c,this.hostListeners=l,this.hostProperties=h,this.hostAttributes=p,this.providers=vr(v),this.viewProviders=vr(f),this.queries=vr(d),this.guards=m,this.viewQueries=vr(y),this.entryComponents=vr(g),this.template=k,this.componentViewType=E,this.rendererType=_,this.componentFactory=S}return Object(k.a)(e,[{key:"toSummary",value:function(){return{summaryKind:$n.Directive,type:this.type,isComponent:this.isComponent,selector:this.selector,exportAs:this.exportAs,inputs:this.inputs,outputs:this.outputs,hostListeners:this.hostListeners,hostProperties:this.hostProperties,hostAttributes:this.hostAttributes,providers:this.providers,viewProviders:this.viewProviders,queries:this.queries,guards:this.guards,viewQueries:this.viewQueries,entryComponents:this.entryComponents,changeDetection:this.changeDetection,template:this.template&&this.template.toSummary(),componentViewType:this.componentViewType,rendererType:this.rendererType,componentFactory:this.componentFactory}}}],[{key:"create",value:function(t){var n=t.isHost,r=t.type,i=t.isComponent,a=t.selector,s=t.exportAs,o=t.changeDetection,u=t.inputs,c=t.outputs,l=t.host,h=t.providers,p=t.viewProviders,v=t.queries,f=t.guards,d=t.viewQueries,m=t.entryComponents,y=t.template,g=t.componentViewType,b=t.rendererType,k=t.componentFactory,E={},_={},S={};null!=l&&Object.keys(l).forEach(function(e){var t=l[e],n=e.match(Xn);null===n?S[e]=t:null!=n[1]?_[n[1]]=t:null!=n[2]&&(E[n[2]]=t)});var x={};null!=u&&u.forEach(function(e){var t=Sn(e,[e,e]);x[t[0]]=t[1]});var w={};return null!=c&&c.forEach(function(e){var t=Sn(e,[e,e]);w[t[0]]=t[1]}),new e({isHost:n,type:r,isComponent:!!i,selector:a,exportAs:s,changeDetection:o,inputs:x,outputs:w,hostListeners:E,hostProperties:_,hostAttributes:S,providers:h,viewProviders:p,queries:v,guards:f,viewQueries:d,entryComponents:m,template:y,componentViewType:g,rendererType:b,componentFactory:k})}}]),e}(),cr=function(){function e(t){var n=t.type,r=t.name,i=t.pure;Object(b.a)(this,e),this.type=n,this.name=r,this.pure=!!i}return Object(k.a)(e,[{key:"toSummary",value:function(){return{summaryKind:$n.Pipe,type:this.type,name:this.name,pure:this.pure}}}]),e}(),lr=function e(){Object(b.a)(this,e)},hr=function(){function e(t){var n=t.type,r=t.providers,i=t.declaredDirectives,a=t.exportedDirectives,s=t.declaredPipes,o=t.exportedPipes,u=t.entryComponents,c=t.bootstrapComponents,l=t.importedModules,h=t.exportedModules,p=t.schemas,v=t.transitiveModule,f=t.id;Object(b.a)(this,e),this.type=n||null,this.declaredDirectives=vr(i),this.exportedDirectives=vr(a),this.declaredPipes=vr(s),this.exportedPipes=vr(o),this.providers=vr(r),this.entryComponents=vr(u),this.bootstrapComponents=vr(c),this.importedModules=vr(l),this.exportedModules=vr(h),this.schemas=vr(p),this.id=f||null,this.transitiveModule=v||null}return Object(k.a)(e,[{key:"toSummary",value:function(){var e=this.transitiveModule;return{summaryKind:$n.NgModule,type:this.type,entryComponents:e.entryComponents,providers:e.providers,modules:e.modules,exportedDirectives:e.exportedDirectives,exportedPipes:e.exportedPipes}}}]),e}(),pr=function(){function e(){Object(b.a)(this,e),this.directivesSet=new Set,this.directives=[],this.exportedDirectivesSet=new Set,this.exportedDirectives=[],this.pipesSet=new Set,this.pipes=[],this.exportedPipesSet=new Set,this.exportedPipes=[],this.modulesSet=new Set,this.modules=[],this.entryComponentsSet=new Set,this.entryComponents=[],this.providers=[]}return Object(k.a)(e,[{key:"addProvider",value:function(e,t){this.providers.push({provider:e,module:t})}},{key:"addDirective",value:function(e){this.directivesSet.has(e.reference)||(this.directivesSet.add(e.reference),this.directives.push(e))}},{key:"addExportedDirective",value:function(e){this.exportedDirectivesSet.has(e.reference)||(this.exportedDirectivesSet.add(e.reference),this.exportedDirectives.push(e))}},{key:"addPipe",value:function(e){this.pipesSet.has(e.reference)||(this.pipesSet.add(e.reference),this.pipes.push(e))}},{key:"addExportedPipe",value:function(e){this.exportedPipesSet.has(e.reference)||(this.exportedPipesSet.add(e.reference),this.exportedPipes.push(e))}},{key:"addModule",value:function(e){this.modulesSet.has(e.reference)||(this.modulesSet.add(e.reference),this.modules.push(e))}},{key:"addEntryComponent",value:function(e){this.entryComponentsSet.has(e.componentType)||(this.entryComponentsSet.add(e.componentType),this.entryComponents.push(e))}}]),e}();function vr(e){return e||[]}var fr=function e(t,n){var r=n.useClass,i=n.useValue,a=n.useExisting,s=n.useFactory,o=n.deps,u=n.multi;Object(b.a)(this,e),this.token=t,this.useClass=r||null,this.useValue=i,this.useExisting=a,this.useFactory=s||null,this.dependencies=o||null,this.multi=!!u};function dr(e){return e.reduce(function(e,t){var n=Array.isArray(t)?dr(t):t;return e.concat(n)},[])}function mr(e){return e.replace(/(\w+:\/\/[\w:-]+)?(\/+)?/,"ng:///")}function yr(e,t,n){var r;return r=n.isInline?t.type.reference instanceof kn?"".concat(t.type.reference.filePath,".").concat(t.type.reference.name,".html"):"".concat(Jn(e),"/").concat(Jn(t.type),".html"):n.templateUrl,t.type.reference instanceof kn?r:mr(r)}function gr(e,t){var n=e.moduleUrl.split(/\/\\/g),r=n[n.length-1];return mr("css/".concat(t).concat(r,".ngstyle.js"))}function br(e){return mr("".concat(Jn(e.type),"/module.ngfactory.js"))}function kr(e,t){return mr("".concat(Jn(e),"/").concat(Jn(t.type),".ngfactory.js"))}var Er="@angular/core",_r=function e(){Object(b.a)(this,e)};_r.NEW_METHOD="factory",_r.TRANSFORM_METHOD="transform",_r.PATCH_DEPS="patchedDeps",_r.core={name:null,moduleName:Er},_r.namespaceHTML={name:"\u0275\u0275namespaceHTML",moduleName:Er},_r.namespaceMathML={name:"\u0275\u0275namespaceMathML",moduleName:Er},_r.namespaceSVG={name:"\u0275\u0275namespaceSVG",moduleName:Er},_r.element={name:"\u0275\u0275element",moduleName:Er},_r.elementStart={name:"\u0275\u0275elementStart",moduleName:Er},_r.elementEnd={name:"\u0275\u0275elementEnd",moduleName:Er},_r.advance={name:"\u0275\u0275advance",moduleName:Er},_r.syntheticHostProperty={name:"\u0275\u0275syntheticHostProperty",moduleName:Er},_r.syntheticHostListener={name:"\u0275\u0275syntheticHostListener",moduleName:Er},_r.attribute={name:"\u0275\u0275attribute",moduleName:Er},_r.attributeInterpolate1={name:"\u0275\u0275attributeInterpolate1",moduleName:Er},_r.attributeInterpolate2={name:"\u0275\u0275attributeInterpolate2",moduleName:Er},_r.attributeInterpolate3={name:"\u0275\u0275attributeInterpolate3",moduleName:Er},_r.attributeInterpolate4={name:"\u0275\u0275attributeInterpolate4",moduleName:Er},_r.attributeInterpolate5={name:"\u0275\u0275attributeInterpolate5",moduleName:Er},_r.attributeInterpolate6={name:"\u0275\u0275attributeInterpolate6",moduleName:Er},_r.attributeInterpolate7={name:"\u0275\u0275attributeInterpolate7",moduleName:Er},_r.attributeInterpolate8={name:"\u0275\u0275attributeInterpolate8",moduleName:Er},_r.attributeInterpolateV={name:"\u0275\u0275attributeInterpolateV",moduleName:Er},_r.classProp={name:"\u0275\u0275classProp",moduleName:Er},_r.elementContainerStart={name:"\u0275\u0275elementContainerStart",moduleName:Er},_r.elementContainerEnd={name:"\u0275\u0275elementContainerEnd",moduleName:Er},_r.elementContainer={name:"\u0275\u0275elementContainer",moduleName:Er},_r.styleMap={name:"\u0275\u0275styleMap",moduleName:Er},_r.styleMapInterpolate1={name:"\u0275\u0275styleMapInterpolate1",moduleName:Er},_r.styleMapInterpolate2={name:"\u0275\u0275styleMapInterpolate2",moduleName:Er},_r.styleMapInterpolate3={name:"\u0275\u0275styleMapInterpolate3",moduleName:Er},_r.styleMapInterpolate4={name:"\u0275\u0275styleMapInterpolate4",moduleName:Er},_r.styleMapInterpolate5={name:"\u0275\u0275styleMapInterpolate5",moduleName:Er},_r.styleMapInterpolate6={name:"\u0275\u0275styleMapInterpolate6",moduleName:Er},_r.styleMapInterpolate7={name:"\u0275\u0275styleMapInterpolate7",moduleName:Er},_r.styleMapInterpolate8={name:"\u0275\u0275styleMapInterpolate8",moduleName:Er},_r.styleMapInterpolateV={name:"\u0275\u0275styleMapInterpolateV",moduleName:Er},_r.classMap={name:"\u0275\u0275classMap",moduleName:Er},_r.classMapInterpolate1={name:"\u0275\u0275classMapInterpolate1",moduleName:Er},_r.classMapInterpolate2={name:"\u0275\u0275classMapInterpolate2",moduleName:Er},_r.classMapInterpolate3={name:"\u0275\u0275classMapInterpolate3",moduleName:Er},_r.classMapInterpolate4={name:"\u0275\u0275classMapInterpolate4",moduleName:Er},_r.classMapInterpolate5={name:"\u0275\u0275classMapInterpolate5",moduleName:Er},_r.classMapInterpolate6={name:"\u0275\u0275classMapInterpolate6",moduleName:Er},_r.classMapInterpolate7={name:"\u0275\u0275classMapInterpolate7",moduleName:Er},_r.classMapInterpolate8={name:"\u0275\u0275classMapInterpolate8",moduleName:Er},_r.classMapInterpolateV={name:"\u0275\u0275classMapInterpolateV",moduleName:Er},_r.styleProp={name:"\u0275\u0275styleProp",moduleName:Er},_r.stylePropInterpolate1={name:"\u0275\u0275stylePropInterpolate1",moduleName:Er},_r.stylePropInterpolate2={name:"\u0275\u0275stylePropInterpolate2",moduleName:Er},_r.stylePropInterpolate3={name:"\u0275\u0275stylePropInterpolate3",moduleName:Er},_r.stylePropInterpolate4={name:"\u0275\u0275stylePropInterpolate4",moduleName:Er},_r.stylePropInterpolate5={name:"\u0275\u0275stylePropInterpolate5",moduleName:Er},_r.stylePropInterpolate6={name:"\u0275\u0275stylePropInterpolate6",moduleName:Er},_r.stylePropInterpolate7={name:"\u0275\u0275stylePropInterpolate7",moduleName:Er},_r.stylePropInterpolate8={name:"\u0275\u0275stylePropInterpolate8",moduleName:Er},_r.stylePropInterpolateV={name:"\u0275\u0275stylePropInterpolateV",moduleName:Er},_r.nextContext={name:"\u0275\u0275nextContext",moduleName:Er},_r.templateCreate={name:"\u0275\u0275template",moduleName:Er},_r.text={name:"\u0275\u0275text",moduleName:Er},_r.enableBindings={name:"\u0275\u0275enableBindings",moduleName:Er},_r.disableBindings={name:"\u0275\u0275disableBindings",moduleName:Er},_r.getCurrentView={name:"\u0275\u0275getCurrentView",moduleName:Er},_r.textInterpolate={name:"\u0275\u0275textInterpolate",moduleName:Er},_r.textInterpolate1={name:"\u0275\u0275textInterpolate1",moduleName:Er},_r.textInterpolate2={name:"\u0275\u0275textInterpolate2",moduleName:Er},_r.textInterpolate3={name:"\u0275\u0275textInterpolate3",moduleName:Er},_r.textInterpolate4={name:"\u0275\u0275textInterpolate4",moduleName:Er},_r.textInterpolate5={name:"\u0275\u0275textInterpolate5",moduleName:Er},_r.textInterpolate6={name:"\u0275\u0275textInterpolate6",moduleName:Er},_r.textInterpolate7={name:"\u0275\u0275textInterpolate7",moduleName:Er},_r.textInterpolate8={name:"\u0275\u0275textInterpolate8",moduleName:Er},_r.textInterpolateV={name:"\u0275\u0275textInterpolateV",moduleName:Er},_r.restoreView={name:"\u0275\u0275restoreView",moduleName:Er},_r.pureFunction0={name:"\u0275\u0275pureFunction0",moduleName:Er},_r.pureFunction1={name:"\u0275\u0275pureFunction1",moduleName:Er},_r.pureFunction2={name:"\u0275\u0275pureFunction2",moduleName:Er},_r.pureFunction3={name:"\u0275\u0275pureFunction3",moduleName:Er},_r.pureFunction4={name:"\u0275\u0275pureFunction4",moduleName:Er},_r.pureFunction5={name:"\u0275\u0275pureFunction5",moduleName:Er},_r.pureFunction6={name:"\u0275\u0275pureFunction6",moduleName:Er},_r.pureFunction7={name:"\u0275\u0275pureFunction7",moduleName:Er},_r.pureFunction8={name:"\u0275\u0275pureFunction8",moduleName:Er},_r.pureFunctionV={name:"\u0275\u0275pureFunctionV",moduleName:Er},_r.pipeBind1={name:"\u0275\u0275pipeBind1",moduleName:Er},_r.pipeBind2={name:"\u0275\u0275pipeBind2",moduleName:Er},_r.pipeBind3={name:"\u0275\u0275pipeBind3",moduleName:Er},_r.pipeBind4={name:"\u0275\u0275pipeBind4",moduleName:Er},_r.pipeBindV={name:"\u0275\u0275pipeBindV",moduleName:Er},_r.hostProperty={name:"\u0275\u0275hostProperty",moduleName:Er},_r.property={name:"\u0275\u0275property",moduleName:Er},_r.propertyInterpolate={name:"\u0275\u0275propertyInterpolate",moduleName:Er},_r.propertyInterpolate1={name:"\u0275\u0275propertyInterpolate1",moduleName:Er},_r.propertyInterpolate2={name:"\u0275\u0275propertyInterpolate2",moduleName:Er},_r.propertyInterpolate3={name:"\u0275\u0275propertyInterpolate3",moduleName:Er},_r.propertyInterpolate4={name:"\u0275\u0275propertyInterpolate4",moduleName:Er},_r.propertyInterpolate5={name:"\u0275\u0275propertyInterpolate5",moduleName:Er},_r.propertyInterpolate6={name:"\u0275\u0275propertyInterpolate6",moduleName:Er},_r.propertyInterpolate7={name:"\u0275\u0275propertyInterpolate7",moduleName:Er},_r.propertyInterpolate8={name:"\u0275\u0275propertyInterpolate8",moduleName:Er},_r.propertyInterpolateV={name:"\u0275\u0275propertyInterpolateV",moduleName:Er},_r.i18n={name:"\u0275\u0275i18n",moduleName:Er},_r.i18nAttributes={name:"\u0275\u0275i18nAttributes",moduleName:Er},_r.i18nExp={name:"\u0275\u0275i18nExp",moduleName:Er},_r.i18nStart={name:"\u0275\u0275i18nStart",moduleName:Er},_r.i18nEnd={name:"\u0275\u0275i18nEnd",moduleName:Er},_r.i18nApply={name:"\u0275\u0275i18nApply",moduleName:Er},_r.i18nPostprocess={name:"\u0275\u0275i18nPostprocess",moduleName:Er},_r.pipe={name:"\u0275\u0275pipe",moduleName:Er},_r.projection={name:"\u0275\u0275projection",moduleName:Er},_r.projectionDef={name:"\u0275\u0275projectionDef",moduleName:Er},_r.reference={name:"\u0275\u0275reference",moduleName:Er},_r.inject={name:"\u0275\u0275inject",moduleName:Er},_r.injectAttribute={name:"\u0275\u0275injectAttribute",moduleName:Er},_r.injectPipeChangeDetectorRef={name:"\u0275\u0275injectPipeChangeDetectorRef",moduleName:Er},_r.directiveInject={name:"\u0275\u0275directiveInject",moduleName:Er},_r.invalidFactory={name:"\u0275\u0275invalidFactory",moduleName:Er},_r.invalidFactoryDep={name:"\u0275\u0275invalidFactoryDep",moduleName:Er},_r.templateRefExtractor={name:"\u0275\u0275templateRefExtractor",moduleName:Er},_r.forwardRef={name:"forwardRef",moduleName:Er},_r.resolveForwardRef={name:"resolveForwardRef",moduleName:Er},_r.resolveWindow={name:"\u0275\u0275resolveWindow",moduleName:Er},_r.resolveDocument={name:"\u0275\u0275resolveDocument",moduleName:Er},_r.resolveBody={name:"\u0275\u0275resolveBody",moduleName:Er},_r.defineComponent={name:"\u0275\u0275defineComponent",moduleName:Er},_r.declareComponent={name:"\u0275\u0275ngDeclareComponent",moduleName:Er},_r.setComponentScope={name:"\u0275\u0275setComponentScope",moduleName:Er},_r.ChangeDetectionStrategy={name:"ChangeDetectionStrategy",moduleName:Er},_r.ViewEncapsulation={name:"ViewEncapsulation",moduleName:Er},_r.ComponentDefWithMeta={name:"\u0275\u0275ComponentDefWithMeta",moduleName:Er},_r.FactoryDef={name:"\u0275\u0275FactoryDef",moduleName:Er},_r.defineDirective={name:"\u0275\u0275defineDirective",moduleName:Er},_r.declareDirective={name:"\u0275\u0275ngDeclareDirective",moduleName:Er},_r.DirectiveDefWithMeta={name:"\u0275\u0275DirectiveDefWithMeta",moduleName:Er},_r.InjectorDef={name:"\u0275\u0275InjectorDef",moduleName:Er},_r.defineInjector={name:"\u0275\u0275defineInjector",moduleName:Er},_r.NgModuleDefWithMeta={name:"\u0275\u0275NgModuleDefWithMeta",moduleName:Er},_r.ModuleWithProviders={name:"ModuleWithProviders",moduleName:Er},_r.defineNgModule={name:"\u0275\u0275defineNgModule",moduleName:Er},_r.setNgModuleScope={name:"\u0275\u0275setNgModuleScope",moduleName:Er},_r.PipeDefWithMeta={name:"\u0275\u0275PipeDefWithMeta",moduleName:Er},_r.definePipe={name:"\u0275\u0275definePipe",moduleName:Er},_r.declarePipe={name:"\u0275\u0275ngDeclarePipe",moduleName:Er},_r.queryRefresh={name:"\u0275\u0275queryRefresh",moduleName:Er},_r.viewQuery={name:"\u0275\u0275viewQuery",moduleName:Er},_r.loadQuery={name:"\u0275\u0275loadQuery",moduleName:Er},_r.contentQuery={name:"\u0275\u0275contentQuery",moduleName:Er},_r.NgOnChangesFeature={name:"\u0275\u0275NgOnChangesFeature",moduleName:Er},_r.InheritDefinitionFeature={name:"\u0275\u0275InheritDefinitionFeature",moduleName:Er},_r.CopyDefinitionFeature={name:"\u0275\u0275CopyDefinitionFeature",moduleName:Er},_r.ProvidersFeature={name:"\u0275\u0275ProvidersFeature",moduleName:Er},_r.listener={name:"\u0275\u0275listener",moduleName:Er},_r.getInheritedFactory={name:"\u0275\u0275getInheritedFactory",moduleName:Er},_r.sanitizeHtml={name:"\u0275\u0275sanitizeHtml",moduleName:Er},_r.sanitizeStyle={name:"\u0275\u0275sanitizeStyle",moduleName:Er},_r.sanitizeResourceUrl={name:"\u0275\u0275sanitizeResourceUrl",moduleName:Er},_r.sanitizeScript={name:"\u0275\u0275sanitizeScript",moduleName:Er},_r.sanitizeUrl={name:"\u0275\u0275sanitizeUrl",moduleName:Er},_r.sanitizeUrlOrResourceUrl={name:"\u0275\u0275sanitizeUrlOrResourceUrl",moduleName:Er},_r.trustConstantHtml={name:"\u0275\u0275trustConstantHtml",moduleName:Er},_r.trustConstantResourceUrl={name:"\u0275\u0275trustConstantResourceUrl",moduleName:Er};var Sr=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;Object(b.a)(this,e),this.file=t,this.sourcesContent=new Map,this.lines=[],this.lastCol0=0,this.hasMappings=!1}return Object(k.a)(e,[{key:"addSource",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return this.sourcesContent.has(e)||this.sourcesContent.set(e,t),this}},{key:"addLine",value:function(){return this.lines.push([]),this.lastCol0=0,this}},{key:"addMapping",value:function(e,t,n,r){if(!this.currentLine)throw new Error("A line must be added before mappings can be added");if(null!=t&&!this.sourcesContent.has(t))throw new Error('Unknown source file "'.concat(t,'"'));if(null==e)throw new Error("The column in the generated code must be provided");if(e<this.lastCol0)throw new Error("Mapping should be added in output order");if(t&&(null==n||null==r))throw new Error("The source location must be provided when a source url is provided");return this.hasMappings=!0,this.lastCol0=e,this.currentLine.push({col0:e,sourceUrl:t,sourceLine0:n,sourceCol0:r}),this}},{key:"currentLine",get:function(){return this.lines.slice(-1)[0]}},{key:"toJSON",value:function(){var e=this;if(!this.hasMappings)return null;var t=new Map,n=[],r=[];Array.from(this.sourcesContent.keys()).forEach(function(i,a){t.set(i,a),n.push(i),r.push(e.sourcesContent.get(i)||null)});var i="",a=0,s=0,o=0,u=0;return this.lines.forEach(function(e){a=0,i+=e.map(function(e){var n=xr(e.col0-a);return a=e.col0,null!=e.sourceUrl&&(n+=xr(t.get(e.sourceUrl)-s),s=t.get(e.sourceUrl),n+=xr(e.sourceLine0-o),o=e.sourceLine0,n+=xr(e.sourceCol0-u),u=e.sourceCol0),n}).join(","),i+=";"}),i=i.slice(0,-1),{file:this.file||"",version:3,sourceRoot:"",sources:n,sourcesContent:r,mappings:i}}},{key:"toJsComment",value:function(){return this.hasMappings?"//# sourceMappingURL=data:application/json;base64,"+function(e){for(var t="",n=Bn(e),r=0;r<n.length;){var i=n[r++],a=r<n.length?n[r++]:null,s=r<n.length?n[r++]:null;t+=wr(i>>2),t+=wr((3&i)<<4|(null===a?0:a>>4)),t+=null===a?"=":wr((15&a)<<2|(null===s?0:s>>6)),t+=null===a||null===s?"=":wr(63&s)}return t}(JSON.stringify(this,null,0)):""}}]),e}();function xr(e){e=e<0?1+(-e<<1):e<<1;var t="";do{var n=31&e;(e>>=5)>0&&(n|=32),t+=wr(n)}while(e>0);return t}function wr(e){if(e<0||e>=64)throw new Error("Can only encode value in the range [0, 63]");return"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[e]}var Cr=/'|\\|\n|\r|\$/g,Or=/^[$A-Z_][0-9A-Z_$]*$/i,Tr=Xt("error",null,null),jr=Xt("stack",null,null),Nr=function e(t){Object(b.a)(this,e),this.indent=t,this.partsLength=0,this.parts=[],this.srcSpans=[]},Mr=function(){function e(t){Object(b.a)(this,e),this._indent=t,this._classes=[],this._preambleLineCount=0,this._lines=[new Nr(t)]}return Object(k.a)(e,[{key:"_currentLine",get:function(){return this._lines[this._lines.length-1]}},{key:"println",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";this.print(e||null,t,!0)}},{key:"lineIsEmpty",value:function(){return 0===this._currentLine.parts.length}},{key:"lineLength",value:function(){return this._currentLine.indent*"  ".length+this._currentLine.partsLength}},{key:"print",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];t.length>0&&(this._currentLine.parts.push(t),this._currentLine.partsLength+=t.length,this._currentLine.srcSpans.push(e&&e.sourceSpan||null)),n&&this._lines.push(new Nr(this._indent))}},{key:"removeEmptyLastLine",value:function(){this.lineIsEmpty()&&this._lines.pop()}},{key:"incIndent",value:function(){this._indent++,this.lineIsEmpty()&&(this._currentLine.indent=this._indent)}},{key:"decIndent",value:function(){this._indent--,this.lineIsEmpty()&&(this._currentLine.indent=this._indent)}},{key:"pushClass",value:function(e){this._classes.push(e)}},{key:"popClass",value:function(){return this._classes.pop()}},{key:"currentClass",get:function(){return this._classes.length>0?this._classes[this._classes.length-1]:null}},{key:"toSource",value:function(){return this.sourceLines.map(function(e){return e.parts.length>0?Ir(e.indent)+e.parts.join(""):""}).join("\n")}},{key:"toSourceMapGenerator",value:function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=new Sr(e),r=!1,i=function(){r||(n.addSource(e," ").addMapping(0,e,0,0),r=!0)},a=0;a<t;a++)n.addLine(),i();return this.sourceLines.forEach(function(e,t){n.addLine();for(var a=e.srcSpans,s=e.parts,o=e.indent*"  ".length,u=0;u<a.length&&!a[u];)o+=s[u].length,u++;for(u<a.length&&0===t&&0===o?r=!0:i();u<a.length;){var c=a[u],l=c.start.file,h=c.start.line,p=c.start.col;for(n.addSource(l.url,l.content).addMapping(o,l.url,h,p),o+=s[u].length,u++;u<a.length&&(c===a[u]||!a[u]);)o+=s[u].length,u++}}),n}},{key:"setPreambleLineCount",value:function(e){return this._preambleLineCount=e}},{key:"spanOf",value:function(e,t){var n=this._lines[e-this._preambleLineCount];if(n)for(var r=t-Ir(n.indent).length,i=0;i<n.parts.length;i++){var a=n.parts[i];if(a.length>r)return n.srcSpans[i];r-=a.length}return null}},{key:"sourceLines",get:function(){return this._lines.length&&0===this._lines[this._lines.length-1].parts.length?this._lines.slice(0,-1):this._lines}}],[{key:"createRoot",value:function(){return new e(0)}}]),e}(),Ar=function(){function e(t){Object(b.a)(this,e),this._escapeDollarInStrings=t}return Object(k.a)(e,[{key:"printLeadingComments",value:function(e,t){if(void 0!==e.leadingComments){var n,r=Object(v.a)(e.leadingComments);try{for(r.s();!(n=r.n()).done;){var i=n.value;i instanceof St?t.print(e,"/*".concat(i.toString(),"*/"),i.trailingNewline):i.multiline?t.print(e,"/* ".concat(i.text," */"),i.trailingNewline):i.text.split("\n").forEach(function(n){t.println(e,"// ".concat(n))})}}catch(a){r.e(a)}finally{r.f()}}}},{key:"visitExpressionStmt",value:function(e,t){return this.printLeadingComments(e,t),e.expr.visitExpression(this,t),t.println(e,";"),null}},{key:"visitReturnStmt",value:function(e,t){return this.printLeadingComments(e,t),t.print(e,"return "),e.value.visitExpression(this,t),t.println(e,";"),null}},{key:"visitIfStmt",value:function(e,t){this.printLeadingComments(e,t),t.print(e,"if ("),e.condition.visitExpression(this,t),t.print(e,") {");var n=null!=e.falseCase&&e.falseCase.length>0;return e.trueCase.length<=1&&!n?(t.print(e," "),this.visitAllStatements(e.trueCase,t),t.removeEmptyLastLine(),t.print(e," ")):(t.println(),t.incIndent(),this.visitAllStatements(e.trueCase,t),t.decIndent(),n&&(t.println(e,"} else {"),t.incIndent(),this.visitAllStatements(e.falseCase,t),t.decIndent())),t.println(e,"}"),null}},{key:"visitThrowStmt",value:function(e,t){return this.printLeadingComments(e,t),t.print(e,"throw "),e.error.visitExpression(this,t),t.println(e,";"),null}},{key:"visitWriteVarExpr",value:function(e,t){var n=t.lineIsEmpty();return n||t.print(e,"("),t.print(e,"".concat(e.name," = ")),e.value.visitExpression(this,t),n||t.print(e,")"),null}},{key:"visitWriteKeyExpr",value:function(e,t){var n=t.lineIsEmpty();return n||t.print(e,"("),e.receiver.visitExpression(this,t),t.print(e,"["),e.index.visitExpression(this,t),t.print(e,"] = "),e.value.visitExpression(this,t),n||t.print(e,")"),null}},{key:"visitWritePropExpr",value:function(e,t){var n=t.lineIsEmpty();return n||t.print(e,"("),e.receiver.visitExpression(this,t),t.print(e,".".concat(e.name," = ")),e.value.visitExpression(this,t),n||t.print(e,")"),null}},{key:"visitInvokeMethodExpr",value:function(e,t){e.receiver.visitExpression(this,t);var n=e.name;return null!=e.builtin&&null==(n=this.getBuiltinMethodName(e.builtin))||(t.print(e,".".concat(n,"(")),this.visitAllExpressions(e.args,t,","),t.print(e,")")),null}},{key:"visitInvokeFunctionExpr",value:function(e,t){return e.fn.visitExpression(this,t),t.print(e,"("),this.visitAllExpressions(e.args,t,","),t.print(e,")"),null}},{key:"visitTaggedTemplateExpr",value:function(e,t){e.tag.visitExpression(this,t),t.print(e,"`"+e.template.elements[0].rawText);for(var n=1;n<e.template.elements.length;n++)t.print(e,"${"),e.template.expressions[n-1].visitExpression(this,t),t.print(e,"}".concat(e.template.elements[n].rawText));return t.print(e,"`"),null}},{key:"visitWrappedNodeExpr",value:function(e,t){throw new Error("Abstract emitter cannot visit WrappedNodeExpr.")}},{key:"visitTypeofExpr",value:function(e,t){t.print(e,"typeof "),e.expr.visitExpression(this,t)}},{key:"visitReadVarExpr",value:function(e,t){var n=e.name;if(null!=e.builtin)switch(e.builtin){case Pe.Super:n="super";break;case Pe.This:n="this";break;case Pe.CatchError:n=Tr.name;break;case Pe.CatchStack:n=jr.name;break;default:throw new Error("Unknown builtin variable ".concat(e.builtin))}return t.print(e,n),null}},{key:"visitInstantiateExpr",value:function(e,t){return t.print(e,"new "),e.classExpr.visitExpression(this,t),t.print(e,"("),this.visitAllExpressions(e.args,t,","),t.print(e,")"),null}},{key:"visitLiteralExpr",value:function(e,t){var n=e.value;return"string"==typeof n?t.print(e,Pr(n,this._escapeDollarInStrings)):t.print(e,"".concat(n)),null}},{key:"visitLocalizedString",value:function(e,t){var n=e.serializeI18nHead();t.print(e,"$localize `"+n.raw);for(var r=1;r<e.messageParts.length;r++)t.print(e,"${"),e.expressions[r-1].visitExpression(this,t),t.print(e,"}".concat(e.serializeI18nTemplatePart(r).raw));return t.print(e,"`"),null}},{key:"visitConditionalExpr",value:function(e,t){return t.print(e,"("),e.condition.visitExpression(this,t),t.print(e,"? "),e.trueCase.visitExpression(this,t),t.print(e,": "),e.falseCase.visitExpression(this,t),t.print(e,")"),null}},{key:"visitNotExpr",value:function(e,t){return t.print(e,"!"),e.condition.visitExpression(this,t),null}},{key:"visitAssertNotNullExpr",value:function(e,t){return e.condition.visitExpression(this,t),null}},{key:"visitUnaryOperatorExpr",value:function(e,t){var n;switch(e.operator){case ge.Plus:n="+";break;case ge.Minus:n="-";break;default:throw new Error("Unknown operator ".concat(e.operator))}return e.parens&&t.print(e,"("),t.print(e,n),e.expr.visitExpression(this,t),e.parens&&t.print(e,")"),null}},{key:"visitBinaryOperatorExpr",value:function(e,t){var n;switch(e.operator){case be.Equals:n="==";break;case be.Identical:n="===";break;case be.NotEquals:n="!=";break;case be.NotIdentical:n="!==";break;case be.And:n="&&";break;case be.BitwiseAnd:n="&";break;case be.Or:n="||";break;case be.Plus:n="+";break;case be.Minus:n="-";break;case be.Divide:n="/";break;case be.Multiply:n="*";break;case be.Modulo:n="%";break;case be.Lower:n="<";break;case be.LowerEquals:n="<=";break;case be.Bigger:n=">";break;case be.BiggerEquals:n=">=";break;default:throw new Error("Unknown operator ".concat(e.operator))}return e.parens&&t.print(e,"("),e.lhs.visitExpression(this,t),t.print(e," ".concat(n," ")),e.rhs.visitExpression(this,t),e.parens&&t.print(e,")"),null}},{key:"visitReadPropExpr",value:function(e,t){return e.receiver.visitExpression(this,t),t.print(e,"."),t.print(e,e.name),null}},{key:"visitReadKeyExpr",value:function(e,t){return e.receiver.visitExpression(this,t),t.print(e,"["),e.index.visitExpression(this,t),t.print(e,"]"),null}},{key:"visitLiteralArrayExpr",value:function(e,t){return t.print(e,"["),this.visitAllExpressions(e.entries,t,","),t.print(e,"]"),null}},{key:"visitLiteralMapExpr",value:function(e,t){var n=this;return t.print(e,"{"),this.visitAllObjects(function(r){t.print(e,"".concat(Pr(r.key,n._escapeDollarInStrings,r.quoted),":")),r.value.visitExpression(n,t)},e.entries,t,","),t.print(e,"}"),null}},{key:"visitCommaExpr",value:function(e,t){return t.print(e,"("),this.visitAllExpressions(e.parts,t,","),t.print(e,")"),null}},{key:"visitAllExpressions",value:function(e,t,n){var r=this;this.visitAllObjects(function(e){return e.visitExpression(r,t)},e,t,n)}},{key:"visitAllObjects",value:function(e,t,n,r){for(var i=!1,a=0;a<t.length;a++)a>0&&(n.lineLength()>80?(n.print(null,r,!0),i||(n.incIndent(),n.incIndent(),i=!0)):n.print(null,r,!1)),e(t[a]);i&&(n.decIndent(),n.decIndent())}},{key:"visitAllStatements",value:function(e,t){var n=this;e.forEach(function(e){return e.visitStatement(n,t)})}}]),e}();function Pr(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(null==e)return null;var r=e.replace(Cr,function(){return"$"==(arguments.length<=0?void 0:arguments[0])?t?"\\$":"$":"\n"==(arguments.length<=0?void 0:arguments[0])?"\\n":"\r"==(arguments.length<=0?void 0:arguments[0])?"\\r":"\\".concat(arguments.length<=0?void 0:arguments[0])}),i=n||!Or.test(r);return i?"'".concat(r,"'"):r}function Ir(e){for(var t="",n=0;n<e;n++)t+="  ";return t}function Rr(e){return en(Object.keys(e).map(function(t){return{key:t,value:e[t],quoted:!1}}))}function Dr(e,t){if(0===t)return Yt(e);for(var n=[],r=0;r<t;r++)n.push(xe);return Yt(e,void 0,n)}function Fr(e){return"".concat("@").concat(e)}function Lr(e,t){return"".concat("@").concat(e,".").concat(t)}function Br(e,t){var n=Pr(t,!1,!1);return n!==t?"".concat(e,"[").concat(n,"]"):"".concat(e,".").concat(t)}function Vr(e,t){return"animation_".concat(e,"_").concat(t)}function Ur(e){return Hr("ngDevMode",e)}function Hr(e,t){var n=new it({name:e,moduleName:null}),r=new vt(be.Identical,new Fe(n),an("undefined")),i=new vt(be.Or,r,n,void 0,void 0,!0);return new vt(be.And,i,t)}var qr=function(){function e(t,n){Object(b.a)(this,e),this.value=t,this.sourceSpan=n}return Object(k.a)(e,[{key:"visit",value:function(e){throw new Error("visit() not implemented for Comment")}}]),e}(),Wr=function(){function e(t,n){Object(b.a)(this,e),this.value=t,this.sourceSpan=n}return Object(k.a)(e,[{key:"visit",value:function(e){return e.visitText(this)}}]),e}(),zr=function(){function e(t,n,r){Object(b.a)(this,e),this.value=t,this.sourceSpan=n,this.i18n=r}return Object(k.a)(e,[{key:"visit",value:function(e){return e.visitBoundText(this)}}]),e}(),Kr=function(){function e(t,n,r,i,a,s){Object(b.a)(this,e),this.name=t,this.value=n,this.sourceSpan=r,this.keySpan=i,this.valueSpan=a,this.i18n=s}return Object(k.a)(e,[{key:"visit",value:function(e){return e.visitTextAttribute(this)}}]),e}(),Qr=function(){function e(t,n,r,i,a,s,o,u,c){Object(b.a)(this,e),this.name=t,this.type=n,this.securityContext=r,this.value=i,this.unit=a,this.sourceSpan=s,this.keySpan=o,this.valueSpan=u,this.i18n=c}return Object(k.a)(e,[{key:"visit",value:function(e){return e.visitBoundAttribute(this)}}],[{key:"fromBoundElementProperty",value:function(t,n){if(void 0===t.keySpan)throw new Error("Unexpected state: keySpan must be defined for bound attributes but was not for ".concat(t.name,": ").concat(t.sourceSpan));return new e(t.name,t.type,t.securityContext,t.value,t.unit,t.sourceSpan,t.keySpan,t.valueSpan,n)}}]),e}(),Xr=function(){function e(t,n,r,i,a,s,o,u){Object(b.a)(this,e),this.name=t,this.type=n,this.handler=r,this.target=i,this.phase=a,this.sourceSpan=s,this.handlerSpan=o,this.keySpan=u}return Object(k.a)(e,[{key:"visit",value:function(e){return e.visitBoundEvent(this)}}],[{key:"fromParsedEvent",value:function(t){var n=0===t.type?t.targetOrPhase:null,r=1===t.type?t.targetOrPhase:null;if(void 0===t.keySpan)throw new Error("Unexpected state: keySpan must be defined for bound event but was not for ".concat(t.name,": ").concat(t.sourceSpan));return new e(t.name,t.type,t.handler,n,r,t.sourceSpan,t.handlerSpan,t.keySpan)}}]),e}(),Gr=function(){function e(t,n,r,i,a,s,o,u,c,l){Object(b.a)(this,e),this.name=t,this.attributes=n,this.inputs=r,this.outputs=i,this.children=a,this.references=s,this.sourceSpan=o,this.startSourceSpan=u,this.endSourceSpan=c,this.i18n=l}return Object(k.a)(e,[{key:"visit",value:function(e){return e.visitElement(this)}}]),e}(),$r=function(){function e(t,n,r,i,a,s,o,u,c,l,h,p){Object(b.a)(this,e),this.tagName=t,this.attributes=n,this.inputs=r,this.outputs=i,this.templateAttrs=a,this.children=s,this.references=o,this.variables=u,this.sourceSpan=c,this.startSourceSpan=l,this.endSourceSpan=h,this.i18n=p}return Object(k.a)(e,[{key:"visit",value:function(e){return e.visitTemplate(this)}}]),e}(),Yr=function(){function e(t,n,r,i){Object(b.a)(this,e),this.selector=t,this.attributes=n,this.sourceSpan=r,this.i18n=i,this.name="ng-content"}return Object(k.a)(e,[{key:"visit",value:function(e){return e.visitContent(this)}}]),e}(),Jr=function(){function e(t,n,r,i,a){Object(b.a)(this,e),this.name=t,this.value=n,this.sourceSpan=r,this.keySpan=i,this.valueSpan=a}return Object(k.a)(e,[{key:"visit",value:function(e){return e.visitVariable(this)}}]),e}(),Zr=function(){function e(t,n,r,i,a){Object(b.a)(this,e),this.name=t,this.value=n,this.sourceSpan=r,this.keySpan=i,this.valueSpan=a}return Object(k.a)(e,[{key:"visit",value:function(e){return e.visitReference(this)}}]),e}(),ei=function(){function e(t,n,r,i){Object(b.a)(this,e),this.vars=t,this.placeholders=n,this.sourceSpan=r,this.i18n=i}return Object(k.a)(e,[{key:"visit",value:function(e){return e.visitIcu(this)}}]),e}(),ti=function(){function e(){Object(b.a)(this,e)}return Object(k.a)(e,[{key:"visitElement",value:function(e){ni(this,e.attributes),ni(this,e.children),ni(this,e.references)}},{key:"visitTemplate",value:function(e){ni(this,e.attributes),ni(this,e.children),ni(this,e.references),ni(this,e.variables)}},{key:"visitContent",value:function(e){}},{key:"visitVariable",value:function(e){}},{key:"visitReference",value:function(e){}},{key:"visitTextAttribute",value:function(e){}},{key:"visitBoundAttribute",value:function(e){}},{key:"visitBoundEvent",value:function(e){}},{key:"visitText",value:function(e){}},{key:"visitBoundText",value:function(e){}},{key:"visitIcu",value:function(e){}}]),e}();function ni(e,t){var n=[];if(e.visit){var r,i=Object(v.a)(t);try{for(i.s();!(r=i.n()).done;){var a=r.value;e.visit(a)||a.visit(e)}}catch(c){i.e(c)}finally{i.f()}}else{var s,o=Object(v.a)(t);try{for(o.s();!(s=o.n()).done;){var u=s.value.visit(e);u&&n.push(u)}}catch(c){o.e(c)}finally{o.f()}}return n}var ri=function e(t,n,r,i,a,s){Object(b.a)(this,e),this.nodes=t,this.placeholders=n,this.placeholderToMessage=r,this.meaning=i,this.description=a,this.customId=s,this.id=this.customId,this.legacyIds=[],t.length?this.sources=[{filePath:t[0].sourceSpan.start.file.url,startLine:t[0].sourceSpan.start.line+1,startCol:t[0].sourceSpan.start.col+1,endLine:t[t.length-1].sourceSpan.end.line+1,endCol:t[0].sourceSpan.start.col+1}]:this.sources=[]},ii=function(){function e(t,n){Object(b.a)(this,e),this.value=t,this.sourceSpan=n}return Object(k.a)(e,[{key:"visit",value:function(e,t){return e.visitText(this,t)}}]),e}(),ai=function(){function e(t,n){Object(b.a)(this,e),this.children=t,this.sourceSpan=n}return Object(k.a)(e,[{key:"visit",value:function(e,t){return e.visitContainer(this,t)}}]),e}(),si=function(){function e(t,n,r,i){Object(b.a)(this,e),this.expression=t,this.type=n,this.cases=r,this.sourceSpan=i}return Object(k.a)(e,[{key:"visit",value:function(e,t){return e.visitIcu(this,t)}}]),e}(),oi=function(){function e(t,n,r,i,a,s,o,u,c){Object(b.a)(this,e),this.tag=t,this.attrs=n,this.startName=r,this.closeName=i,this.children=a,this.isVoid=s,this.sourceSpan=o,this.startSourceSpan=u,this.endSourceSpan=c}return Object(k.a)(e,[{key:"visit",value:function(e,t){return e.visitTagPlaceholder(this,t)}}]),e}(),ui=function(){function e(t,n,r){Object(b.a)(this,e),this.value=t,this.name=n,this.sourceSpan=r}return Object(k.a)(e,[{key:"visit",value:function(e,t){return e.visitPlaceholder(this,t)}}]),e}(),ci=function(){function e(t,n,r){Object(b.a)(this,e),this.value=t,this.name=n,this.sourceSpan=r}return Object(k.a)(e,[{key:"visit",value:function(e,t){return e.visitIcuPlaceholder(this,t)}}]),e}(),li=function(){function e(){Object(b.a)(this,e)}return Object(k.a)(e,[{key:"visitText",value:function(e,t){return new ii(e.value,e.sourceSpan)}},{key:"visitContainer",value:function(e,t){var n=this,r=e.children.map(function(e){return e.visit(n,t)});return new ai(r,e.sourceSpan)}},{key:"visitIcu",value:function(e,t){var n=this,r={};Object.keys(e.cases).forEach(function(i){return r[i]=e.cases[i].visit(n,t)});var i=new si(e.expression,e.type,r,e.sourceSpan);return i.expressionPlaceholder=e.expressionPlaceholder,i}},{key:"visitTagPlaceholder",value:function(e,t){var n=this,r=e.children.map(function(e){return e.visit(n,t)});return new oi(e.tag,e.attrs,e.startName,e.closeName,r,e.isVoid,e.sourceSpan,e.startSourceSpan,e.endSourceSpan)}},{key:"visitPlaceholder",value:function(e,t){return new ui(e.value,e.name,e.sourceSpan)}},{key:"visitIcuPlaceholder",value:function(e,t){return new ci(e.value,e.name,e.sourceSpan)}}]),e}(),hi=function(){function e(){Object(b.a)(this,e)}return Object(k.a)(e,[{key:"visitText",value:function(e,t){}},{key:"visitContainer",value:function(e,t){var n=this;e.children.forEach(function(e){return e.visit(n)})}},{key:"visitIcu",value:function(e,t){var n=this;Object.keys(e.cases).forEach(function(t){e.cases[t].visit(n)})}},{key:"visitTagPlaceholder",value:function(e,t){var n=this;e.children.forEach(function(e){return e.visit(n)})}},{key:"visitPlaceholder",value:function(e,t){}},{key:"visitIcuPlaceholder",value:function(e,t){}}]),e}(),pi=function(){function e(t){Object(b.a)(this,e),this.digits=t}return Object(k.a)(e,[{key:"clone",value:function(){return new e(this.digits.slice())}},{key:"add",value:function(e){var t=this.clone();return t.addToSelf(e),t}},{key:"addToSelf",value:function(e){for(var t=Math.max(this.digits.length,e.digits.length),n=0,r=0;r<t;r++){var i=n;r<this.digits.length&&(i+=this.digits[r]),r<e.digits.length&&(i+=e.digits[r]),i>=10?(this.digits[r]=i-10,n=1):(this.digits[r]=i,n=0)}n>0&&(this.digits[t]=1)}},{key:"toString",value:function(){for(var e="",t=this.digits.length-1;t>=0;t--)e+=this.digits[t];return e}}],[{key:"zero",value:function(){return new e([0])}},{key:"one",value:function(){return new e([1])}}]),e}(),vi=function(){function e(t){Object(b.a)(this,e),this.powerOfTwos=[t]}return Object(k.a)(e,[{key:"getValue",value:function(){return this.powerOfTwos[0]}},{key:"multiplyBy",value:function(e){var t=pi.zero();return this.multiplyByAndAddTo(e,t),t}},{key:"multiplyByAndAddTo",value:function(e,t){for(var n=0;0!==e;e>>>=1,n++)if(1&e){var r=this.getMultipliedByPowerOfTwo(n);t.addToSelf(r)}}},{key:"getMultipliedByPowerOfTwo",value:function(e){for(var t=this.powerOfTwos.length;t<=e;t++){var n=this.powerOfTwos[t-1];this.powerOfTwos[t]=n.add(n)}return this.powerOfTwos[e]}}]),e}(),fi=function(){function e(t){Object(b.a)(this,e),this.base=t,this.exponents=[new vi(pi.one())]}return Object(k.a)(e,[{key:"toThePowerOf",value:function(e){for(var t=this.exponents.length;t<=e;t++){var n=this.exponents[t-1].multiplyBy(this.base);this.exponents[t]=new vi(n)}return this.exponents[e]}}]),e}();function di(e){return e.id||mi(e)}function mi(e){return function(e){var t=Bn(e),n=function(e,t){for(var n=e.length+3>>>2,r=[],i=0;i<n;i++)r[i]=Ri(e,4*i,t);return r}(t,Ei.Big),r=8*t.length,i=Qn(80),a=1732584193,s=4023233417,o=2562383102,u=271733878,c=3285377520;n[r>>5]|=128<<24-r%32,n[15+(r+64>>9<<4)]=r;for(var l=0;l<n.length;l+=16){for(var h=a,p=s,v=o,f=u,d=c,m=0;m<80;m++){i[m]=m<16?n[l+m]:Ai(i[m-3]^i[m-8]^i[m-14]^i[m-16],1);var y=Si(m,s,o,u),g=y[0],b=y[1],k=[Ai(a,5),g,c,b,i[m]].reduce(Ti);c=u,u=o,o=Ai(s,30),s=a,a=k}a=Ti(a,h),s=Ti(s,p),o=Ti(o,v),u=Ti(u,f),c=Ti(c,d)}return function(e){for(var t="",n=0;n<e.length;n++){var r=Ii(e,n);t+=(r>>>4).toString(16)+(15&r).toString(16)}return t.toLowerCase()}(function(e){return e.reduce(function(e,t){return e.concat(function(e){for(var t=[],n=0;n<4;n++)t.push(e>>>8*(3-n)&255);return t}(t))},[])}([a,s,o,u,c]))}((t=e.nodes,t.map(function(e){return e.visit(ki,null)})).join("")+"[".concat(e.meaning,"]"));var t}function yi(e){return e.id||gi(e)}function gi(e){var t=new _i;return wi(e.nodes.map(function(e){return e.visit(t,null)}).join(""),e.meaning)}var bi=function(){function e(){Object(b.a)(this,e)}return Object(k.a)(e,[{key:"visitText",value:function(e,t){return e.value}},{key:"visitContainer",value:function(e,t){var n=this;return"[".concat(e.children.map(function(e){return e.visit(n)}).join(", "),"]")}},{key:"visitIcu",value:function(e,t){var n=this,r=Object.keys(e.cases).map(function(t){return"".concat(t," {").concat(e.cases[t].visit(n),"}")});return"{".concat(e.expression,", ").concat(e.type,", ").concat(r.join(", "),"}")}},{key:"visitTagPlaceholder",value:function(e,t){var n=this;return e.isVoid?'<ph tag name="'.concat(e.startName,'"/>'):'<ph tag name="'.concat(e.startName,'">').concat(e.children.map(function(e){return e.visit(n)}).join(", "),'</ph name="').concat(e.closeName,'">')}},{key:"visitPlaceholder",value:function(e,t){return e.value?'<ph name="'.concat(e.name,'">').concat(e.value,"</ph>"):'<ph name="'.concat(e.name,'"/>')}},{key:"visitIcuPlaceholder",value:function(e,t){return'<ph icu name="'.concat(e.name,'">').concat(e.value.visit(this),"</ph>")}}]),e}(),ki=new bi;var Ei,_i=function(e){Object(m.a)(n,e);var t=Object(y.a)(n);function n(){return Object(b.a)(this,n),t.apply(this,arguments)}return Object(k.a)(n,[{key:"visitIcu",value:function(e,t){var n=this,r=Object.keys(e.cases).map(function(t){return"".concat(t," {").concat(e.cases[t].visit(n),"}")});return"{".concat(e.type,", ").concat(r.join(", "),"}")}}]),n}(bi);function Si(e,t,n,r){return e<20?[t&n|~t&r,1518500249]:e<40?[t^n^r,1859775393]:e<60?[t&n|t&r|n&r,2400959708]:[t^n^r,3395469782]}function xi(e){var t=Bn(e),n=Ci(t,0),r=Ci(t,102072);return 0!=n||0!=r&&1!=r||(n^=319790063,r^=-1801410264),[n,r]}function wi(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=xi(e);if(t){var r=xi(t);n=Ni(Pi(n,1),r)}var i=n[0],a=n[1];return Fi(2147483647&i,a)}function Ci(e,t){var n,r=2654435769,i=2654435769,a=e.length;for(n=0;n+12<=a;n+=12){var s=Oi(r=Ti(r,Ri(e,n,Ei.Little)),i=Ti(i,Ri(e,n+4,Ei.Little)),t=Ti(t,Ri(e,n+8,Ei.Little)));r=s[0],i=s[1],t=s[2]}return r=Ti(r,Ri(e,n,Ei.Little)),i=Ti(i,Ri(e,n+4,Ei.Little)),t=Ti(t,a),Oi(r,i,t=Ti(t,Ri(e,n+8,Ei.Little)<<8))[2]}function Oi(e,t,n){return e=Mi(e,t),e=Mi(e,n),e^=n>>>13,t=Mi(t,n),t=Mi(t,e),t^=e<<8,n=Mi(n,e),n=Mi(n,t),n^=t>>>13,e=Mi(e,t),e=Mi(e,n),e^=n>>>12,t=Mi(t,n),t=Mi(t,e),t^=e<<16,n=Mi(n,e),n=Mi(n,t),n^=t>>>5,e=Mi(e,t),e=Mi(e,n),e^=n>>>3,t=Mi(t,n),t=Mi(t,e),t^=e<<10,n=Mi(n,e),n=Mi(n,t),[e,t,n^=t>>>15]}function Ti(e,t){return ji(e,t)[1]}function ji(e,t){var n=(65535&e)+(65535&t),r=(e>>>16)+(t>>>16)+(n>>>16);return[r>>>16,r<<16|65535&n]}function Ni(e,t){var n=e[0],r=e[1],i=t[0],a=ji(r,t[1]),s=a[0],o=a[1];return[Ti(Ti(n,i),s),o]}function Mi(e,t){var n=(65535&e)-(65535&t);return(e>>16)-(t>>16)+(n>>16)<<16|65535&n}function Ai(e,t){return e<<t|e>>>32-t}function Pi(e,t){var n=e[0],r=e[1];return[n<<t|r>>>32-t,r<<t|n>>>32-t]}function Ii(e,t){return t>=e.length?0:e[t]}function Ri(e,t,n){var r=0;if(n===Ei.Big)for(var i=0;i<4;i++)r+=Ii(e,t+i)<<24-8*i;else for(var a=0;a<4;a++)r+=Ii(e,t+a)<<8*a;return r}!function(e){e[e.Little=0]="Little",e[e.Big=1]="Big"}(Ei||(Ei={}));var Di=new fi(256);function Fi(e,t){var n=Di.toThePowerOf(0).multiplyBy(t);return Di.toThePowerOf(4).multiplyByAndAddTo(e,n),n.toString()}var Li=function(){function e(){Object(b.a)(this,e)}return Object(k.a)(e,[{key:"createNameMapper",value:function(e){return null}}]),e}(),Bi=function(e){Object(m.a)(n,e);var t=Object(y.a)(n);function n(e,r){var i;return Object(b.a)(this,n),(i=t.call(this)).mapName=r,i.internalToPublic={},i.publicToNextId={},i.publicToInternal={},e.nodes.forEach(function(e){return e.visit(Object(p.a)(i))}),i}return Object(k.a)(n,[{key:"toPublicName",value:function(e){return this.internalToPublic.hasOwnProperty(e)?this.internalToPublic[e]:null}},{key:"toInternalName",value:function(e){return this.publicToInternal.hasOwnProperty(e)?this.publicToInternal[e]:null}},{key:"visitText",value:function(e,t){return null}},{key:"visitTagPlaceholder",value:function(e,t){this.visitPlaceholderName(e.startName),Object(f.a)(Object(d.a)(n.prototype),"visitTagPlaceholder",this).call(this,e,t),this.visitPlaceholderName(e.closeName)}},{key:"visitPlaceholder",value:function(e,t){this.visitPlaceholderName(e.name)}},{key:"visitIcuPlaceholder",value:function(e,t){this.visitPlaceholderName(e.name)}},{key:"visitPlaceholderName",value:function(e){if(e&&!this.internalToPublic.hasOwnProperty(e)){var t=this.mapName(e);if(this.publicToInternal.hasOwnProperty(t)){var n=this.publicToNextId[t];this.publicToNextId[t]=n+1,t="".concat(t,"_").concat(n)}else this.publicToNextId[t]=1;this.internalToPublic[e]=t,this.publicToInternal[t]=e}}}]),n}(hi),Vi=new(function(){function e(){Object(b.a)(this,e)}return Object(k.a)(e,[{key:"visitTag",value:function(e){var t=this,n=this._serializeAttributes(e.attrs);if(0==e.children.length)return"<".concat(e.name).concat(n,"/>");var r=e.children.map(function(e){return e.visit(t)});return"<".concat(e.name).concat(n,">").concat(r.join(""),"</").concat(e.name,">")}},{key:"visitText",value:function(e){return e.value}},{key:"visitDeclaration",value:function(e){return"<?xml".concat(this._serializeAttributes(e.attrs)," ?>")}},{key:"_serializeAttributes",value:function(e){var t=Object.keys(e).map(function(t){return"".concat(t,'="').concat(e[t],'"')}).join(" ");return t.length>0?" "+t:""}},{key:"visitDoctype",value:function(e){return"<!DOCTYPE ".concat(e.rootTag," [\n").concat(e.dtd,"\n]>")}}]),e}());function Ui(e){return e.map(function(e){return e.visit(Vi)}).join("")}var Hi=function(){function e(t){var n=this;Object(b.a)(this,e),this.attrs={},Object.keys(t).forEach(function(e){n.attrs[e]=Xi(t[e])})}return Object(k.a)(e,[{key:"visit",value:function(e){return e.visitDeclaration(this)}}]),e}(),qi=function(){function e(t,n){Object(b.a)(this,e),this.rootTag=t,this.dtd=n}return Object(k.a)(e,[{key:"visit",value:function(e){return e.visitDoctype(this)}}]),e}(),Wi=function(){function e(t){var n=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];Object(b.a)(this,e),this.name=t,this.children=i,this.attrs={},Object.keys(r).forEach(function(e){n.attrs[e]=Xi(r[e])})}return Object(k.a)(e,[{key:"visit",value:function(e){return e.visitTag(this)}}]),e}(),zi=function(){function e(t){Object(b.a)(this,e),this.value=Xi(t)}return Object(k.a)(e,[{key:"visit",value:function(e){return e.visitText(this)}}]),e}(),Ki=function(e){Object(m.a)(n,e);var t=Object(y.a)(n);function n(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return Object(b.a)(this,n),t.call(this,"\n".concat(new Array(e+1).join(" ")))}return n}(zi),Qi=[[/&/g,"&amp;"],[/"/g,"&quot;"],[/'/g,"&apos;"],[/</g,"&lt;"],[/>/g,"&gt;"]];function Xi(e){return Qi.reduce(function(e,t){return e.replace(t[0],t[1])},e)}var Gi=function(e){Object(m.a)(n,e);var t=Object(y.a)(n);function n(){return Object(b.a)(this,n),t.apply(this,arguments)}return Object(k.a)(n,[{key:"write",value:function(e,t){var n=new Ji,r=new $i,i=new Wi("messagebundle");return e.forEach(function(e){var t={id:e.id};e.description&&(t.desc=e.description),e.meaning&&(t.meaning=e.meaning);var n=[];e.sources.forEach(function(e){n.push(new Wi("source",{},[new zi("".concat(e.filePath,":").concat(e.startLine).concat(e.endLine!==e.startLine?","+e.endLine:""))]))}),i.children.push(new Ki(2),new Wi("msg",t,[].concat(n,Object(g.a)(r.serialize(e.nodes)))))}),i.children.push(new Ki),Ui([new Hi({version:"1.0",encoding:"UTF-8"}),new Ki,new qi("messagebundle",'<!ELEMENT messagebundle (msg)*>\n<!ATTLIST messagebundle class CDATA #IMPLIED>\n\n<!ELEMENT msg (#PCDATA|ph|source)*>\n<!ATTLIST msg id CDATA #IMPLIED>\n<!ATTLIST msg seq CDATA #IMPLIED>\n<!ATTLIST msg name CDATA #IMPLIED>\n<!ATTLIST msg desc CDATA #IMPLIED>\n<!ATTLIST msg meaning CDATA #IMPLIED>\n<!ATTLIST msg obsolete (obsolete) #IMPLIED>\n<!ATTLIST msg xml:space (default|preserve) "default">\n<!ATTLIST msg is_hidden CDATA #IMPLIED>\n\n<!ELEMENT source (#PCDATA)>\n\n<!ELEMENT ph (#PCDATA|ex)*>\n<!ATTLIST ph name CDATA #REQUIRED>\n\n<!ELEMENT ex (#PCDATA)>'),new Ki,n.addDefaultExamples(i),new Ki])}},{key:"load",value:function(e,t){throw new Error("Unsupported")}},{key:"digest",value:function(e){return Yi(e)}},{key:"createNameMapper",value:function(e){return new Bi(e,Zi)}}]),n}(Li),$i=function(){function e(){Object(b.a)(this,e)}return Object(k.a)(e,[{key:"visitText",value:function(e,t){return[new zi(e.value)]}},{key:"visitContainer",value:function(e,t){var n=this,r=[];return e.children.forEach(function(e){return r.push.apply(r,Object(g.a)(e.visit(n)))}),r}},{key:"visitIcu",value:function(e,t){var n=this,r=[new zi("{".concat(e.expressionPlaceholder,", ").concat(e.type,", "))];return Object.keys(e.cases).forEach(function(t){r.push.apply(r,[new zi("".concat(t," {"))].concat(Object(g.a)(e.cases[t].visit(n)),[new zi("} ")]))}),r.push(new zi("}")),r}},{key:"visitTagPlaceholder",value:function(e,t){var n=new zi("<".concat(e.tag,">")),r=new Wi("ex",{},[n]),i=new Wi("ph",{name:e.startName},[r,n]);if(e.isVoid)return[i];var a=new zi("</".concat(e.tag,">")),s=new Wi("ex",{},[a]),o=new Wi("ph",{name:e.closeName},[s,a]);return[i].concat(Object(g.a)(this.serialize(e.children)),[o])}},{key:"visitPlaceholder",value:function(e,t){var n=new zi("{{".concat(e.value,"}}")),r=new Wi("ex",{},[n]);return[new Wi("ph",{name:e.name},[r,n])]}},{key:"visitIcuPlaceholder",value:function(e,t){var n=e.value.expression,r=e.value.type,i=Object.keys(e.value.cases).map(function(e){return e+" {...}"}).join(" "),a=new zi("{".concat(n,", ").concat(r,", ").concat(i,"}")),s=new Wi("ex",{},[a]);return[new Wi("ph",{name:e.name},[s,a])]}},{key:"serialize",value:function(e){var t,n=this;return(t=[]).concat.apply(t,Object(g.a)(e.map(function(e){return e.visit(n)})))}}]),e}();function Yi(e){return yi(e)}var Ji=function(){function e(){Object(b.a)(this,e)}return Object(k.a)(e,[{key:"addDefaultExamples",value:function(e){return e.visit(this),e}},{key:"visitTag",value:function(e){var t=this;if("ph"===e.name){if(!e.children||0==e.children.length){var n=new zi(e.attrs.name||"...");e.children=[new Wi("ex",{},[n])]}}else e.children&&e.children.forEach(function(e){return e.visit(t)})}},{key:"visitText",value:function(e){}},{key:"visitDeclaration",value:function(e){}},{key:"visitDoctype",value:function(e){}}]),e}();function Zi(e){return e.toUpperCase().replace(/[^A-Z0-9_]/g,"_")}function ea(e){return"i18n"===e||e.startsWith("i18n-")}function ta(e){return e instanceof ri}function na(e){return ta(e)&&1===e.nodes.length&&e.nodes[0]instanceof si}function ra(e){return!!e.i18n}function ia(e){return e.nodes[0]}function aa(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=t>0?":".concat(t):"";return"".concat("\ufffd").concat(e).concat(n).concat("\ufffd")}function sa(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=e;return function(){return t++}}function oa(e){var t={};return e.forEach(function(e,n){t[n]=an(e.length>1?"[".concat(e.join("|"),"]"):e[0])}),t}function ua(e,t){for(var n=e.get(t)||[],r=arguments.length,i=new Array(r>2?r-2:0),a=2;a<r;a++)i[a-2]=arguments[a];n.push.apply(n,i),e.set(t,n)}function ca(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=t,i=new Map,a=e instanceof ri?e.nodes.find(function(e){return e instanceof ai}):e;return a&&a.children.filter(function(e){return e instanceof ui}).forEach(function(e,t){var a=aa(r+t,n);ua(i,e.name,a)}),i}function la(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,n={};return e&&Object.keys(e).length&&Object.keys(e).forEach(function(r){return n[ha(r,t)]=e[r]}),n}function ha(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=Zi(e);if(!t)return n;var r,i=n.split("_");if(1===i.length)return e.toLowerCase();/^\d+$/.test(i[i.length-1])&&(r=i.pop());var a=i.shift().toLowerCase();return i.length&&(a+=i.map(function(e){return e.charAt(0).toUpperCase()+e.slice(1).toLowerCase()}).join("")),r?"".concat(a,"_").concat(r):a}function pa(e){return"".concat("MSG_").concat(e).toUpperCase()}function va(e){return new wt(e.name,void 0,we,void 0,e.sourceSpan)}var fa=/[-.]/;function da(e,t){var n=null;return function(){return n||(e.push(new wt("_t",void 0,xe)),n=Xt(t)),n}}function ma(e){if(this)throw new Error("Builder ".concat(this.constructor.name," doesn't support ").concat(e," yet"));throw new Error("Feature ".concat(e," is not supported yet"))}function ya(e){throw new Error("Invalid state: Visitor ".concat(this.constructor.name," doesn't handle ").concat(e.constructor.name))}function ga(e){return Array.isArray(e)?Zt(e.map(ga)):an(e,we)}function ba(e,t){return Object.getOwnPropertyNames(e).length>0?function(e,t){return en(Object.getOwnPropertyNames(e).map(function(n){var r,i,a,s,o=e[n];if(Array.isArray(o)){var u=Object(h.a)(o,2);a=n,s=(i=u[0])!==(r=u[1])}else{var c=Sn(n,[n,o]),l=Object(h.a)(c,2);a=r=l[0],s=(i=l[1])!==r&&n.includes(":")}return{key:a,quoted:fa.test(a),value:t&&s?Zt([ga(i),ga(r)]):ga(i)}}))}(e,t):null}function ka(e){for(;sn(e[e.length-1]);)e.pop();return e}function Ea(e,t){if(Array.isArray(e.predicate)){var n=[];return e.predicate.forEach(function(e){var t=e.split(",").map(function(e){return an(e.trim())});n.push.apply(n,Object(g.a)(t))}),t.getConstLiteral(Zt(n),!0)}return e.predicate}var _a,Sa,xa,wa=function(){function e(){Object(b.a)(this,e),this.values=[]}return Object(k.a)(e,[{key:"set",value:function(e,t){t&&this.values.push({key:e,value:t,quoted:!1})}},{key:"toLiteralMap",value:function(){return en(this.values)}}]),e}();function Ca(e){var t={};return e instanceof $r&&"ng-template"!==e.tagName?e.templateAttrs.forEach(function(e){return t[e.name]=""}):(e.attributes.forEach(function(e){ea(e.name)||(t[e.name]=e.value)}),e.inputs.forEach(function(e){t[e.name]=""}),e.outputs.forEach(function(e){t[e.name]=""})),t}function Oa(e,t,n){var r=Gt(e,null,n);if(t.length>0)for(var i=0;i<t.length;i++)r=r.callFn(t[i],n);else r=r.callFn([],n);return r}function Ta(e){var t=e.expressions,n=e.strings;return 1===t.length&&2===n.length&&""===n[0]&&""===n[1]?1:t.length+n.length}function ja(e){var t,n,r,i=Xt("t"),a=[],s=je,o=Ma(e)?i:new vt(be.Or,i,e.internalType),u=null;if(null!==e.deps)"invalid"!==e.deps&&(u=new ze(o,Na(e.deps,e.injectFn,e.target===Sa.Pipe)),t=e.deps,n=!1,r=t.map(function(e){var t=function(e){var t=[];return e.resolved===xa.Attribute&&null!==e.attribute&&t.push({key:"attribute",value:e.attribute,quoted:!1}),e.optional&&t.push({key:"optional",value:an(!0),quoted:!1}),e.host&&t.push({key:"host",value:an(!0),quoted:!1}),e.self&&t.push({key:"self",value:an(!0),quoted:!1}),e.skipSelf&&t.push({key:"skipSelf",value:an(!0),quoted:!1}),t.length>0?en(t):null}(e);return null!==t?(n=!0,t):an(null)}),s=n?Yt(Zt(r)):je);else{var c=Xt("\u0275".concat(e.name,"_BaseFactory")),l=Gt(_r.getInheritedFactory),h=c.set(l.callFn([e.internalType],void 0,!0)).toDeclStmt(we,[rt.Exported,rt.Final]);a.push(h),u=c.callFn([o])}var p=u,v=[],f=null;function d(e){var t=Xt("r");v.push(t.set(kt).toDeclStmt());var n=null;return n=null!==p?t.set(p).toStmt():Gt(_r.invalidFactory).callFn([]).toStmt(),v.push(nn(i,[n],[t.set(e).toStmt()])),t}if(Ma(e)){var m=Na(e.delegateDeps,e.injectFn,e.target===Sa.Pipe);f=d(new(e.delegateType===_a.Class?ze:qe)(e.delegate,m))}else f=function(e){return void 0!==e.expression}(e)?d(e.expression):u;return null!==f?v.push(new Tt(f)):v.push(Gt(_r.invalidFactory).callFn([]).toStmt()),{factory:tn([new lt("t",xe)],v,we,void 0,"".concat(e.name,"_Factory")),statements:a,type:Yt(Gt(_r.FactoryDef,[Dr(e.type.type,e.typeArgumentCount),s]))}}function Na(e,t,n){return e.map(function(e,r){return function(e,t,n,r){switch(e.resolved){case xa.Token:case xa.ChangeDetectorRef:var i=0|(e.self?2:0)|(e.skipSelf?4:0)|(e.host?1:0)|(e.optional?8:0),a=0!==i||e.optional?an(i):null;if(n&&e.resolved===xa.ChangeDetectorRef)return Gt(_r.injectPipeChangeDetectorRef).callFn(a?[a]:[]);var s=[e.token];return a&&s.push(a),Gt(t).callFn(s);case xa.Attribute:return Gt(_r.injectAttribute).callFn([e.token]);case xa.Invalid:return Gt(_r.invalidFactoryDep).callFn([an(r)]);default:return ma("Unknown R3ResolvedDependencyType: ".concat(xa[e.resolved]))}}(e,t,n,r)})}function Ma(e){return void 0!==e.delegateType}function Aa(e){var t=null,n={name:e.name,type:e.type,internalType:e.internalType,typeArgumentCount:e.typeArgumentCount,deps:[],injectFn:yn.inject,target:Sa.Injectable};if(void 0!==e.useClass){var r=e.useClass.isEquivalent(e.internalType),i=void 0;void 0!==e.userDeps&&(i=e.userDeps),t=void 0!==i?ja(Object.assign(Object.assign({},n),{delegate:e.useClass,delegateDeps:i,delegateType:_a.Class})):r?ja(n):Pa(e.type.value,e.useClass)}else t=void 0!==e.useFactory?void 0!==e.userDeps?ja(Object.assign(Object.assign({},n),{delegate:e.useFactory,delegateDeps:e.userDeps||[],delegateType:_a.Function})):{statements:[],factory:tn([],[new Tt(e.useFactory.callFn([]))])}:void 0!==e.useValue?ja(Object.assign(Object.assign({},n),{expression:e.useValue})):void 0!==e.useExisting?ja(Object.assign(Object.assign({},n),{expression:Gt(yn.inject).callFn([e.useExisting])})):Pa(e.type.value,e.internalType);var a={token:e.internalType,factory:t.factory};return null!==e.providedIn.value&&(a.providedIn=e.providedIn),{expression:Gt(yn.\u0275\u0275defineInjectable).callFn([Rr(a)]),type:new Ee(Gt(yn.InjectableDef,[Dr(e.type.type,e.typeArgumentCount)])),statements:t.statements}}function Pa(e,t){return{statements:[],factory:e.node===t.node?t.prop("\u0275fac"):tn([new lt("t",xe)],[new Tt(t.callMethod("\u0275fac",[Xt("t")]))])}}function Ia(e,t){if(null!=t){if(!Array.isArray(t))throw new Error("Expected '".concat(e,"' to be an array of strings."));for(var n=0;n<t.length;n+=1)if("string"!=typeof t[n])throw new Error("Expected '".concat(e,"' to be an array of strings."))}}!function(e){e[e.Class=0]="Class",e[e.Function=1]="Function"}(_a||(_a={})),function(e){e[e.Directive=0]="Directive",e[e.Component=1]="Component",e[e.Injectable=2]="Injectable",e[e.Pipe=3]="Pipe",e[e.NgModule=4]="NgModule"}(Sa||(Sa={})),function(e){e[e.Token=0]="Token",e[e.Attribute=1]="Attribute",e[e.ChangeDetectorRef=2]="ChangeDetectorRef",e[e.Invalid=3]="Invalid"}(xa||(xa={}));var Ra=[/^\s*$/,/[<>]/,/^[{}]$/,/&(#|[a-z])/i,/^\/\//];function Da(e,t){if(!(null==t||Array.isArray(t)&&2==t.length))throw new Error("Expected '".concat(e,"' to be an array, [start, end]."));if(null!=t){var n=t[0],r=t[1];Ra.forEach(function(e){if(e.test(n)||e.test(r))throw new Error("['".concat(n,"', '").concat(r,"'] contains unusable interpolation symbol."))})}}var Fa,La=function(){function e(t,n){Object(b.a)(this,e),this.start=t,this.end=n}return Object(k.a)(e,null,[{key:"fromArray",value:function(t){return t?(Da("interpolation",t),new e(t[0],t[1])):Ba}}]),e}(),Ba=new La("{{","}}"),Va='(this&&this.__makeTemplateObject||function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e})',Ua=function(e){Object(m.a)(n,e);var t=Object(y.a)(n);function n(){return Object(b.a)(this,n),t.call(this,!1)}return Object(k.a)(n,[{key:"visitDeclareClassStmt",value:function(e,t){var n=this;return t.pushClass(e),this._visitClassConstructor(e,t),null!=e.parent&&(t.print(e,"".concat(e.name,".prototype = Object.create(")),e.parent.visitExpression(this,t),t.println(e,".prototype);")),e.getters.forEach(function(r){return n._visitClassGetter(e,r,t)}),e.methods.forEach(function(r){return n._visitClassMethod(e,r,t)}),t.popClass(),null}},{key:"_visitClassConstructor",value:function(e,t){t.print(e,"function ".concat(e.name,"(")),null!=e.constructorMethod&&this._visitParams(e.constructorMethod.params,t),t.println(e,") {"),t.incIndent(),null!=e.constructorMethod&&e.constructorMethod.body.length>0&&(t.println(e,"var self = this;"),this.visitAllStatements(e.constructorMethod.body,t)),t.decIndent(),t.println(e,"}")}},{key:"_visitClassGetter",value:function(e,t,n){n.println(e,"Object.defineProperty(".concat(e.name,".prototype, '").concat(t.name,"', { get: function() {")),n.incIndent(),t.body.length>0&&(n.println(e,"var self = this;"),this.visitAllStatements(t.body,n)),n.decIndent(),n.println(e,"}});")}},{key:"_visitClassMethod",value:function(e,t,n){n.print(e,"".concat(e.name,".prototype.").concat(t.name," = function(")),this._visitParams(t.params,n),n.println(e,") {"),n.incIndent(),t.body.length>0&&(n.println(e,"var self = this;"),this.visitAllStatements(t.body,n)),n.decIndent(),n.println(e,"};")}},{key:"visitWrappedNodeExpr",value:function(e,t){throw new Error("Cannot emit a WrappedNodeExpr in Javascript.")}},{key:"visitReadVarExpr",value:function(e,t){if(e.builtin===Pe.This)t.print(e,"self");else{if(e.builtin===Pe.Super)throw new Error("'super' needs to be handled at a parent ast node, not at the variable level!");Object(f.a)(Object(d.a)(n.prototype),"visitReadVarExpr",this).call(this,e,t)}return null}},{key:"visitDeclareVarStmt",value:function(e,t){return t.print(e,"var ".concat(e.name)),e.value&&(t.print(e," = "),e.value.visitExpression(this,t)),t.println(e,";"),null}},{key:"visitCastExpr",value:function(e,t){return e.value.visitExpression(this,t),null}},{key:"visitInvokeFunctionExpr",value:function(e,t){var r=e.fn;return r instanceof De&&r.builtin===Pe.Super?(t.currentClass.parent.visitExpression(this,t),t.print(e,".call(this"),e.args.length>0&&(t.print(e,", "),this.visitAllExpressions(e.args,t,",")),t.print(e,")")):Object(f.a)(Object(d.a)(n.prototype),"visitInvokeFunctionExpr",this).call(this,e,t),null}},{key:"visitTaggedTemplateExpr",value:function(e,t){var n=this,r=e.template.elements;return e.tag.visitExpression(this,t),t.print(e,"(".concat(Va,"(")),t.print(e,"[".concat(r.map(function(e){return Pr(e.text,!1)}).join(", "),"], ")),t.print(e,"[".concat(r.map(function(e){return Pr(e.rawText,!1)}).join(", "),"])")),e.template.expressions.forEach(function(r){t.print(e,", "),r.visitExpression(n,t)}),t.print(e,")"),null}},{key:"visitFunctionExpr",value:function(e,t){return t.print(e,"function".concat(e.name?" "+e.name:"","(")),this._visitParams(e.params,t),t.println(e,") {"),t.incIndent(),this.visitAllStatements(e.statements,t),t.decIndent(),t.print(e,"}"),null}},{key:"visitDeclareFunctionStmt",value:function(e,t){return t.print(e,"function ".concat(e.name,"(")),this._visitParams(e.params,t),t.println(e,") {"),t.incIndent(),this.visitAllStatements(e.statements,t),t.decIndent(),t.println(e,"}"),null}},{key:"visitTryCatchStmt",value:function(e,t){t.println(e,"try {"),t.incIndent(),this.visitAllStatements(e.bodyStmts,t),t.decIndent(),t.println(e,"} catch (".concat(Tr.name,") {")),t.incIndent();var n=[jr.set(Tr.prop("stack")).toDeclStmt(null,[rt.Final])].concat(e.catchStmts);return this.visitAllStatements(n,t),t.decIndent(),t.println(e,"}"),null}},{key:"visitLocalizedString",value:function(e,t){var n=this;t.print(e,"$localize(".concat(Va,"("));for(var r=[e.serializeI18nHead()],i=1;i<e.messageParts.length;i++)r.push(e.serializeI18nTemplatePart(i));return t.print(e,"[".concat(r.map(function(e){return Pr(e.cooked,!1)}).join(", "),"], ")),t.print(e,"[".concat(r.map(function(e){return Pr(e.raw,!1)}).join(", "),"])")),e.expressions.forEach(function(r){t.print(e,", "),r.visitExpression(n,t)}),t.print(e,")"),null}},{key:"_visitParams",value:function(e,t){this.visitAllObjects(function(e){return t.print(null,e.name)},e,t,",")}},{key:"getBuiltinMethodName",value:function(e){var t;switch(e){case Re.ConcatArray:t="concat";break;case Re.SubscribeObservable:t="subscribe";break;case Re.Bind:t="bind";break;default:throw new Error("Unknown builtin method: ".concat(e))}return t}}]),n}(Ar);function Ha(e){var t;return(null===(t=function(){if(void 0===Fa&&(Fa=null,Kn.trustedTypes))try{Fa=Kn.trustedTypes.createPolicy("angular#unsafe-jit",{createScript:function(e){return e}})}catch(t){}return Fa}())||void 0===t?void 0:t.createScript(e))||e}function qa(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(!Kn.trustedTypes)return Object(l.a)(Function,t);var r=t.slice(0,-1).join(","),i=t[t.length-1],a="(function anonymous(".concat(r,"\n) { ").concat(i,"\n})"),s=Kn.eval(Ha(a));return void 0===s.bind?Object(l.a)(Function,t):(s.toString=function(){return a},s.bind(Kn))}var Wa=function(){function e(){Object(b.a)(this,e)}return Object(k.a)(e,[{key:"evaluateStatements",value:function(e,t,n,r){var i=new za(n),a=Mr.createRoot();return t.length>0&&!t[0].isEquivalent(an("use strict").toStmt())&&(t=[an("use strict").toStmt()].concat(Object(g.a)(t))),i.visitAllStatements(t,a),i.createReturnStmt(a),this.evaluateCode(e,a,i.getArgs(),r)}},{key:"evaluateCode",value:function(e,t,n,r){var i='"use strict";'.concat(t.toSource(),"\n//# sourceURL=").concat(e),a=[],s=[];for(var o in n)s.push(n[o]),a.push(o);if(r){var u=qa.apply(void 0,Object(g.a)(a.concat("return null;"))).toString(),c=u.slice(0,u.indexOf("return null;")).split("\n").length-1;i+="\n".concat(t.toSourceMapGenerator(e,c).toJsComment())}var l=qa.apply(void 0,Object(g.a)(a.concat(i)));return this.executeFunction(l,s)}},{key:"executeFunction",value:function(e,t){return e.apply(void 0,Object(g.a)(t))}}]),e}(),za=function(e){Object(m.a)(n,e);var t=Object(y.a)(n);function n(e){var r;return Object(b.a)(this,n),(r=t.call(this)).reflector=e,r._evalArgNames=[],r._evalArgValues=[],r._evalExportedVars=[],r}return Object(k.a)(n,[{key:"createReturnStmt",value:function(e){new Tt(new gt(this._evalExportedVars.map(function(e){return new yt(e,Xt(e),!1)}))).visitStatement(this,e)}},{key:"getArgs",value:function(){for(var e={},t=0;t<this._evalArgNames.length;t++)e[this._evalArgNames[t]]=this._evalArgValues[t];return e}},{key:"visitExternalExpr",value:function(e,t){return this._emitReferenceToExternal(e,this.reflector.resolveExternalReference(e.value),t),null}},{key:"visitWrappedNodeExpr",value:function(e,t){return this._emitReferenceToExternal(e,e.node,t),null}},{key:"visitDeclareVarStmt",value:function(e,t){return e.hasModifier(rt.Exported)&&this._evalExportedVars.push(e.name),Object(f.a)(Object(d.a)(n.prototype),"visitDeclareVarStmt",this).call(this,e,t)}},{key:"visitDeclareFunctionStmt",value:function(e,t){return e.hasModifier(rt.Exported)&&this._evalExportedVars.push(e.name),Object(f.a)(Object(d.a)(n.prototype),"visitDeclareFunctionStmt",this).call(this,e,t)}},{key:"visitDeclareClassStmt",value:function(e,t){return e.hasModifier(rt.Exported)&&this._evalExportedVars.push(e.name),Object(f.a)(Object(d.a)(n.prototype),"visitDeclareClassStmt",this).call(this,e,t)}},{key:"_emitReferenceToExternal",value:function(e,t,n){var r=this._evalArgValues.indexOf(t);if(-1===r){r=this._evalArgValues.length,this._evalArgValues.push(t);var i=Jn({reference:t})||"val";this._evalArgNames.push("jit_".concat(i,"_").concat(r))}n.print(e,this._evalArgNames[r])}}]),n}(Ua);function Ka(e){return e>=9&&e<=32||160==e}function Qa(e){return 48<=e&&e<=57}function Xa(e){return e>=97&&e<=122||e>=65&&e<=90}function Ga(e){return 10===e||13===e}function $a(e){return 48<=e&&e<=55}var Ya,Ja=function(){function e(t,n,r,i){Object(b.a)(this,e),this.file=t,this.offset=n,this.line=r,this.col=i}return Object(k.a)(e,[{key:"toString",value:function(){return null!=this.offset?"".concat(this.file.url,"@").concat(this.line,":").concat(this.col):this.file.url}},{key:"moveBy",value:function(t){for(var n=this.file.content,r=n.length,i=this.offset,a=this.line,s=this.col;i>0&&t<0;){if(i--,t++,10==n.charCodeAt(i)){a--;var o=n.substr(0,i-1).lastIndexOf(String.fromCharCode(10));s=o>0?i-o:i}else s--}for(;i<r&&t>0;){var u=n.charCodeAt(i);i++,t--,10==u?(a++,s=0):s++}return new e(this.file,i,a,s)}},{key:"getContext",value:function(e,t){var n=this.file.content,r=this.offset;if(null!=r){r>n.length-1&&(r=n.length-1);for(var i=r,a=0,s=0;a<e&&r>0&&(a++,"\n"!=n[--r]||++s!=t););for(a=0,s=0;a<e&&i<n.length-1&&(a++,"\n"!=n[++i]||++s!=t););return{before:n.substring(r,this.offset),after:n.substring(this.offset,i+1)}}return null}}]),e}(),Za=function e(t,n){Object(b.a)(this,e),this.content=t,this.url=n},es=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;Object(b.a)(this,e),this.start=t,this.end=n,this.fullStart=r,this.details=i}return Object(k.a)(e,[{key:"toString",value:function(){return this.start.file.content.substring(this.start.offset,this.end.offset)}}]),e}();!function(e){e[e.WARNING=0]="WARNING",e[e.ERROR=1]="ERROR"}(Ya||(Ya={}));var ts=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Ya.ERROR;Object(b.a)(this,e),this.span=t,this.msg=n,this.level=r}return Object(k.a)(e,[{key:"contextualMessage",value:function(){var e=this.span.start.getContext(100,3);return e?"".concat(this.msg,' ("').concat(e.before,"[").concat(Ya[this.level]," ->]").concat(e.after,'")'):this.msg}},{key:"toString",value:function(){var e=this.span.details?", ".concat(this.span.details):"";return"".concat(this.contextualMessage(),": ").concat(this.span.start).concat(e)}}]),e}();function ns(e,t){var n=Zn(t),r=null!=n?"in ".concat(e," ").concat(Jn(t)," in ").concat(n):"in ".concat(e," ").concat(Jn(t)),i=new Za("",r);return new es(new Ja(i,-1,-1,-1),new Ja(i,-1,-1,-1))}function rs(e,t,n){var r="in ".concat(e," ").concat(t," in ").concat(n),i=new Za("",r);return new es(new Ja(i,-1,-1,-1),new Ja(i,-1,-1,-1))}var is=function(){function e(t){Object(b.a)(this,e),this.context=t}return Object(k.a)(e,[{key:"resolveExternalReference",value:function(e){if("@angular/core"!==e.moduleName)throw new Error("Cannot resolve external reference to ".concat(e.moduleName,", only references to @angular/core are supported."));if(!this.context.hasOwnProperty(e.name))throw new Error("No value provided for @angular/core symbol '".concat(e.name,"'."));return this.context[e.name]}},{key:"parameters",value:function(e){throw new Error("Not implemented.")}},{key:"annotations",value:function(e){throw new Error("Not implemented.")}},{key:"shallowAnnotations",value:function(e){throw new Error("Not implemented.")}},{key:"tryAnnotations",value:function(e){throw new Error("Not implemented.")}},{key:"propMetadata",value:function(e){throw new Error("Not implemented.")}},{key:"hasLifecycleHook",value:function(e,t){throw new Error("Not implemented.")}},{key:"guards",value:function(e){throw new Error("Not implemented.")}},{key:"componentModuleUrl",value:function(e,t){throw new Error("Not implemented.")}}]),e}();function as(e){var t=e.internalType,n=e.type,r=e.bootstrap,i=e.declarations,a=e.imports,s=e.exports,o=e.schemas,u=e.containsForwardDecls,c=e.emitInline,l=e.id,h=[],p={type:t};if(r.length&&(p.bootstrap=us(r,u)),c)i.length&&(p.declarations=us(i,u)),a.length&&(p.imports=us(a,u)),s.length&&(p.exports=us(s,u));else{var v=function(e){var t=e.adjacentType,n=e.declarations,r=e.imports,i=e.exports,a=e.containsForwardDecls,s={};n.length&&(s.declarations=us(n,a));r.length&&(s.imports=us(r,a));i.length&&(s.exports=us(i,a));if(0===Object.keys(s).length)return null;var o=(c=new qe(Gt(_r.setNgModuleScope),[t,Rr(s)]),Hr("ngJitMode",c)),u=new ht([],[o.toStmt()]);var c;return new qe(u,[]).toStmt()}(e);null!==v&&h.push(v)}return o&&o.length&&(p.schemas=Zt(o.map(function(e){return e.value}))),l&&(p.id=l),{expression:Gt(_r.defineNgModule).callFn([Rr(p)]),type:new Ee(Gt(_r.NgModuleDefWithMeta,[new Ee(n.type),os(i),os(a),os(s)])),additionalStatements:h}}function ss(e){var t={};return null!==e.providers&&(t.providers=e.providers),e.imports.length>0&&(t.imports=Zt(e.imports)),{expression:Gt(_r.defineInjector).callFn([Rr(t)]),type:new Ee(Gt(_r.InjectorDef,[new Ee(e.type.type)]))}}function os(e){var t=e.map(function(e){return Jt(e.type)});return e.length>0?Yt(Zt(t)):je}function us(e,t){var n=Zt(e.map(function(e){return e.value}));return t?tn([],[new Tt(n)]):n}function cs(e){var t=[];return t.push({key:"name",value:an(e.pipeName),quoted:!1}),t.push({key:"type",value:e.type.value,quoted:!1}),t.push({key:"pure",value:an(e.pure),quoted:!1}),{expression:Gt(_r.definePipe).callFn([en(t)]),type:ls(e)}}function ls(e){return new Ee(Gt(_r.PipeDefWithMeta,[Dr(e.type.type,e.typeArgumentCount),new Ee(new Ke(e.pipeName))]))}var hs,ps=function e(t,n,r,i){Object(b.a)(this,e),this.input=n,this.errLocation=r,this.ctxLocation=i,this.message="Parser Error: ".concat(t," ").concat(r," [").concat(n,"] in ").concat(i)},vs=function(){function e(t,n){Object(b.a)(this,e),this.start=t,this.end=n}return Object(k.a)(e,[{key:"toAbsolute",value:function(e){return new Bs(e+this.start,e+this.end)}}]),e}(),fs=function(){function e(t,n){Object(b.a)(this,e),this.span=t,this.sourceSpan=n}return Object(k.a)(e,[{key:"visit",value:function(e){arguments.length>1&&void 0!==arguments[1]&&arguments[1];return null}},{key:"toString",value:function(){return"AST"}}]),e}(),ds=function(e){Object(m.a)(n,e);var t=Object(y.a)(n);function n(e,r,i){var a;return Object(b.a)(this,n),(a=t.call(this,e,r)).nameSpan=i,a}return n}(fs),ms=function(e){Object(m.a)(n,e);var t=Object(y.a)(n);function n(e,r,i,a,s){var o;return Object(b.a)(this,n),(o=t.call(this,e,r)).prefix=i,o.uninterpretedExpression=a,o.location=s,o}return Object(k.a)(n,[{key:"visit",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return e.visitQuote(this,t)}},{key:"toString",value:function(){return"Quote"}}]),n}(fs),ys=function(e){Object(m.a)(n,e);var t=Object(y.a)(n);function n(){return Object(b.a)(this,n),t.apply(this,arguments)}return Object(k.a)(n,[{key:"visit",value:function(e){arguments.length>1&&void 0!==arguments[1]&&arguments[1]}}]),n}(fs),gs=function(e){Object(m.a)(n,e);var t=Object(y.a)(n);function n(){return Object(b.a)(this,n),t.apply(this,arguments)}return Object(k.a)(n,[{key:"visit",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return e.visitImplicitReceiver(this,t)}}]),n}(fs),bs=function(e){Object(m.a)(n,e);var t=Object(y.a)(n);function n(){return Object(b.a)(this,n),t.apply(this,arguments)}return Object(k.a)(n,[{key:"visit",value:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return null===(t=e.visitThisReceiver)||void 0===t?void 0:t.call(e,this,n)}}]),n}(gs),ks=function(e){Object(m.a)(n,e);var t=Object(y.a)(n);function n(e,r,i){var a;return Object(b.a)(this,n),(a=t.call(this,e,r)).expressions=i,a}return Object(k.a)(n,[{key:"visit",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return e.visitChain(this,t)}}]),n}(fs),Es=function(e){Object(m.a)(n,e);var t=Object(y.a)(n);function n(e,r,i,a,s){var o;return Object(b.a)(this,n),(o=t.call(this,e,r)).condition=i,o.trueExp=a,o.falseExp=s,o}return Object(k.a)(n,[{key:"visit",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return e.visitConditional(this,t)}}]),n}(fs),_s=function(e){Object(m.a)(n,e);var t=Object(y.a)(n);function n(e,r,i,a,s){var o;return Object(b.a)(this,n),(o=t.call(this,e,r,i)).receiver=a,o.name=s,o}return Object(k.a)(n,[{key:"visit",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return e.visitPropertyRead(this,t)}}]),n}(ds),Ss=function(e){Object(m.a)(n,e);var t=Object(y.a)(n);function n(e,r,i,a,s,o){var u;return Object(b.a)(this,n),(u=t.call(this,e,r,i)).receiver=a,u.name=s,u.value=o,u}return Object(k.a)(n,[{key:"visit",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return e.visitPropertyWrite(this,t)}}]),n}(ds),xs=function(e){Object(m.a)(n,e);var t=Object(y.a)(n);function n(e,r,i,a,s){var o;return Object(b.a)(this,n),(o=t.call(this,e,r,i)).receiver=a,o.name=s,o}return Object(k.a)(n,[{key:"visit",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return e.visitSafePropertyRead(this,t)}}]),n}(ds),ws=function(e){Object(m.a)(n,e);var t=Object(y.a)(n);function n(e,r,i,a){var s;return Object(b.a)(this,n),(s=t.call(this,e,r)).obj=i,s.key=a,s}return Object(k.a)(n,[{key:"visit",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return e.visitKeyedRead(this,t)}}]),n}(fs),Cs=function(e){Object(m.a)(n,e);var t=Object(y.a)(n);function n(e,r,i,a,s){var o;return Object(b.a)(this,n),(o=t.call(this,e,r)).obj=i,o.key=a,o.value=s,o}return Object(k.a)(n,[{key:"visit",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return e.visitKeyedWrite(this,t)}}]),n}(fs),Os=function(e){Object(m.a)(n,e);var t=Object(y.a)(n);function n(e,r,i,a,s,o){var u;return Object(b.a)(this,n),(u=t.call(this,e,r,o)).exp=i,u.name=a,u.args=s,u}return Object(k.a)(n,[{key:"visit",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return e.visitPipe(this,t)}}]),n}(ds),Ts=function(e){Object(m.a)(n,e);var t=Object(y.a)(n);function n(e,r,i){var a;return Object(b.a)(this,n),(a=t.call(this,e,r)).value=i,a}return Object(k.a)(n,[{key:"visit",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return e.visitLiteralPrimitive(this,t)}}]),n}(fs),js=function(e){Object(m.a)(n,e);var t=Object(y.a)(n);function n(e,r,i){var a;return Object(b.a)(this,n),(a=t.call(this,e,r)).expressions=i,a}return Object(k.a)(n,[{key:"visit",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return e.visitLiteralArray(this,t)}}]),n}(fs),Ns=function(e){Object(m.a)(n,e);var t=Object(y.a)(n);function n(e,r,i,a){var s;return Object(b.a)(this,n),(s=t.call(this,e,r)).keys=i,s.values=a,s}return Object(k.a)(n,[{key:"visit",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return e.visitLiteralMap(this,t)}}]),n}(fs),Ms=function(e){Object(m.a)(n,e);var t=Object(y.a)(n);function n(e,r,i,a){var s;return Object(b.a)(this,n),(s=t.call(this,e,r)).strings=i,s.expressions=a,s}return Object(k.a)(n,[{key:"visit",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return e.visitInterpolation(this,t)}}]),n}(fs),As=function(e){Object(m.a)(n,e);var t=Object(y.a)(n);function n(e,r,i,a,s){var o;return Object(b.a)(this,n),(o=t.call(this,e,r)).operation=i,o.left=a,o.right=s,o}return Object(k.a)(n,[{key:"visit",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return e.visitBinary(this,t)}}]),n}(fs),Ps=function(e){Object(m.a)(n,e);var t=Object(y.a)(n);function n(e,r,i,a,s,o,u){var c;return Object(b.a)(this,n),(c=t.call(this,e,r,s,o,u)).operator=i,c.expr=a,c}return Object(k.a)(n,[{key:"visit",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return void 0!==e.visitUnary?e.visitUnary(this,t):e.visitBinary(this,t)}}],[{key:"createMinus",value:function(e,t,r){return new n(e,t,"-",r,"-",new Ts(e,t,0),r)}},{key:"createPlus",value:function(e,t,r){return new n(e,t,"+",r,"-",r,new Ts(e,t,0))}}]),n}(As),Is=function(e){Object(m.a)(n,e);var t=Object(y.a)(n);function n(e,r,i){var a;return Object(b.a)(this,n),(a=t.call(this,e,r)).expression=i,a}return Object(k.a)(n,[{key:"visit",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return e.visitPrefixNot(this,t)}}]),n}(fs),Rs=function(e){Object(m.a)(n,e);var t=Object(y.a)(n);function n(e,r,i){var a;return Object(b.a)(this,n),(a=t.call(this,e,r)).expression=i,a}return Object(k.a)(n,[{key:"visit",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return e.visitNonNullAssert(this,t)}}]),n}(fs),Ds=function(e){Object(m.a)(n,e);var t=Object(y.a)(n);function n(e,r,i,a,s,o){var u;return Object(b.a)(this,n),(u=t.call(this,e,r,i)).receiver=a,u.name=s,u.args=o,u}return Object(k.a)(n,[{key:"visit",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return e.visitMethodCall(this,t)}}]),n}(ds),Fs=function(e){Object(m.a)(n,e);var t=Object(y.a)(n);function n(e,r,i,a,s,o){var u;return Object(b.a)(this,n),(u=t.call(this,e,r,i)).receiver=a,u.name=s,u.args=o,u}return Object(k.a)(n,[{key:"visit",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return e.visitSafeMethodCall(this,t)}}]),n}(ds),Ls=function(e){Object(m.a)(n,e);var t=Object(y.a)(n);function n(e,r,i,a){var s;return Object(b.a)(this,n),(s=t.call(this,e,r)).target=i,s.args=a,s}return Object(k.a)(n,[{key:"visit",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return e.visitFunctionCall(this,t)}}]),n}(fs),Bs=function e(t,n){Object(b.a)(this,e),this.start=t,this.end=n},Vs=function(e){Object(m.a)(n,e);var t=Object(y.a)(n);function n(e,r,i,a,s){var o;return Object(b.a)(this,n),(o=t.call(this,new vs(0,null===r?0:r.length),new Bs(a,null===r?a:a+r.length))).ast=e,o.source=r,o.location=i,o.errors=s,o}return Object(k.a)(n,[{key:"visit",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return e.visitASTWithSource?e.visitASTWithSource(this,t):this.ast.visit(e,t)}},{key:"toString",value:function(){return"".concat(this.source," in ").concat(this.location)}}]),n}(fs),Us=function e(t,n,r){Object(b.a)(this,e),this.sourceSpan=t,this.key=n,this.value=r},Hs=function e(t,n,r){Object(b.a)(this,e),this.sourceSpan=t,this.key=n,this.value=r},qs=function(){function e(){Object(b.a)(this,e)}return Object(k.a)(e,[{key:"visit",value:function(e,t){e.visit(this,t)}},{key:"visitUnary",value:function(e,t){this.visit(e.expr,t)}},{key:"visitBinary",value:function(e,t){this.visit(e.left,t),this.visit(e.right,t)}},{key:"visitChain",value:function(e,t){this.visitAll(e.expressions,t)}},{key:"visitConditional",value:function(e,t){this.visit(e.condition,t),this.visit(e.trueExp,t),this.visit(e.falseExp,t)}},{key:"visitPipe",value:function(e,t){this.visit(e.exp,t),this.visitAll(e.args,t)}},{key:"visitFunctionCall",value:function(e,t){e.target&&this.visit(e.target,t),this.visitAll(e.args,t)}},{key:"visitImplicitReceiver",value:function(e,t){}},{key:"visitThisReceiver",value:function(e,t){}},{key:"visitInterpolation",value:function(e,t){this.visitAll(e.expressions,t)}},{key:"visitKeyedRead",value:function(e,t){this.visit(e.obj,t),this.visit(e.key,t)}},{key:"visitKeyedWrite",value:function(e,t){this.visit(e.obj,t),this.visit(e.key,t),this.visit(e.value,t)}},{key:"visitLiteralArray",value:function(e,t){this.visitAll(e.expressions,t)}},{key:"visitLiteralMap",value:function(e,t){this.visitAll(e.values,t)}},{key:"visitLiteralPrimitive",value:function(e,t){}},{key:"visitMethodCall",value:function(e,t){this.visit(e.receiver,t),this.visitAll(e.args,t)}},{key:"visitPrefixNot",value:function(e,t){this.visit(e.expression,t)}},{key:"visitNonNullAssert",value:function(e,t){this.visit(e.expression,t)}},{key:"visitPropertyRead",value:function(e,t){this.visit(e.receiver,t)}},{key:"visitPropertyWrite",value:function(e,t){this.visit(e.receiver,t),this.visit(e.value,t)}},{key:"visitSafePropertyRead",value:function(e,t){this.visit(e.receiver,t)}},{key:"visitSafeMethodCall",value:function(e,t){this.visit(e.receiver,t),this.visitAll(e.args,t)}},{key:"visitQuote",value:function(e,t){}},{key:"visitAll",value:function(e,t){var n,r=Object(v.a)(e);try{for(r.s();!(n=r.n()).done;){var i=n.value;this.visit(i,t)}}catch(a){r.e(a)}finally{r.f()}}}]),e}(),Ws=function(){function e(){Object(b.a)(this,e)}return Object(k.a)(e,[{key:"visitImplicitReceiver",value:function(e,t){return e}},{key:"visitThisReceiver",value:function(e,t){return e}},{key:"visitInterpolation",value:function(e,t){return new Ms(e.span,e.sourceSpan,e.strings,this.visitAll(e.expressions))}},{key:"visitLiteralPrimitive",value:function(e,t){return new Ts(e.span,e.sourceSpan,e.value)}},{key:"visitPropertyRead",value:function(e,t){return new _s(e.span,e.sourceSpan,e.nameSpan,e.receiver.visit(this),e.name)}},{key:"visitPropertyWrite",value:function(e,t){return new Ss(e.span,e.sourceSpan,e.nameSpan,e.receiver.visit(this),e.name,e.value.visit(this))}},{key:"visitSafePropertyRead",value:function(e,t){return new xs(e.span,e.sourceSpan,e.nameSpan,e.receiver.visit(this),e.name)}},{key:"visitMethodCall",value:function(e,t){return new Ds(e.span,e.sourceSpan,e.nameSpan,e.receiver.visit(this),e.name,this.visitAll(e.args))}},{key:"visitSafeMethodCall",value:function(e,t){return new Fs(e.span,e.sourceSpan,e.nameSpan,e.receiver.visit(this),e.name,this.visitAll(e.args))}},{key:"visitFunctionCall",value:function(e,t){return new Ls(e.span,e.sourceSpan,e.target.visit(this),this.visitAll(e.args))}},{key:"visitLiteralArray",value:function(e,t){return new js(e.span,e.sourceSpan,this.visitAll(e.expressions))}},{key:"visitLiteralMap",value:function(e,t){return new Ns(e.span,e.sourceSpan,e.keys,this.visitAll(e.values))}},{key:"visitUnary",value:function(e,t){switch(e.operator){case"+":return Ps.createPlus(e.span,e.sourceSpan,e.expr.visit(this));case"-":return Ps.createMinus(e.span,e.sourceSpan,e.expr.visit(this));default:throw new Error("Unknown unary operator ".concat(e.operator))}}},{key:"visitBinary",value:function(e,t){return new As(e.span,e.sourceSpan,e.operation,e.left.visit(this),e.right.visit(this))}},{key:"visitPrefixNot",value:function(e,t){return new Is(e.span,e.sourceSpan,e.expression.visit(this))}},{key:"visitNonNullAssert",value:function(e,t){return new Rs(e.span,e.sourceSpan,e.expression.visit(this))}},{key:"visitConditional",value:function(e,t){return new Es(e.span,e.sourceSpan,e.condition.visit(this),e.trueExp.visit(this),e.falseExp.visit(this))}},{key:"visitPipe",value:function(e,t){return new Os(e.span,e.sourceSpan,e.exp.visit(this),e.name,this.visitAll(e.args),e.nameSpan)}},{key:"visitKeyedRead",value:function(e,t){return new ws(e.span,e.sourceSpan,e.obj.visit(this),e.key.visit(this))}},{key:"visitKeyedWrite",value:function(e,t){return new Cs(e.span,e.sourceSpan,e.obj.visit(this),e.key.visit(this),e.value.visit(this))}},{key:"visitAll",value:function(e){for(var t=[],n=0;n<e.length;++n)t[n]=e[n].visit(this);return t}},{key:"visitChain",value:function(e,t){return new ks(e.span,e.sourceSpan,this.visitAll(e.expressions))}},{key:"visitQuote",value:function(e,t){return new ms(e.span,e.sourceSpan,e.prefix,e.uninterpretedExpression,e.location)}}]),e}(),zs=function(){function e(){Object(b.a)(this,e)}return Object(k.a)(e,[{key:"visitImplicitReceiver",value:function(e,t){return e}},{key:"visitThisReceiver",value:function(e,t){return e}},{key:"visitInterpolation",value:function(e,t){var n=this.visitAll(e.expressions);return n!==e.expressions?new Ms(e.span,e.sourceSpan,e.strings,n):e}},{key:"visitLiteralPrimitive",value:function(e,t){return e}},{key:"visitPropertyRead",value:function(e,t){var n=e.receiver.visit(this);return n!==e.receiver?new _s(e.span,e.sourceSpan,e.nameSpan,n,e.name):e}},{key:"visitPropertyWrite",value:function(e,t){var n=e.receiver.visit(this),r=e.value.visit(this);return n!==e.receiver||r!==e.value?new Ss(e.span,e.sourceSpan,e.nameSpan,n,e.name,r):e}},{key:"visitSafePropertyRead",value:function(e,t){var n=e.receiver.visit(this);return n!==e.receiver?new xs(e.span,e.sourceSpan,e.nameSpan,n,e.name):e}},{key:"visitMethodCall",value:function(e,t){var n=e.receiver.visit(this),r=this.visitAll(e.args);return n!==e.receiver||r!==e.args?new Ds(e.span,e.sourceSpan,e.nameSpan,n,e.name,r):e}},{key:"visitSafeMethodCall",value:function(e,t){var n=e.receiver.visit(this),r=this.visitAll(e.args);return n!==e.receiver||r!==e.args?new Fs(e.span,e.sourceSpan,e.nameSpan,n,e.name,r):e}},{key:"visitFunctionCall",value:function(e,t){var n=e.target&&e.target.visit(this),r=this.visitAll(e.args);return n!==e.target||r!==e.args?new Ls(e.span,e.sourceSpan,n,r):e}},{key:"visitLiteralArray",value:function(e,t){var n=this.visitAll(e.expressions);return n!==e.expressions?new js(e.span,e.sourceSpan,n):e}},{key:"visitLiteralMap",value:function(e,t){var n=this.visitAll(e.values);return n!==e.values?new Ns(e.span,e.sourceSpan,e.keys,n):e}},{key:"visitUnary",value:function(e,t){var n=e.expr.visit(this);if(n!==e.expr)switch(e.operator){case"+":return Ps.createPlus(e.span,e.sourceSpan,n);case"-":return Ps.createMinus(e.span,e.sourceSpan,n);default:throw new Error("Unknown unary operator ".concat(e.operator))}return e}},{key:"visitBinary",value:function(e,t){var n=e.left.visit(this),r=e.right.visit(this);return n!==e.left||r!==e.right?new As(e.span,e.sourceSpan,e.operation,n,r):e}},{key:"visitPrefixNot",value:function(e,t){var n=e.expression.visit(this);return n!==e.expression?new Is(e.span,e.sourceSpan,n):e}},{key:"visitNonNullAssert",value:function(e,t){var n=e.expression.visit(this);return n!==e.expression?new Rs(e.span,e.sourceSpan,n):e}},{key:"visitConditional",value:function(e,t){var n=e.condition.visit(this),r=e.trueExp.visit(this),i=e.falseExp.visit(this);return n!==e.condition||r!==e.trueExp||i!==e.falseExp?new Es(e.span,e.sourceSpan,n,r,i):e}},{key:"visitPipe",value:function(e,t){var n=e.exp.visit(this),r=this.visitAll(e.args);return n!==e.exp||r!==e.args?new Os(e.span,e.sourceSpan,n,e.name,r,e.nameSpan):e}},{key:"visitKeyedRead",value:function(e,t){var n=e.obj.visit(this),r=e.key.visit(this);return n!==e.obj||r!==e.key?new ws(e.span,e.sourceSpan,n,r):e}},{key:"visitKeyedWrite",value:function(e,t){var n=e.obj.visit(this),r=e.key.visit(this),i=e.value.visit(this);return n!==e.obj||r!==e.key||i!==e.value?new Cs(e.span,e.sourceSpan,n,r,i):e}},{key:"visitAll",value:function(e){for(var t=[],n=!1,r=0;r<e.length;++r){var i=e[r],a=i.visit(this);t[r]=a,n=n||a!==i}return n?t:e}},{key:"visitChain",value:function(e,t){var n=this.visitAll(e.expressions);return n!==e.expressions?new ks(e.span,e.sourceSpan,n):e}},{key:"visitQuote",value:function(e,t){return e}}]),e}(),Ks=function e(t,n,r,i,a,s){Object(b.a)(this,e),this.name=t,this.expression=n,this.type=r,this.sourceSpan=i,this.keySpan=a,this.valueSpan=s,this.isLiteral=this.type===hs.LITERAL_ATTR,this.isAnimation=this.type===hs.ANIMATION};!function(e){e[e.DEFAULT=0]="DEFAULT",e[e.LITERAL_ATTR=1]="LITERAL_ATTR",e[e.ANIMATION=2]="ANIMATION"}(hs||(hs={}));var Qs=function e(t,n,r,i,a,s,o){Object(b.a)(this,e),this.name=t,this.targetOrPhase=n,this.type=r,this.handler=i,this.sourceSpan=a,this.handlerSpan=s,this.keySpan=o},Xs=function e(t,n,r,i,a){Object(b.a)(this,e),this.name=t,this.value=n,this.sourceSpan=r,this.keySpan=i,this.valueSpan=a},Gs=function e(t,n,r,i,a,s,o,u){Object(b.a)(this,e),this.name=t,this.type=n,this.securityContext=r,this.value=i,this.unit=a,this.sourceSpan=s,this.keySpan=o,this.valueSpan=u},$s=function e(){Object(b.a)(this,e)};$s.event=Xt("$event");var Ys=function e(t,n){Object(b.a)(this,e),this.stmts=t,this.allowDefault=n,this.render3Stmts=t.map(function(e){if(e instanceof wt&&e.name==n.name&&e.value instanceof vt){var t=e.value.lhs;return new Tt(t.value)}return e})};function Js(e,t,n,r,i,a,s,o){e||(e=new ho(o));var u=Zs({createLiteralArrayConverter:function(e){return function(e){return Zt(e)}},createLiteralMapConverter:function(e){return function(t){return en(e.map(function(e,n){return{key:e.key,value:t[n],quoted:e.quoted}}))}},createPipeConverter:function(e){throw new Error("Illegal State: Actions are not allowed to contain pipes. Pipe: ".concat(e))}},n),c=new lo(e,t,r,i,a,s),l=[];!function e(t,n){Array.isArray(t)?t.forEach(function(t){return e(t,n)}):n.push(t)}(u.visit(c,to.Statement),l),function(e,t,n){for(var r=e-1;r>=0;r--)n.unshift(so(t,r))}(c.temporaryCount,r,l),c.usesImplicitReceiver&&e.notifyImplicitReceiverUse();var h=l.length-1,p=null;if(h>=0){var v=function(e){if(e instanceof Ot)return e.expr;if(e instanceof Tt)return e.value;return null}(l[h]);v&&(p=function(e){return Xt("pd_".concat(e))}(r),l[h]=p.set(v.cast(xe).notIdentical(an(!1))).toDeclStmt(null,[rt.Final]))}return new Ys(l,p)}function Zs(e,t){return function(e,t){var n=new co(e);return t.visit(n)}(e,t)}var eo,to,no=function e(t,n){Object(b.a)(this,e),this.stmts=t,this.currValExpr=n};function ro(e,t,n,r,i,a){e||(e=new ho);var s=new lo(e,t,r,a),o=n.visit(s,to.Expression),u=io(s,r);if(s.usesImplicitReceiver&&e.notifyImplicitReceiverUse(),0===s.temporaryCount&&i==eo.TrySimple)return new no([],o);if(i===eo.Expression)return new no(u,o);var c=function(e){return Xt("currVal_".concat(e))}(r);return u.push(c.set(o).toDeclStmt(xe,[rt.Final])),new no(u,c)}function io(e,t){for(var n=[],r=0;r<e.temporaryCount;r++)n.push(so(t,r));return n}function ao(e,t){return"tmp_".concat(e,"_").concat(t)}function so(e,t){return new wt(ao(e,t),kt)}function oo(e,t){if(e!==to.Expression)throw new Error("Expected an expression, but saw ".concat(t))}function uo(e,t){return e===to.Statement?t.toStmt():t}!function(e){e[e.General=0]="General",e[e.TrySimple=1]="TrySimple",e[e.Expression=2]="Expression"}(eo||(eo={})),function(e){e[e.Statement=0]="Statement",e[e.Expression=1]="Expression"}(to||(to={}));var co=function(e){Object(m.a)(n,e);var t=Object(y.a)(n);function n(e){var r;return Object(b.a)(this,n),(r=t.call(this))._converterFactory=e,r}return Object(k.a)(n,[{key:"visitPipe",value:function(e,t){var n=this,r=[e.exp].concat(Object(g.a)(e.args)).map(function(e){return e.visit(n,t)});return new po(e.span,e.sourceSpan,r,this._converterFactory.createPipeConverter(e.name,r.length))}},{key:"visitLiteralArray",value:function(e,t){var n=this,r=e.expressions.map(function(e){return e.visit(n,t)});return new po(e.span,e.sourceSpan,r,this._converterFactory.createLiteralArrayConverter(e.expressions.length))}},{key:"visitLiteralMap",value:function(e,t){var n=this,r=e.values.map(function(e){return e.visit(n,t)});return new po(e.span,e.sourceSpan,r,this._converterFactory.createLiteralMapConverter(e.keys))}}]),n}(Ws),lo=function(){function e(t,n,r,i,a,s){Object(b.a)(this,e),this._localResolver=t,this._implicitReceiver=n,this.bindingId=r,this.interpolationFunction=i,this.baseSourceSpan=a,this.implicitReceiverAccesses=s,this._nodeMap=new Map,this._resultMap=new Map,this._currentTemporary=0,this.temporaryCount=0,this.usesImplicitReceiver=!1}return Object(k.a)(e,[{key:"visitUnary",value:function(e,t){var n;switch(e.operator){case"+":n=ge.Plus;break;case"-":n=ge.Minus;break;default:throw new Error("Unsupported operator ".concat(e.operator))}return uo(t,new pt(n,this._visit(e.expr,to.Expression),void 0,this.convertSourceSpan(e.span)))}},{key:"visitBinary",value:function(e,t){var n;switch(e.operation){case"+":n=be.Plus;break;case"-":n=be.Minus;break;case"*":n=be.Multiply;break;case"/":n=be.Divide;break;case"%":n=be.Modulo;break;case"&&":n=be.And;break;case"||":n=be.Or;break;case"==":n=be.Equals;break;case"!=":n=be.NotEquals;break;case"===":n=be.Identical;break;case"!==":n=be.NotIdentical;break;case"<":n=be.Lower;break;case">":n=be.Bigger;break;case"<=":n=be.LowerEquals;break;case">=":n=be.BiggerEquals;break;default:throw new Error("Unsupported operation ".concat(e.operation))}return uo(t,new vt(n,this._visit(e.left,to.Expression),this._visit(e.right,to.Expression),void 0,this.convertSourceSpan(e.span)))}},{key:"visitChain",value:function(e,t){return!function(e,t){if(e!==to.Statement)throw new Error("Expected a statement, but saw ".concat(t))}(t,e),this.visitAll(e.expressions,t)}},{key:"visitConditional",value:function(e,t){return uo(t,this._visit(e.condition,to.Expression).conditional(this._visit(e.trueExp,to.Expression),this._visit(e.falseExp,to.Expression),this.convertSourceSpan(e.span)))}},{key:"visitPipe",value:function(e,t){throw new Error("Illegal state: Pipes should have been converted into functions. Pipe: ".concat(e.name))}},{key:"visitFunctionCall",value:function(e,t){var n=this.visitAll(e.args,to.Expression);return uo(t,e instanceof po?e.converter(n):this._visit(e.target,to.Expression).callFn(n,this.convertSourceSpan(e.span)))}},{key:"visitImplicitReceiver",value:function(e,t){return oo(t,e),this.usesImplicitReceiver=!0,this._implicitReceiver}},{key:"visitThisReceiver",value:function(e,t){return this.visitImplicitReceiver(e,t)}},{key:"visitInterpolation",value:function(e,t){oo(t,e);for(var n=[an(e.expressions.length)],r=0;r<e.strings.length-1;r++)n.push(an(e.strings[r])),n.push(this._visit(e.expressions[r],to.Expression));return n.push(an(e.strings[e.strings.length-1])),this.interpolationFunction?this.interpolationFunction(n):e.expressions.length<=9?Gt(yn.inlineInterpolate).callFn(n):Gt(yn.interpolate).callFn([n[0],Zt(n.slice(1),void 0,this.convertSourceSpan(e.span))])}},{key:"visitKeyedRead",value:function(e,t){var n=this.leftMostSafeNode(e);return n?this.convertSafeAccess(e,n,t):uo(t,this._visit(e.obj,to.Expression).key(this._visit(e.key,to.Expression)))}},{key:"visitKeyedWrite",value:function(e,t){var n=this._visit(e.obj,to.Expression),r=this._visit(e.key,to.Expression),i=this._visit(e.value,to.Expression);return uo(t,n.key(r).set(i))}},{key:"visitLiteralArray",value:function(e,t){throw new Error("Illegal State: literal arrays should have been converted into functions")}},{key:"visitLiteralMap",value:function(e,t){throw new Error("Illegal State: literal maps should have been converted into functions")}},{key:"visitLiteralPrimitive",value:function(e,t){var n=null===e.value||void 0===e.value||!0===e.value||!0===e.value?we:void 0;return uo(t,an(e.value,n,this.convertSourceSpan(e.span)))}},{key:"_getLocal",value:function(e,t){var n;return(null===(n=this._localResolver.globals)||void 0===n?void 0:n.has(e))&&t instanceof bs?null:this._localResolver.getLocal(e)}},{key:"visitMethodCall",value:function(e,t){if(e.receiver instanceof gs&&!(e.receiver instanceof bs)&&"$any"===e.name){var n=this.visitAll(e.args,to.Expression);if(1!=n.length)throw new Error("Invalid call to $any, expected 1 argument but received ".concat(n.length||"none"));return n[0].cast(xe,this.convertSourceSpan(e.span))}var r=this.leftMostSafeNode(e);if(r)return this.convertSafeAccess(e,r,t);var i=this.visitAll(e.args,to.Expression),a=this.usesImplicitReceiver,s=null,o=this._visit(e.receiver,to.Expression);if(o===this._implicitReceiver){var u=this._getLocal(e.name,e.receiver);u&&(this.usesImplicitReceiver=a,s=u.callFn(i),this.addImplicitReceiverAccess(e.name))}return null==s&&(s=o.callMethod(e.name,i,this.convertSourceSpan(e.span))),uo(t,s)}},{key:"visitPrefixNot",value:function(e,t){return uo(t,(n=this._visit(e.expression,to.Expression),new ot(n,r)));var n,r}},{key:"visitNonNullAssert",value:function(e,t){return uo(t,(n=this._visit(e.expression,to.Expression),new ut(n,r)));var n,r}},{key:"visitPropertyRead",value:function(e,t){var n=this.leftMostSafeNode(e);if(n)return this.convertSafeAccess(e,n,t);var r=null,i=this.usesImplicitReceiver,a=this._visit(e.receiver,to.Expression);return a===this._implicitReceiver&&(r=this._getLocal(e.name,e.receiver))&&(this.usesImplicitReceiver=i,this.addImplicitReceiverAccess(e.name)),null==r&&(r=a.prop(e.name)),uo(t,r)}},{key:"visitPropertyWrite",value:function(e,t){var n=this._visit(e.receiver,to.Expression),r=this.usesImplicitReceiver,i=null;if(n===this._implicitReceiver){var a=this._getLocal(e.name,e.receiver);if(a){if(!(a instanceof ft)){var s=e.name,o=e.value instanceof _s?e.value.name:void 0;throw new Error('Cannot assign value "'.concat(o,'" to template variable "').concat(s,'". Template variables are read-only.'))}i=a,this.usesImplicitReceiver=r,this.addImplicitReceiverAccess(e.name)}}return null===i&&(i=n.prop(e.name)),uo(t,i.set(this._visit(e.value,to.Expression)))}},{key:"visitSafePropertyRead",value:function(e,t){return this.convertSafeAccess(e,this.leftMostSafeNode(e),t)}},{key:"visitSafeMethodCall",value:function(e,t){return this.convertSafeAccess(e,this.leftMostSafeNode(e),t)}},{key:"visitAll",value:function(e,t){var n=this;return e.map(function(e){return n._visit(e,t)})}},{key:"visitQuote",value:function(e,t){throw new Error("Quotes are not supported for evaluation!\n        Statement: ".concat(e.uninterpretedExpression," located at ").concat(e.location))}},{key:"_visit",value:function(e,t){var n=this._resultMap.get(e);return n||(this._nodeMap.get(e)||e).visit(this,t)}},{key:"convertSafeAccess",value:function(e,t,n){var r=this._visit(t.receiver,to.Expression),i=void 0;this.needsTemporary(t.receiver)&&(r=(i=this.allocateTemporary()).set(r),this._resultMap.set(t.receiver,i));var a=r.isBlank();t instanceof Fs?this._nodeMap.set(t,new Ds(t.span,t.sourceSpan,t.nameSpan,t.receiver,t.name,t.args)):this._nodeMap.set(t,new _s(t.span,t.sourceSpan,t.nameSpan,t.receiver,t.name));var s=this._visit(e,to.Expression);return this._nodeMap.delete(t),i&&this.releaseTemporary(i),uo(n,a.conditional(an(null),s))}},{key:"leftMostSafeNode",value:function(e){var t=this,n=function(e,n){return(t._nodeMap.get(n)||n).visit(e)};return e.visit({visitUnary:function(e){return null},visitBinary:function(e){return null},visitChain:function(e){return null},visitConditional:function(e){return null},visitFunctionCall:function(e){return null},visitImplicitReceiver:function(e){return null},visitThisReceiver:function(e){return null},visitInterpolation:function(e){return null},visitKeyedRead:function(e){return n(this,e.obj)},visitKeyedWrite:function(e){return null},visitLiteralArray:function(e){return null},visitLiteralMap:function(e){return null},visitLiteralPrimitive:function(e){return null},visitMethodCall:function(e){return n(this,e.receiver)},visitPipe:function(e){return null},visitPrefixNot:function(e){return null},visitNonNullAssert:function(e){return null},visitPropertyRead:function(e){return n(this,e.receiver)},visitPropertyWrite:function(e){return null},visitQuote:function(e){return null},visitSafeMethodCall:function(e){return n(this,e.receiver)||e},visitSafePropertyRead:function(e){return n(this,e.receiver)||e}})}},{key:"needsTemporary",value:function(e){var t=this,n=function(e,n){return n&&(t._nodeMap.get(n)||n).visit(e)};return e.visit({visitUnary:function(e){return n(this,e.expr)},visitBinary:function(e){return n(this,e.left)||n(this,e.right)},visitChain:function(e){return!1},visitConditional:function(e){return n(this,e.condition)||n(this,e.trueExp)||n(this,e.falseExp)},visitFunctionCall:function(e){return!0},visitImplicitReceiver:function(e){return!1},visitThisReceiver:function(e){return!1},visitInterpolation:function(e){return function(e,t){return t.some(function(t){return n(e,t)})}(this,e.expressions)},visitKeyedRead:function(e){return!1},visitKeyedWrite:function(e){return!1},visitLiteralArray:function(e){return!0},visitLiteralMap:function(e){return!0},visitLiteralPrimitive:function(e){return!1},visitMethodCall:function(e){return!0},visitPipe:function(e){return!0},visitPrefixNot:function(e){return n(this,e.expression)},visitNonNullAssert:function(e){return n(this,e.expression)},visitPropertyRead:function(e){return!1},visitPropertyWrite:function(e){return!1},visitQuote:function(e){return!1},visitSafeMethodCall:function(e){return!0},visitSafePropertyRead:function(e){return!1}})}},{key:"allocateTemporary",value:function(){var e=this._currentTemporary++;return this.temporaryCount=Math.max(this._currentTemporary,this.temporaryCount),new De(ao(this.bindingId,e))}},{key:"releaseTemporary",value:function(e){if(this._currentTemporary--,e.name!=ao(this.bindingId,this._currentTemporary))throw new Error("Temporary ".concat(e.name," released out of order"))}},{key:"convertSourceSpan",value:function(e){if(this.baseSourceSpan){var t=this.baseSourceSpan.start.moveBy(e.start),n=this.baseSourceSpan.start.moveBy(e.end),r=this.baseSourceSpan.fullStart.moveBy(e.start);return new es(t,n,r)}return null}},{key:"addImplicitReceiverAccess",value:function(e){this.implicitReceiverAccesses&&this.implicitReceiverAccesses.add(e)}}]),e}();var ho=function(){function e(t){Object(b.a)(this,e),this.globals=t}return Object(k.a)(e,[{key:"notifyImplicitReceiverUse",value:function(){}},{key:"getLocal",value:function(e){return e===$s.event.name?$s.event:null}}]),e}();var po=function(e){Object(m.a)(n,e);var t=Object(y.a)(n);function n(e,r,i,a){var s;return Object(b.a)(this,n),(s=t.call(this,e,r,null,i)).args=i,s.converter=a,s}return n}(Ls),vo=function(){function e(){Object(b.a)(this,e),this.strictStyling=!0}return Object(k.a)(e,[{key:"shimCssText",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",r=Do(e);e=Io(e),e=this._insertDirectives(e);var i=this._scopeCssText(e,t,n);return[i].concat(Object(g.a)(r)).join("\n")}},{key:"_insertDirectives",value:function(e){return e=this._insertPolyfillDirectivesInCssText(e),this._insertPolyfillRulesInCssText(e)}},{key:"_insertPolyfillDirectivesInCssText",value:function(e){return e.replace(mo,function(){return(arguments.length<=2?void 0:arguments[2])+"{"})}},{key:"_insertPolyfillRulesInCssText",value:function(e){return e.replace(yo,function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t[0].replace(t[1],"").replace(t[2],"");return t[4]+r})}},{key:"_scopeCssText",value:function(e,t,n){var r=this._extractUnscopedRulesFromCssText(e);return e=this._insertPolyfillHostInCssText(e),e=this._convertColonHost(e),e=this._convertColonHostContext(e),e=this._convertShadowDOMSelectors(e),t&&(e=this._scopeSelectors(e,t,n)),(e=e+"\n"+r).trim()}},{key:"_extractUnscopedRulesFromCssText",value:function(e){var t,n="";for(go.lastIndex=0;null!==(t=go.exec(e));){n+=t[0].replace(t[2],"").replace(t[1],t[4])+"\n\n"}return n}},{key:"_convertColonHost",value:function(e){return e.replace(_o,function(e,t,n){if(t){var r,i=[],a=t.split(",").map(function(e){return e.trim()}),s=Object(v.a)(a);try{for(s.s();!(r=s.n()).done;){var o=r.value;if(!o)break;var u=wo+o.replace(bo,"")+n;i.push(u)}}catch(c){s.e(c)}finally{s.f()}return i.join(",")}return wo+n})}},{key:"_convertColonHostContext",value:function(e){return e.replace(So,function(e){for(var t,n,r=[[]];n=xo.exec(e);){var i=(null!==(t=n[1])&&void 0!==t?t:"").trim().split(",").map(function(e){return e.trim()}).filter(function(e){return""!==e}),a=r.length;zo(r,i.length);for(var s=0;s<i.length;s++)for(var o=0;o<a;o++)r[o+s*a].push(i[s]);e=n[2]}return r.map(function(t){return function(e,t){var n=wo;No.lastIndex=0;var r=No.test(t);if(0===e.length)return n+t;var i=[e.pop()||""];for(;e.length>0;)for(var a=i.length,s=e.pop(),o=0;o<a;o++){var u=i[o];i[2*a+o]=u+" "+s,i[a+o]=s+" "+u,i[o]=s+u}return i.map(function(e){return r?"".concat(e).concat(t):"".concat(e).concat(n).concat(t,", ").concat(e," ").concat(n).concat(t)}).join(",")}(t,e)}).join(", ")})}},{key:"_convertShadowDOMSelectors",value:function(e){return Oo.reduce(function(e,t){return e.replace(t," ")},e)}},{key:"_scopeSelectors",value:function(e,t,n){var r=this;return Ho(e,function(e){var i=e.selector,a=e.content;return"@"!=e.selector[0]?i=r._scopeSelector(e.selector,t,n,r.strictStyling):e.selector.startsWith("@media")||e.selector.startsWith("@supports")||e.selector.startsWith("@page")||e.selector.startsWith("@document")?a=r._scopeSelectors(e.content,t,n):e.selector.startsWith("@font-face")&&(a=r._stripScopingSelectors(e.content,t,n)),new Uo(i,a)})}},{key:"_stripScopingSelectors",value:function(e,t,n){var r=this;return Ho(e,function(e){var i=e.selector.replace(To," ").replace(Co," "),a=r._scopeSelectors(e.content,t,n);return new Uo(i,a)})}},{key:"_scopeSelector",value:function(e,t,n,r){var i=this;return e.split(",").map(function(e){return e.trim().split(To)}).map(function(e){var a=Object(c.a)(e),s=a[0],o=a.slice(1);return[function(e){return i._selectorNeedsScoping(e,t)?r?i._applyStrictSelectorScope(e,t,n):i._applySelectorScope(e,t,n):e}(s)].concat(Object(g.a)(o)).join(" ")}).join(", ")}},{key:"_selectorNeedsScoping",value:function(e,t){return!this._makeScopeMatcher(t).test(e)}},{key:"_makeScopeMatcher",value:function(e){return e=e.replace(/\[/g,"\\[").replace(/\]/g,"\\]"),new RegExp("^("+e+")"+jo,"m")}},{key:"_applySelectorScope",value:function(e,t,n){return this._applySimpleSelectorScope(e,t,n)}},{key:"_applySimpleSelectorScope",value:function(e,t,n){if(No.lastIndex=0,No.test(e)){var r=this.strictStyling?"[".concat(n,"]"):t;return e.replace(Co,function(e,t){return t.replace(/([^:]*)(:*)(.*)/,function(e,t,n,i){return t+r+n+i})}).replace(No,r+" ")}return t+" "+e}},{key:"_applyStrictSelectorScope",value:function(e,t,n){for(var r,i=this,a="["+(t=t.replace(/\[is=([^\]]*)\]/g,function(e){return arguments.length<=1?void 0:arguments[1]}))+"]",s=function(e){var r=e.trim();if(!r)return"";if(e.indexOf(wo)>-1)r=i._applySimpleSelectorScope(e,t,n);else{var s=e.replace(No,"");if(s.length>0){var o=s.match(/([^:]*)(:*)(.*)/);o&&(r=o[1]+a+o[2]+o[3])}}return r},o=new fo(e),u="",c=0,l=/( |>|\+|~(?!=))\s*/g,h=!((e=o.content()).indexOf(wo)>-1);null!==(r=l.exec(e));){var p=r[1],v=e.slice(c,r.index).trim(),f=(h=h||v.indexOf(wo)>-1)?s(v):v;u+="".concat(f," ").concat(p," "),c=l.lastIndex}var d=e.substring(c);return u+=(h=h||d.indexOf(wo)>-1)?s(d):d,o.restore(u)}},{key:"_insertPolyfillHostInCssText",value:function(e){return e.replace(Ao,ko).replace(Mo,bo)}}]),e}(),fo=function(){function e(t){var n=this;Object(b.a)(this,e),this.placeholders=[],this.index=0,t=this._escapeRegexMatches(t,/(\[[^\]]*\])/g),t=this._escapeRegexMatches(t,/(\\.)/g),this._content=t.replace(/(:nth-[-\w]+)(\([^)]+\))/g,function(e,t,r){var i="__ph-".concat(n.index,"__");return n.placeholders.push(r),n.index++,t+i})}return Object(k.a)(e,[{key:"restore",value:function(e){var t=this;return e.replace(/__ph-(\d+)__/g,function(e,n){return t.placeholders[+n]})}},{key:"content",value:function(){return this._content}},{key:"_escapeRegexMatches",value:function(e,t){var n=this;return e.replace(t,function(e,t){var r="__ph-".concat(n.index,"__");return n.placeholders.push(t),n.index++,r})}}]),e}(),mo=/polyfill-next-selector[^}]*content:[\s]*?(['"])(.*?)\1[;\s]*}([^{]*?){/gim,yo=/(polyfill-rule)[^}]*(content:[\s]*(['"])(.*?)\3)[;\s]*[^}]*}/gim,go=/(polyfill-unscoped-rule)[^}]*(content:[\s]*(['"])(.*?)\3)[;\s]*[^}]*}/gim,bo="-shadowcsshost",ko="-shadowcsscontext",Eo="(?:\\(((?:\\([^)(]*\\)|[^)(]*)+?)\\))?([^,{]*)",_o=new RegExp(bo+Eo,"gim"),So=new RegExp(ko+Eo,"gim"),xo=new RegExp(ko+Eo,"im"),wo=bo+"-no-combinator",Co=/-shadowcsshost-no-combinator([^\s]*)/,Oo=[/::shadow/g,/::content/g,/\/shadow-deep\//g,/\/shadow\//g],To=/(?:>>>)|(?:\/deep\/)|(?:::ng-deep)/g,jo="([>\\s~+[.,{:][\\s\\S]*)?$",No=/-shadowcsshost/gim,Mo=/:host/gim,Ao=/:host-context/gim,Po=/\/\*\s*[\s\S]*?\*\//g;function Io(e){return e.replace(Po,"")}var Ro=/\/\*\s*#\s*source(Mapping)?URL=[\s\S]+?\*\//g;function Do(e){return e.match(Ro)||[]}var Fo=/(\s*)([^;\{\}]+?)(\s*)((?:{%BLOCK%}?\s*;?)|(?:\s*;))/g,Lo=/%QUOTED%/g,Bo=new Map([["{","}"]]),Vo=new Map([['"','"'],["'","'"]]),Uo=function e(t,n){Object(b.a)(this,e),this.selector=t,this.content=n};function Ho(e,t){var n=Wo(e,Vo,"%QUOTED%"),r=Wo(n.escapedString,Bo,"%BLOCK%"),i=0,a=0;return r.escapedString.replace(Fo,function(){var e=arguments.length<=2?void 0:arguments[2],n="",a=arguments.length<=4?void 0:arguments[4],s="";a&&a.startsWith("{%BLOCK%")&&(n=r.blocks[i++],a=a.substring("%BLOCK%".length+1),s="{");var o=t(new Uo(e,n));return"".concat(arguments.length<=1?void 0:arguments[1]).concat(o.selector).concat(arguments.length<=3?void 0:arguments[3]).concat(s).concat(o.content).concat(a)}).replace(Lo,function(){return n.blocks[a++]})}var qo=function e(t,n){Object(b.a)(this,e),this.escapedString=t,this.blocks=n};function Wo(e,t,n){for(var r,i,a=[],s=[],o=0,u=0,c=-1,l=0;l<e.length;l++){var h=e[l];"\\"===h?l++:h===i?0===--o&&(s.push(e.substring(c,l)),a.push(n),u=l,c=-1,r=i=void 0):h===r?o++:0===o&&t.has(h)&&(r=h,i=t.get(h),o=1,c=l+1,a.push(e.substring(u,c)))}return-1!==c?(s.push(e.substring(c)),a.push(n)):a.push(e.substring(u)),new qo(a.join(""),s)}function zo(e,t){for(var n=e.length,r=1;r<t;r++)for(var i=0;i<n;i++)e[i+r*n]=e[i].slice(0)}var Ko="_nghost-".concat("%COMP%"),Qo="_ngcontent-".concat("%COMP%"),Xo=function e(t,n,r){Object(b.a)(this,e),this.name=t,this.moduleUrl=n,this.setValue=r},Go=function e(t,n,r,i,a){Object(b.a)(this,e),this.outputCtx=t,this.stylesVar=n,this.dependencies=r,this.isShimmed=i,this.meta=a},$o=function(){function e(t){Object(b.a)(this,e),this._urlResolver=t,this._shadowCss=new vo}return Object(k.a)(e,[{key:"compileComponent",value:function(e,t){var n=t.template;return this._compileStyles(e,t,new sr({styles:n.styles,styleUrls:n.styleUrls,moduleUrl:Zn(t.type)}),this.needsStyleShim(t),!0)}},{key:"compileStyles",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:this.needsStyleShim(t);return this._compileStyles(e,t,n,r,!1)}},{key:"needsStyleShim",value:function(e){return e.template.encapsulation===P.Emulated}},{key:"_compileStyles",value:function(e,t,n,r,i){var a=this,s=n.styles.map(function(e){return an(a._shimIfNeeded(e,r))}),o=[];n.styleUrls.forEach(function(t){var n=s.length;s.push(null),o.push(new Xo(Yo(null),t,function(t){return s[n]=e.importExpr(t)}))});var u=Yo(i?t:null),c=Xt(u).set(Zt(s,new _e(xe,[fe.Const]))).toDeclStmt(null,i?[rt.Final]:[rt.Final,rt.Exported]);return e.statements.push(c),new Go(e,u,o,r,n)}},{key:"_shimIfNeeded",value:function(e,t){return t?this._shadowCss.shimCssText(e,Qo,Ko):e}}]),e}();function Yo(e){var t="styles";return e&&(t+="_".concat(Jn(e.type))),t}var Jo=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1;Object(b.a)(this,e),this.path=t,this.position=n}return Object(k.a)(e,[{key:"empty",get:function(){return!this.path||!this.path.length}},{key:"head",get:function(){return this.path[0]}},{key:"tail",get:function(){return this.path[this.path.length-1]}},{key:"parentOf",value:function(e){return e&&this.path[this.path.indexOf(e)-1]}},{key:"childOf",value:function(e){return this.path[this.path.indexOf(e)+1]}},{key:"first",value:function(e){for(var t=this.path.length-1;t>=0;t--){var n=this.path[t];if(n instanceof e)return n}}},{key:"push",value:function(e){this.path.push(e)}},{key:"pop",value:function(){return this.path.pop()}}]),e}(),Zo=function e(t,n){Object(b.a)(this,e),this.sourceSpan=t,this.i18n=n},eu=function(e){Object(m.a)(n,e);var t=Object(y.a)(n);function n(e,r,i){var a;return Object(b.a)(this,n),(a=t.call(this,r,i)).value=e,a}return Object(k.a)(n,[{key:"visit",value:function(e,t){return e.visitText(this,t)}}]),n}(Zo),tu=function(e){Object(m.a)(n,e);var t=Object(y.a)(n);function n(e,r,i,a,s,o){var u;return Object(b.a)(this,n),(u=t.call(this,a,o)).switchValue=e,u.type=r,u.cases=i,u.switchValueSourceSpan=s,u}return Object(k.a)(n,[{key:"visit",value:function(e,t){return e.visitExpansion(this,t)}}]),n}(Zo),nu=function(){function e(t,n,r,i,a){Object(b.a)(this,e),this.value=t,this.expression=n,this.sourceSpan=r,this.valueSourceSpan=i,this.expSourceSpan=a}return Object(k.a)(e,[{key:"visit",value:function(e,t){return e.visitExpansionCase(this,t)}}]),e}(),ru=function(e){Object(m.a)(n,e);var t=Object(y.a)(n);function n(e,r,i,a,s,o){var u;return Object(b.a)(this,n),(u=t.call(this,i,o)).name=e,u.value=r,u.keySpan=a,u.valueSpan=s,u}return Object(k.a)(n,[{key:"visit",value:function(e,t){return e.visitAttribute(this,t)}}]),n}(Zo),iu=function(e){Object(m.a)(n,e);var t=Object(y.a)(n);function n(e,r,i,a,s){var o,u=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,c=arguments.length>6?arguments[6]:void 0;return Object(b.a)(this,n),(o=t.call(this,a,c)).name=e,o.attrs=r,o.children=i,o.startSourceSpan=s,o.endSourceSpan=u,o}return Object(k.a)(n,[{key:"visit",value:function(e,t){return e.visitElement(this,t)}}]),n}(Zo),au=function(){function e(t,n){Object(b.a)(this,e),this.value=t,this.sourceSpan=n}return Object(k.a)(e,[{key:"visit",value:function(e,t){return e.visitComment(this,t)}}]),e}();function su(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=[],i=e.visit?function(t){return e.visit(t,n)||t.visit(e,n)}:function(t){return t.visit(e,n)};return t.forEach(function(e){var t=i(e);t&&r.push(t)}),r}var ou,uu=function(){function e(){Object(b.a)(this,e)}return Object(k.a)(e,[{key:"visitElement",value:function(e,t){this.visitChildren(t,function(t){t(e.attrs),t(e.children)})}},{key:"visitAttribute",value:function(e,t){}},{key:"visitText",value:function(e,t){}},{key:"visitComment",value:function(e,t){}},{key:"visitExpansion",value:function(e,t){return this.visitChildren(t,function(t){t(e.cases)})}},{key:"visitExpansionCase",value:function(e,t){}},{key:"visitChildren",value:function(e,t){var n=[],r=this;return t(function(t){t&&n.push(su(r,t,e))}),Array.prototype.concat.apply([],n)}}]),e}();function cu(e,t){var n=[];return su(new(function(e){Object(m.a)(i,e);var r=Object(y.a)(i);function i(){return Object(b.a)(this,i),r.apply(this,arguments)}return Object(k.a)(i,[{key:"visit",value:function(e,r){var i=function e(t){var n=t.sourceSpan.start.offset,r=t.sourceSpan.end.offset;return t instanceof iu&&(t.endSourceSpan?r=t.endSourceSpan.end.offset:t.children&&t.children.length&&(r=e(t.children[t.children.length-1]).end)),{start:n,end:r}}(e);if(!(i.start<=t&&t<i.end))return!0;n.push(e)}}]),i}(uu)),e),new Jo(n,t)}!function(e){e[e.TAG_OPEN_START=0]="TAG_OPEN_START",e[e.TAG_OPEN_END=1]="TAG_OPEN_END",e[e.TAG_OPEN_END_VOID=2]="TAG_OPEN_END_VOID",e[e.TAG_CLOSE=3]="TAG_CLOSE",e[e.INCOMPLETE_TAG_OPEN=4]="INCOMPLETE_TAG_OPEN",e[e.TEXT=5]="TEXT",e[e.ESCAPABLE_RAW_TEXT=6]="ESCAPABLE_RAW_TEXT",e[e.RAW_TEXT=7]="RAW_TEXT",e[e.COMMENT_START=8]="COMMENT_START",e[e.COMMENT_END=9]="COMMENT_END",e[e.CDATA_START=10]="CDATA_START",e[e.CDATA_END=11]="CDATA_END",e[e.ATTR_NAME=12]="ATTR_NAME",e[e.ATTR_QUOTE=13]="ATTR_QUOTE",e[e.ATTR_VALUE=14]="ATTR_VALUE",e[e.DOC_TYPE=15]="DOC_TYPE",e[e.EXPANSION_FORM_START=16]="EXPANSION_FORM_START",e[e.EXPANSION_CASE_VALUE=17]="EXPANSION_CASE_VALUE",e[e.EXPANSION_CASE_EXP_START=18]="EXPANSION_CASE_EXP_START",e[e.EXPANSION_CASE_EXP_END=19]="EXPANSION_CASE_EXP_END",e[e.EXPANSION_FORM_END=20]="EXPANSION_FORM_END",e[e.EOF=21]="EOF"}(ou||(ou={}));var lu=function e(t,n,r){Object(b.a)(this,e),this.type=t,this.parts=n,this.sourceSpan=r},hu=function(e){Object(m.a)(n,e);var t=Object(y.a)(n);function n(e,r,i){var a;return Object(b.a)(this,n),(a=t.call(this,i,e)).tokenType=r,a}return n}(ts),pu=function e(t,n,r){Object(b.a)(this,e),this.tokens=t,this.errors=n,this.nonNormalizedIcuExpressions=r};var vu,fu=/\r\n?/g;function du(e){var t=0===e?"EOF":String.fromCharCode(e);return'Unexpected character "'.concat(t,'"')}function mu(e){return'Unknown entity "'.concat(e,'" - use the "&#<decimal>;" or  "&#x<hex>;" syntax')}!function(e){e.HEX="hexadecimal",e.DEC="decimal"}(vu||(vu={}));var yu=function e(t){Object(b.a)(this,e),this.error=t},gu=function(){function e(t,n,r){Object(b.a)(this,e),this._getTagDefinition=n,this._currentTokenStart=null,this._currentTokenType=null,this._expansionCaseStack=[],this._inInterpolation=!1,this.tokens=[],this.errors=[],this.nonNormalizedIcuExpressions=[],this._tokenizeIcu=r.tokenizeExpansionForms||!1,this._interpolationConfig=r.interpolationConfig||Ba,this._leadingTriviaCodePoints=r.leadingTriviaChars&&r.leadingTriviaChars.map(function(e){return e.codePointAt(0)||0});var i=r.range||{endPos:t.content.length,startPos:0,startLine:0,startCol:0};this._cursor=r.escapedString?new Cu(t,i):new wu(t,i),this._preserveLineEndings=r.preserveLineEndings||!1,this._escapedString=r.escapedString||!1,this._i18nNormalizeLineEndingsInICUs=r.i18nNormalizeLineEndingsInICUs||!1;try{this._cursor.init()}catch(a){this.handleError(a)}}return Object(k.a)(e,[{key:"_processCarriageReturns",value:function(e){return this._preserveLineEndings?e:e.replace(fu,"\n")}},{key:"tokenize",value:function(){for(;0!==this._cursor.peek();){var e=this._cursor.clone();try{this._attemptCharCode(60)?this._attemptCharCode(33)?this._attemptCharCode(91)?this._consumeCdata(e):this._attemptCharCode(45)?this._consumeComment(e):this._consumeDocType(e):this._attemptCharCode(47)?this._consumeTagClose(e):this._consumeTagOpen(e):this._tokenizeIcu&&this._tokenizeExpansionForm()||this._consumeText()}catch(t){this.handleError(t)}}this._beginToken(ou.EOF),this._endToken([])}},{key:"_tokenizeExpansionForm",value:function(){if(this.isExpansionFormStart())return this._consumeExpansionFormStart(),!0;if(125!==this._cursor.peek()&&this._isInExpansionForm())return this._consumeExpansionCaseStart(),!0;if(125===this._cursor.peek()){if(this._isInExpansionCase())return this._consumeExpansionCaseEnd(),!0;if(this._isInExpansionForm())return this._consumeExpansionFormEnd(),!0}return!1}},{key:"_beginToken",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this._cursor.clone();this._currentTokenStart=t,this._currentTokenType=e}},{key:"_endToken",value:function(e,t){if(null===this._currentTokenStart)throw new hu("Programming error - attempted to end a token when there was no start to the token",this._currentTokenType,this._cursor.getSpan(t));if(null===this._currentTokenType)throw new hu("Programming error - attempted to end a token which has no token type",null,this._cursor.getSpan(this._currentTokenStart));var n=new lu(this._currentTokenType,e,this._cursor.getSpan(this._currentTokenStart,this._leadingTriviaCodePoints));return this.tokens.push(n),this._currentTokenStart=null,this._currentTokenType=null,n}},{key:"_createError",value:function(e,t){this._isInExpansionForm()&&(e+=' (Do you have an unescaped "{" in your template? Use "{{ \'{\' }}") to escape it.)');var n=new hu(e,this._currentTokenType,t);return this._currentTokenStart=null,this._currentTokenType=null,new yu(n)}},{key:"handleError",value:function(e){if(e instanceof Ou&&(e=this._createError(e.msg,this._cursor.getSpan(e.cursor))),!(e instanceof yu))throw e;this.errors.push(e.error)}},{key:"_attemptCharCode",value:function(e){return this._cursor.peek()===e&&(this._cursor.advance(),!0)}},{key:"_attemptCharCodeCaseInsensitive",value:function(e){return t=this._cursor.peek(),n=e,Su(t)==Su(n)&&(this._cursor.advance(),!0);var t,n}},{key:"_requireCharCode",value:function(e){var t=this._cursor.clone();if(!this._attemptCharCode(e))throw this._createError(du(this._cursor.peek()),this._cursor.getSpan(t))}},{key:"_attemptStr",value:function(e){var t=e.length;if(this._cursor.charsLeft()<t)return!1;for(var n=this._cursor.clone(),r=0;r<t;r++)if(!this._attemptCharCode(e.charCodeAt(r)))return this._cursor=n,!1;return!0}},{key:"_attemptStrCaseInsensitive",value:function(e){for(var t=0;t<e.length;t++)if(!this._attemptCharCodeCaseInsensitive(e.charCodeAt(t)))return!1;return!0}},{key:"_requireStr",value:function(e){var t=this._cursor.clone();if(!this._attemptStr(e))throw this._createError(du(this._cursor.peek()),this._cursor.getSpan(t))}},{key:"_attemptCharCodeUntilFn",value:function(e){for(;!e(this._cursor.peek());)this._cursor.advance()}},{key:"_requireCharCodeUntilFn",value:function(e,t){var n=this._cursor.clone();if(this._attemptCharCodeUntilFn(e),this._cursor.diff(n)<t)throw this._createError(du(this._cursor.peek()),this._cursor.getSpan(n))}},{key:"_attemptUntilChar",value:function(e){for(;this._cursor.peek()!==e;)this._cursor.advance()}},{key:"_readChar",value:function(e){if(e&&38===this._cursor.peek())return this._decodeEntity();var t=String.fromCodePoint(this._cursor.peek());return this._cursor.advance(),t}},{key:"_decodeEntity",value:function(){var e=this._cursor.clone();if(this._cursor.advance(),!this._attemptCharCode(35)){var t=this._cursor.clone();if(this._attemptCharCodeUntilFn(_u),59!=this._cursor.peek())return this._cursor=t,"&";var n=this._cursor.getChars(t);this._cursor.advance();var r=O[n];if(!r)throw this._createError(mu(n),this._cursor.getSpan(e));return r}var i=this._attemptCharCode(120)||this._attemptCharCode(88),a=this._cursor.clone();if(this._attemptCharCodeUntilFn(Eu),59!=this._cursor.peek()){this._cursor.advance();var s=i?vu.HEX:vu.DEC;throw this._createError((o=s,u=this._cursor.getChars(e),'Unable to parse entity "'.concat(u,'" - ').concat(o,' character reference entities must end with ";"')),this._cursor.getSpan())}var o,u,c=this._cursor.getChars(a);this._cursor.advance();try{var l=parseInt(c,i?16:10);return String.fromCharCode(l)}catch(h){throw this._createError(mu(this._cursor.getChars(e)),this._cursor.getSpan())}}},{key:"_consumeRawText",value:function(e,t){this._beginToken(e?ou.ESCAPABLE_RAW_TEXT:ou.RAW_TEXT);for(var n=[];;){var r=this._cursor.clone(),i=t();if(this._cursor=r,i)break;n.push(this._readChar(e))}return this._endToken([this._processCarriageReturns(n.join(""))])}},{key:"_consumeComment",value:function(e){var t=this;this._beginToken(ou.COMMENT_START,e),this._requireCharCode(45),this._endToken([]),this._consumeRawText(!1,function(){return t._attemptStr("--\x3e")}),this._beginToken(ou.COMMENT_END),this._requireStr("--\x3e"),this._endToken([])}},{key:"_consumeCdata",value:function(e){var t=this;this._beginToken(ou.CDATA_START,e),this._requireStr("CDATA["),this._endToken([]),this._consumeRawText(!1,function(){return t._attemptStr("]]>")}),this._beginToken(ou.CDATA_END),this._requireStr("]]>"),this._endToken([])}},{key:"_consumeDocType",value:function(e){this._beginToken(ou.DOC_TYPE,e);var t=this._cursor.clone();this._attemptUntilChar(62);var n=this._cursor.getChars(t);this._cursor.advance(),this._endToken([n])}},{key:"_consumePrefixAndName",value:function(){for(var e,t,n=this._cursor.clone(),r="";58!==this._cursor.peek()&&!(((e=this._cursor.peek())<97||122<e)&&(e<65||90<e)&&(e<48||e>57));)this._cursor.advance();return 58===this._cursor.peek()?(r=this._cursor.getChars(n),this._cursor.advance(),t=this._cursor.clone()):t=n,this._requireCharCodeUntilFn(ku,""===r?0:1),[r,this._cursor.getChars(t)]}},{key:"_consumeTagOpen",value:function(e){var t,n,r;try{if(!Xa(this._cursor.peek()))throw this._createError(du(this._cursor.peek()),this._cursor.getSpan(e));for(n=(r=this._consumeTagOpenStart(e)).parts[0],t=r.parts[1],this._attemptCharCodeUntilFn(bu);47!==this._cursor.peek()&&62!==this._cursor.peek()&&60!==this._cursor.peek()&&0!==this._cursor.peek();)this._consumeAttributeName(),this._attemptCharCodeUntilFn(bu),this._attemptCharCode(61)&&(this._attemptCharCodeUntilFn(bu),this._consumeAttributeValue()),this._attemptCharCodeUntilFn(bu);this._consumeTagOpenEnd()}catch(s){if(s instanceof yu)return r?r.type=ou.INCOMPLETE_TAG_OPEN:(this._beginToken(ou.TEXT,e),this._endToken(["<"])),void 0;throw s}var a=this._getTagDefinition(t).getContentType(n);a===i.RAW_TEXT?this._consumeRawTextWithTagClose(n,t,!1):a===i.ESCAPABLE_RAW_TEXT&&this._consumeRawTextWithTagClose(n,t,!0)}},{key:"_consumeRawTextWithTagClose",value:function(e,t,n){var r=this;this._consumeRawText(n,function(){return!!r._attemptCharCode(60)&&(!!r._attemptCharCode(47)&&(r._attemptCharCodeUntilFn(bu),!!r._attemptStrCaseInsensitive(t)&&(r._attemptCharCodeUntilFn(bu),r._attemptCharCode(62))))}),this._beginToken(ou.TAG_CLOSE),this._requireCharCodeUntilFn(function(e){return 62===e},3),this._cursor.advance(),this._endToken([e,t])}},{key:"_consumeTagOpenStart",value:function(e){this._beginToken(ou.TAG_OPEN_START,e);var t=this._consumePrefixAndName();return this._endToken(t)}},{key:"_consumeAttributeName",value:function(){var e=this._cursor.peek();if(39===e||34===e)throw this._createError(du(e),this._cursor.getSpan());this._beginToken(ou.ATTR_NAME);var t=this._consumePrefixAndName();this._endToken(t)}},{key:"_consumeAttributeValue",value:function(){var e;if(39===this._cursor.peek()||34===this._cursor.peek()){this._beginToken(ou.ATTR_QUOTE);var t=this._cursor.peek();this._cursor.advance(),this._endToken([String.fromCodePoint(t)]),this._beginToken(ou.ATTR_VALUE);for(var n=[];this._cursor.peek()!==t;)n.push(this._readChar(!0));e=n.join(""),this._endToken([this._processCarriageReturns(e)]),this._beginToken(ou.ATTR_QUOTE),this._cursor.advance(),this._endToken([String.fromCodePoint(t)])}else{this._beginToken(ou.ATTR_VALUE);var r=this._cursor.clone();this._requireCharCodeUntilFn(ku,1),e=this._cursor.getChars(r),this._endToken([this._processCarriageReturns(e)])}}},{key:"_consumeTagOpenEnd",value:function(){var e=this._attemptCharCode(47)?ou.TAG_OPEN_END_VOID:ou.TAG_OPEN_END;this._beginToken(e),this._requireCharCode(62),this._endToken([])}},{key:"_consumeTagClose",value:function(e){this._beginToken(ou.TAG_CLOSE,e),this._attemptCharCodeUntilFn(bu);var t=this._consumePrefixAndName();this._attemptCharCodeUntilFn(bu),this._requireCharCode(62),this._endToken(t)}},{key:"_consumeExpansionFormStart",value:function(){this._beginToken(ou.EXPANSION_FORM_START),this._requireCharCode(123),this._endToken([]),this._expansionCaseStack.push(ou.EXPANSION_FORM_START),this._beginToken(ou.RAW_TEXT);var e=this._readUntil(44),t=this._processCarriageReturns(e);if(this._i18nNormalizeLineEndingsInICUs)this._endToken([t]);else{var n=this._endToken([e]);t!==e&&this.nonNormalizedIcuExpressions.push(n)}this._requireCharCode(44),this._attemptCharCodeUntilFn(bu),this._beginToken(ou.RAW_TEXT);var r=this._readUntil(44);this._endToken([r]),this._requireCharCode(44),this._attemptCharCodeUntilFn(bu)}},{key:"_consumeExpansionCaseStart",value:function(){this._beginToken(ou.EXPANSION_CASE_VALUE);var e=this._readUntil(123).trim();this._endToken([e]),this._attemptCharCodeUntilFn(bu),this._beginToken(ou.EXPANSION_CASE_EXP_START),this._requireCharCode(123),this._endToken([]),this._attemptCharCodeUntilFn(bu),this._expansionCaseStack.push(ou.EXPANSION_CASE_EXP_START)}},{key:"_consumeExpansionCaseEnd",value:function(){this._beginToken(ou.EXPANSION_CASE_EXP_END),this._requireCharCode(125),this._endToken([]),this._attemptCharCodeUntilFn(bu),this._expansionCaseStack.pop()}},{key:"_consumeExpansionFormEnd",value:function(){this._beginToken(ou.EXPANSION_FORM_END),this._requireCharCode(125),this._endToken([]),this._expansionCaseStack.pop()}},{key:"_consumeText",value:function(){var e=this._cursor.clone();this._beginToken(ou.TEXT,e);var t=[];do{this._interpolationConfig&&this._attemptStr(this._interpolationConfig.start)?(t.push(this._interpolationConfig.start),this._inInterpolation=!0):this._interpolationConfig&&this._inInterpolation&&this._attemptStr(this._interpolationConfig.end)?(t.push(this._interpolationConfig.end),this._inInterpolation=!1):t.push(this._readChar(!0))}while(!this._isTextEnd());this._endToken([this._processCarriageReturns(t.join(""))])}},{key:"_isTextEnd",value:function(){if(60===this._cursor.peek()||0===this._cursor.peek())return!0;if(this._tokenizeIcu&&!this._inInterpolation){if(this.isExpansionFormStart())return!0;if(125===this._cursor.peek()&&this._isInExpansionCase())return!0}return!1}},{key:"_readUntil",value:function(e){var t=this._cursor.clone();return this._attemptUntilChar(e),this._cursor.getChars(t)}},{key:"_isInExpansionCase",value:function(){return this._expansionCaseStack.length>0&&this._expansionCaseStack[this._expansionCaseStack.length-1]===ou.EXPANSION_CASE_EXP_START}},{key:"_isInExpansionForm",value:function(){return this._expansionCaseStack.length>0&&this._expansionCaseStack[this._expansionCaseStack.length-1]===ou.EXPANSION_FORM_START}},{key:"isExpansionFormStart",value:function(){if(123!==this._cursor.peek())return!1;if(this._interpolationConfig){var e=this._cursor.clone(),t=this._attemptStr(this._interpolationConfig.start);return this._cursor=e,!t}return!0}}]),e}();function bu(e){return!Ka(e)||0===e}function ku(e){return Ka(e)||62===e||60===e||47===e||39===e||34===e||61===e||0===e}function Eu(e){return 59==e||0==e||!function(e){return e>=97&&e<=102||e>=65&&e<=70||Qa(e)}(e)}function _u(e){return 59==e||0==e||!Xa(e)}function Su(e){return e>=97&&e<=122?e-97+65:e}function xu(e){for(var t=[],n=void 0,r=0;r<e.length;r++){var i=e[r];n&&n.type==ou.TEXT&&i.type==ou.TEXT?(n.parts[0]+=i.parts[0],n.sourceSpan.end=i.sourceSpan.end):(n=i,t.push(n))}return t}var wu=function(){function e(t,n){if(Object(b.a)(this,e),t instanceof e){this.file=t.file,this.input=t.input,this.end=t.end;var r=t.state;this.state={peek:r.peek,offset:r.offset,line:r.line,column:r.column}}else{if(!n)throw new Error("Programming error: the range argument must be provided with a file argument.");this.file=t,this.input=t.content,this.end=n.endPos,this.state={peek:-1,offset:n.startPos,line:n.startLine,column:n.startCol}}}return Object(k.a)(e,[{key:"clone",value:function(){return new e(this)}},{key:"peek",value:function(){return this.state.peek}},{key:"charsLeft",value:function(){return this.end-this.state.offset}},{key:"diff",value:function(e){return this.state.offset-e.state.offset}},{key:"advance",value:function(){this.advanceState(this.state)}},{key:"init",value:function(){this.updatePeek(this.state)}},{key:"getSpan",value:function(e,t){var n=e=e||this;if(t)for(;this.diff(e)>0&&-1!==t.indexOf(e.peek());)n===e&&(e=e.clone()),e.advance();var r=this.locationFromCursor(e),i=this.locationFromCursor(this),a=n!==e?this.locationFromCursor(n):r;return new es(r,i,a)}},{key:"getChars",value:function(e){return this.input.substring(e.state.offset,this.state.offset)}},{key:"charAt",value:function(e){return this.input.charCodeAt(e)}},{key:"advanceState",value:function(e){if(e.offset>=this.end)throw this.state=e,new Ou('Unexpected character "EOF"',this);var t=this.charAt(e.offset);10===t?(e.line++,e.column=0):Ga(t)||e.column++,e.offset++,this.updatePeek(e)}},{key:"updatePeek",value:function(e){e.peek=e.offset>=this.end?0:this.charAt(e.offset)}},{key:"locationFromCursor",value:function(e){return new Ja(e.file,e.state.offset,e.state.line,e.state.column)}}]),e}(),Cu=function(e){Object(m.a)(n,e);var t=Object(y.a)(n);function n(e,r){var i;return Object(b.a)(this,n),e instanceof n?(i=t.call(this,e)).internalState=Object.assign({},e.internalState):(i=t.call(this,e,r)).internalState=i.state,Object(u.a)(i)}return Object(k.a)(n,[{key:"advance",value:function(){this.state=this.internalState,Object(f.a)(Object(d.a)(n.prototype),"advance",this).call(this),this.processEscapeSequence()}},{key:"init",value:function(){Object(f.a)(Object(d.a)(n.prototype),"init",this).call(this),this.processEscapeSequence()}},{key:"clone",value:function(){return new n(this)}},{key:"getChars",value:function(e){for(var t=e.clone(),n="";t.internalState.offset<this.internalState.offset;)n+=String.fromCodePoint(t.peek()),t.advance();return n}},{key:"processEscapeSequence",value:function(){var e=this,t=function(){return e.internalState.peek};if(92===t())if(this.internalState=Object.assign({},this.state),this.advanceState(this.internalState),110===t())this.state.peek=10;else if(114===t())this.state.peek=13;else if(118===t())this.state.peek=11;else if(116===t())this.state.peek=9;else if(98===t())this.state.peek=8;else if(102===t())this.state.peek=12;else if(117===t())if(this.advanceState(this.internalState),123===t()){this.advanceState(this.internalState);for(var n=this.clone(),r=0;125!==t();)this.advanceState(this.internalState),r++;this.state.peek=this.decodeHexDigits(n,r)}else{var i=this.clone();this.advanceState(this.internalState),this.advanceState(this.internalState),this.advanceState(this.internalState),this.state.peek=this.decodeHexDigits(i,4)}else if(120===t()){this.advanceState(this.internalState);var a=this.clone();this.advanceState(this.internalState),this.state.peek=this.decodeHexDigits(a,2)}else if($a(t())){for(var s="",o=0,u=this.clone();$a(t())&&o<3;)u=this.clone(),s+=String.fromCodePoint(t()),this.advanceState(this.internalState),o++;this.state.peek=parseInt(s,8),this.internalState=u.internalState}else Ga(this.internalState.peek)?(this.advanceState(this.internalState),this.state=this.internalState):this.state.peek=this.internalState.peek}},{key:"decodeHexDigits",value:function(e,t){var n=this.input.substr(e.internalState.offset,t),r=parseInt(n,16);if(isNaN(r))throw e.state=e.internalState,new Ou("Invalid hexadecimal escape sequence",e);return r}}]),n}(wu),Ou=function e(t,n){Object(b.a)(this,e),this.msg=t,this.cursor=n},Tu=function(e){Object(m.a)(n,e);var t=Object(y.a)(n);function n(e,r,i){var a;return Object(b.a)(this,n),(a=t.call(this,r,i)).elementName=e,a}return Object(k.a)(n,null,[{key:"create",value:function(e,t,r){return new n(e,t,r)}}]),n}(ts),ju=function e(t,n){Object(b.a)(this,e),this.rootNodes=t,this.errors=n},Nu=function(){function e(t){Object(b.a)(this,e),this.getTagDefinition=t}return Object(k.a)(e,[{key:"parse",value:function(e,t,n){var r=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=new gu(new Za(e,t),n,r);return i.tokenize(),new pu(xu(i.tokens),i.errors,i.nonNormalizedIcuExpressions)}(e,t,this.getTagDefinition,n),i=new Mu(r.tokens,this.getTagDefinition);return i.build(),new ju(i.rootNodes,r.errors.concat(i.errors))}}]),e}(),Mu=function(){function e(t,n){Object(b.a)(this,e),this.tokens=t,this.getTagDefinition=n,this._index=-1,this._elementStack=[],this.rootNodes=[],this.errors=[],this._advance()}return Object(k.a)(e,[{key:"build",value:function(){for(;this._peek.type!==ou.EOF;)this._peek.type===ou.TAG_OPEN_START||this._peek.type===ou.INCOMPLETE_TAG_OPEN?this._consumeStartTag(this._advance()):this._peek.type===ou.TAG_CLOSE?this._consumeEndTag(this._advance()):this._peek.type===ou.CDATA_START?(this._closeVoidElement(),this._consumeCdata(this._advance())):this._peek.type===ou.COMMENT_START?(this._closeVoidElement(),this._consumeComment(this._advance())):this._peek.type===ou.TEXT||this._peek.type===ou.RAW_TEXT||this._peek.type===ou.ESCAPABLE_RAW_TEXT?(this._closeVoidElement(),this._consumeText(this._advance())):this._peek.type===ou.EXPANSION_FORM_START?this._consumeExpansion(this._advance()):this._advance()}},{key:"_advance",value:function(){var e=this._peek;return this._index<this.tokens.length-1&&this._index++,this._peek=this.tokens[this._index],e}},{key:"_advanceIf",value:function(e){return this._peek.type===e?this._advance():null}},{key:"_consumeCdata",value:function(e){this._consumeText(this._advance()),this._advanceIf(ou.CDATA_END)}},{key:"_consumeComment",value:function(e){var t=this._advanceIf(ou.RAW_TEXT);this._advanceIf(ou.COMMENT_END);var n=null!=t?t.parts[0].trim():null;this._addToParent(new au(n,e.sourceSpan))}},{key:"_consumeExpansion",value:function(e){for(var t=this._advance(),n=this._advance(),r=[];this._peek.type===ou.EXPANSION_CASE_VALUE;){var i=this._parseExpansionCase();if(!i)return;r.push(i)}if(this._peek.type!==ou.EXPANSION_FORM_END)return this.errors.push(Tu.create(null,this._peek.sourceSpan,"Invalid ICU message. Missing '}'.")),void 0;var a=new es(e.sourceSpan.start,this._peek.sourceSpan.end,e.sourceSpan.fullStart);this._addToParent(new tu(t.parts[0],n.parts[0],r,a,t.sourceSpan)),this._advance()}},{key:"_parseExpansionCase",value:function(){var t=this._advance();if(this._peek.type!==ou.EXPANSION_CASE_EXP_START)return this.errors.push(Tu.create(null,this._peek.sourceSpan,"Invalid ICU message. Missing '{'.")),null;var n=this._advance(),r=this._collectExpansionExpTokens(n);if(!r)return null;var i=this._advance();r.push(new lu(ou.EOF,[],i.sourceSpan));var a=new e(r,this.getTagDefinition);if(a.build(),a.errors.length>0)return this.errors=this.errors.concat(a.errors),null;var s=new es(t.sourceSpan.start,i.sourceSpan.end,t.sourceSpan.fullStart),o=new es(n.sourceSpan.start,i.sourceSpan.end,n.sourceSpan.fullStart);return new nu(t.parts[0],a.rootNodes,s,t.sourceSpan,o)}},{key:"_collectExpansionExpTokens",value:function(e){for(var t=[],n=[ou.EXPANSION_CASE_EXP_START];;){if(this._peek.type!==ou.EXPANSION_FORM_START&&this._peek.type!==ou.EXPANSION_CASE_EXP_START||n.push(this._peek.type),this._peek.type===ou.EXPANSION_CASE_EXP_END){if(!Au(n,ou.EXPANSION_CASE_EXP_START))return this.errors.push(Tu.create(null,e.sourceSpan,"Invalid ICU message. Missing '}'.")),null;if(n.pop(),0==n.length)return t}if(this._peek.type===ou.EXPANSION_FORM_END){if(!Au(n,ou.EXPANSION_FORM_START))return this.errors.push(Tu.create(null,e.sourceSpan,"Invalid ICU message. Missing '}'.")),null;n.pop()}if(this._peek.type===ou.EOF)return this.errors.push(Tu.create(null,e.sourceSpan,"Invalid ICU message. Missing '}'.")),null;t.push(this._advance())}}},{key:"_consumeText",value:function(e){var t=e.parts[0];if(t.length>0&&"\n"==t[0]){var n=this._getParentElement();null!=n&&0==n.children.length&&this.getTagDefinition(n.name).ignoreFirstLf&&(t=t.substring(1))}t.length>0&&this._addToParent(new eu(t,e.sourceSpan))}},{key:"_closeVoidElement",value:function(){var e=this._getParentElement();e&&this.getTagDefinition(e.name).isVoid&&this._elementStack.pop()}},{key:"_consumeStartTag",value:function(e){for(var t=Object(h.a)(e.parts,2),n=t[0],r=t[1],i=[];this._peek.type===ou.ATTR_NAME;)i.push(this._consumeAttr(this._advance()));var a=this._getElementFullName(n,r,this._getParentElement()),s=!1;if(this._peek.type===ou.TAG_OPEN_END_VOID){this._advance(),s=!0;var o=this.getTagDefinition(a);o.canSelfClose||null!==w(a)||o.isVoid||this.errors.push(Tu.create(a,e.sourceSpan,'Only void and foreign elements can be self closed "'.concat(e.parts[1],'"')))}else this._peek.type===ou.TAG_OPEN_END&&(this._advance(),s=!1);var u=this._peek.sourceSpan.fullStart,c=new es(e.sourceSpan.start,u,e.sourceSpan.fullStart),l=new es(e.sourceSpan.start,u,e.sourceSpan.fullStart),p=new iu(a,i,[],c,l,void 0);this._pushElement(p),s?this._popElement(a,c):e.type===ou.INCOMPLETE_TAG_OPEN&&(this._popElement(a,null),this.errors.push(Tu.create(a,c,'Opening tag "'.concat(a,'" not terminated.'))))}},{key:"_pushElement",value:function(e){var t=this._getParentElement();t&&this.getTagDefinition(t.name).isClosedByChild(e.name)&&this._elementStack.pop(),this._addToParent(e),this._elementStack.push(e)}},{key:"_consumeEndTag",value:function(e){var t=this._getElementFullName(e.parts[0],e.parts[1],this._getParentElement());if(this.getTagDefinition(t).isVoid)this.errors.push(Tu.create(t,e.sourceSpan,'Void elements do not have end tags "'.concat(e.parts[1],'"')));else if(!this._popElement(t,e.sourceSpan)){var n='Unexpected closing tag "'.concat(t,'". It may happen when the tag has already been closed by another tag. For more info see https://www.w3.org/TR/html5/syntax.html#closing-elements-that-have-implied-end-tags');this.errors.push(Tu.create(t,e.sourceSpan,n))}}},{key:"_popElement",value:function(e,t){for(var n=this._elementStack.length-1;n>=0;n--){var r=this._elementStack[n];if(r.name==e)return r.endSourceSpan=t,r.sourceSpan.end=null!==t?t.end:r.sourceSpan.end,this._elementStack.splice(n,this._elementStack.length-n),!0;if(!this.getTagDefinition(r.name).closedByParent)return!1}return!1}},{key:"_consumeAttr",value:function(e){var t=C(e.parts[0],e.parts[1]),n=e.sourceSpan.end,r="",i=void 0;if(this._peek.type===ou.ATTR_QUOTE&&this._advance(),this._peek.type===ou.ATTR_VALUE){var a=this._advance();r=a.parts[0],n=a.sourceSpan.end,i=a.sourceSpan}this._peek.type===ou.ATTR_QUOTE&&(n=this._advance().sourceSpan.end);var s=new es(e.sourceSpan.start,e.sourceSpan.end);return new ru(t,r,new es(e.sourceSpan.start,n,e.sourceSpan.fullStart),s,i)}},{key:"_getParentElement",value:function(){return this._elementStack.length>0?this._elementStack[this._elementStack.length-1]:null}},{key:"_addToParent",value:function(e){var t=this._getParentElement();null!=t?t.children.push(e):this.rootNodes.push(e)}},{key:"_getElementFullName",value:function(e,t,n){if(""===e&&""===(e=this.getTagDefinition(t).implicitNamespacePrefix||"")&&null!=n){var r=E(n.name)[1];this.getTagDefinition(r).preventNamespaceInheritance||(e=w(n.name))}return C(e,t)}}]),e}();function Au(e,t){return e.length>0&&e[e.length-1]===t}var Pu=function(e){Object(m.a)(n,e);var t=Object(y.a)(n);function n(){return Object(b.a)(this,n),t.call(this,A)}return Object(k.a)(n,[{key:"parse",value:function(e,t,r){return Object(f.a)(Object(d.a)(n.prototype),"parse",this).call(this,e,t,r)}}]),n}(Nu),Iu=new Set(["pre","template","textarea","script","style"]),Ru=new RegExp("[^".concat(" \f\n\r\t\v\u1680\u180e\u2000-\u200a\u2028\u2029\u202f\u205f\u3000\ufeff","]")),Du=new RegExp("[".concat(" \f\n\r\t\v\u1680\u180e\u2000-\u200a\u2028\u2029\u202f\u205f\u3000\ufeff","]{2,}"),"g");function Fu(e){return e.replace(new RegExp(T,"g")," ")}var Lu=function(){function e(){Object(b.a)(this,e)}return Object(k.a)(e,[{key:"visitElement",value:function(e,t){return Iu.has(e.name)||e.attrs.some(function(e){return"ngPreserveWhitespaces"===e.name})?new iu(e.name,su(this,e.attrs),e.children,e.sourceSpan,e.startSourceSpan,e.endSourceSpan,e.i18n):new iu(e.name,e.attrs,(n=this,r=e.children,i=[],r.forEach(function(e,t){var a={prev:r[t-1],next:r[t+1]},s=e.visit(n,a);s&&i.push(s)}),i),e.sourceSpan,e.startSourceSpan,e.endSourceSpan,e.i18n);var n,r,i}},{key:"visitAttribute",value:function(e,t){return"ngPreserveWhitespaces"!==e.name?e:null}},{key:"visitText",value:function(e,t){var n=e.value.match(Ru),r=t&&(t.prev instanceof tu||t.next instanceof tu);return n||r?new eu(Fu(e.value).replace(Du," "),e.sourceSpan,e.i18n):null}},{key:"visitComment",value:function(e,t){return e}},{key:"visitExpansion",value:function(e,t){return e}},{key:"visitExpansionCase",value:function(e,t){return e}}]),e}();var Bu=["zero","one","two","few","many","other"];function Vu(e){var t=new qu;return new Uu(su(t,e),t.isExpanded,t.errors)}var Uu=function e(t,n,r){Object(b.a)(this,e),this.nodes=t,this.expanded=n,this.errors=r},Hu=function(e){Object(m.a)(n,e);var t=Object(y.a)(n);function n(e,r){return Object(b.a)(this,n),t.call(this,e,r)}return n}(ts),qu=function(){function e(){Object(b.a)(this,e),this.isExpanded=!1,this.errors=[]}return Object(k.a)(e,[{key:"visitElement",value:function(e,t){return new iu(e.name,e.attrs,su(this,e.children),e.sourceSpan,e.startSourceSpan,e.endSourceSpan)}},{key:"visitAttribute",value:function(e,t){return e}},{key:"visitText",value:function(e,t){return e}},{key:"visitComment",value:function(e,t){return e}},{key:"visitExpansion",value:function(e,t){return this.isExpanded=!0,"plural"==e.type?(n=e,r=this.errors,i=n.cases.map(function(e){-1!=Bu.indexOf(e.value)||e.value.match(/^=\d+$/)||r.push(new Hu(e.valueSourceSpan,'Plural cases should be "=<number>" or one of '.concat(Bu.join(", "))));var t=Vu(e.expression);return r.push.apply(r,Object(g.a)(t.errors)),new iu("ng-template",[new ru("ngPluralCase","".concat(e.value),e.valueSourceSpan,void 0,void 0,void 0)],t.nodes,e.sourceSpan,e.sourceSpan,e.sourceSpan)}),a=new ru("[ngPlural]",n.switchValue,n.switchValueSourceSpan,void 0,void 0,void 0),new iu("ng-container",[a],i,n.sourceSpan,n.sourceSpan,n.sourceSpan)):function(e,t){var n=e.cases.map(function(e){var n=Vu(e.expression);return t.push.apply(t,Object(g.a)(n.errors)),"other"===e.value?new iu("ng-template",[new ru("ngSwitchDefault","",e.valueSourceSpan,void 0,void 0,void 0)],n.nodes,e.sourceSpan,e.sourceSpan,e.sourceSpan):new iu("ng-template",[new ru("ngSwitchCase","".concat(e.value),e.valueSourceSpan,void 0,void 0,void 0)],n.nodes,e.sourceSpan,e.sourceSpan,e.sourceSpan)}),r=new ru("[ngSwitch]",e.switchValue,e.switchValueSourceSpan,void 0,void 0,void 0);return new iu("ng-container",[r],n,e.sourceSpan,e.sourceSpan,e.sourceSpan)}(e,this.errors);var n,r,i,a}},{key:"visitExpansionCase",value:function(e,t){throw new Error("Should not be reached")}}]),e}();var Wu,zu=function(){function e(t,n,r){Object(b.a)(this,e),this.value=t,this.ngContentIndex=n,this.sourceSpan=r}return Object(k.a)(e,[{key:"visit",value:function(e,t){return e.visitText(this,t)}}]),e}(),Ku=function(){function e(t,n,r){Object(b.a)(this,e),this.value=t,this.ngContentIndex=n,this.sourceSpan=r}return Object(k.a)(e,[{key:"visit",value:function(e,t){return e.visitBoundText(this,t)}}]),e}(),Qu=function(){function e(t,n,r){Object(b.a)(this,e),this.name=t,this.value=n,this.sourceSpan=r}return Object(k.a)(e,[{key:"visit",value:function(e,t){return e.visitAttr(this,t)}}]),e}(),Xu=(r={},Object(o.a)(r,4,4),Object(o.a)(r,1,1),Object(o.a)(r,2,2),Object(o.a)(r,0,0),Object(o.a)(r,3,3),r),Gu=function(){function e(t,n,r,i,a,s){Object(b.a)(this,e),this.name=t,this.type=n,this.securityContext=r,this.value=i,this.unit=a,this.sourceSpan=s,this.isAnimation=4===this.type}return Object(k.a)(e,[{key:"visit",value:function(e,t){return e.visitElementProperty(this,t)}}],[{key:"fromBoundProperty",value:function(t){var n=Xu[t.type];return new e(t.name,n,t.securityContext,t.value,t.unit,t.sourceSpan)}}]),e}(),$u=function(){function e(t,n,r,i,a,s){Object(b.a)(this,e),this.name=t,this.target=n,this.phase=r,this.handler=i,this.sourceSpan=a,this.handlerSpan=s,this.fullName=e.calcFullName(this.name,this.target,this.phase),this.isAnimation=!!this.phase}return Object(k.a)(e,[{key:"visit",value:function(e,t){return e.visitEvent(this,t)}}],[{key:"calcFullName",value:function(e,t,n){return t?"".concat(t,":").concat(e):n?"@".concat(e,".").concat(n):e}},{key:"fromParsedEvent",value:function(t){var n=0===t.type?t.targetOrPhase:null,r=1===t.type?t.targetOrPhase:null;return new e(t.name,n,r,t.handler,t.sourceSpan,t.handlerSpan)}}]),e}(),Yu=function(){function e(t,n,r,i){Object(b.a)(this,e),this.name=t,this.value=n,this.originalValue=r,this.sourceSpan=i}return Object(k.a)(e,[{key:"visit",value:function(e,t){return e.visitReference(this,t)}}]),e}(),Ju=function(){function e(t,n,r,i){Object(b.a)(this,e),this.name=t,this.value=n,this.sourceSpan=r,this.valueSpan=i}return Object(k.a)(e,[{key:"visit",value:function(e,t){return e.visitVariable(this,t)}}],[{key:"fromParsedVariable",value:function(t){return new e(t.name,t.value,t.sourceSpan,t.valueSpan)}}]),e}(),Zu=function(){function e(t,n,r,i,a,s,o,u,c,l,h,p,v){Object(b.a)(this,e),this.name=t,this.attrs=n,this.inputs=r,this.outputs=i,this.references=a,this.directives=s,this.providers=o,this.hasViewContainer=u,this.queryMatches=c,this.children=l,this.ngContentIndex=h,this.sourceSpan=p,this.endSourceSpan=v}return Object(k.a)(e,[{key:"visit",value:function(e,t){return e.visitElement(this,t)}}]),e}(),ec=function(){function e(t,n,r,i,a,s,o,u,c,l,h){Object(b.a)(this,e),this.attrs=t,this.outputs=n,this.references=r,this.variables=i,this.directives=a,this.providers=s,this.hasViewContainer=o,this.queryMatches=u,this.children=c,this.ngContentIndex=l,this.sourceSpan=h}return Object(k.a)(e,[{key:"visit",value:function(e,t){return e.visitEmbeddedTemplate(this,t)}}]),e}(),tc=function(){function e(t,n,r,i){Object(b.a)(this,e),this.directiveName=t,this.templateName=n,this.value=r,this.sourceSpan=i}return Object(k.a)(e,[{key:"visit",value:function(e,t){return e.visitDirectiveProperty(this,t)}}]),e}(),nc=function(){function e(t,n,r,i,a,s){Object(b.a)(this,e),this.directive=t,this.inputs=n,this.hostProperties=r,this.hostEvents=i,this.contentQueryStartId=a,this.sourceSpan=s}return Object(k.a)(e,[{key:"visit",value:function(e,t){return e.visitDirective(this,t)}}]),e}(),rc=function(){function e(t,n,r,i,a,s,o,u){Object(b.a)(this,e),this.token=t,this.multiProvider=n,this.eager=r,this.providers=i,this.providerType=a,this.lifecycleHooks=s,this.sourceSpan=o,this.isModule=u}return Object(k.a)(e,[{key:"visit",value:function(e,t){return null}}]),e}();!function(e){e[e.PublicService=0]="PublicService",e[e.PrivateService=1]="PrivateService",e[e.Component=2]="Component",e[e.Directive=3]="Directive",e[e.Builtin=4]="Builtin"}(Wu||(Wu={}));var ic=function(){function e(t,n,r){Object(b.a)(this,e),this.index=t,this.ngContentIndex=n,this.sourceSpan=r}return Object(k.a)(e,[{key:"visit",value:function(e,t){return e.visitNgContent(this,t)}}]),e}(),ac=function(){function e(){Object(b.a)(this,e)}return Object(k.a)(e,[{key:"visitNgContent",value:function(e,t){}},{key:"visitEmbeddedTemplate",value:function(e,t){}},{key:"visitElement",value:function(e,t){}},{key:"visitReference",value:function(e,t){}},{key:"visitVariable",value:function(e,t){}},{key:"visitEvent",value:function(e,t){}},{key:"visitElementProperty",value:function(e,t){}},{key:"visitAttr",value:function(e,t){}},{key:"visitBoundText",value:function(e,t){}},{key:"visitText",value:function(e,t){}},{key:"visitDirective",value:function(e,t){}},{key:"visitDirectiveProperty",value:function(e,t){}}]),e}(),sc=function(e){Object(m.a)(n,e);var t=Object(y.a)(n);function n(){return Object(b.a)(this,n),t.call(this)}return Object(k.a)(n,[{key:"visitEmbeddedTemplate",value:function(e,t){return this.visitChildren(t,function(t){t(e.attrs),t(e.references),t(e.variables),t(e.directives),t(e.providers),t(e.children)})}},{key:"visitElement",value:function(e,t){return this.visitChildren(t,function(t){t(e.attrs),t(e.inputs),t(e.outputs),t(e.references),t(e.directives),t(e.providers),t(e.children)})}},{key:"visitDirective",value:function(e,t){return this.visitChildren(t,function(t){t(e.inputs),t(e.hostProperties),t(e.hostEvents)})}},{key:"visitChildren",value:function(e,t){var n=[],r=this;return t(function(t){t&&t.length&&n.push(oc(r,t,e))}),Array.prototype.concat.apply([],n)}}]),n}(ac);function oc(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=[],i=e.visit?function(t){return e.visit(t,n)||t.visit(e,n)}:function(t){return t.visit(e,n)};return t.forEach(function(e){var t=i(e);t&&r.push(t)}),r}var uc=function(e){Object(m.a)(n,e);var t=Object(y.a)(n);function n(e,r){return Object(b.a)(this,n),t.call(this,r,e)}return n}(ts),cc=function e(t,n){var r=this;Object(b.a)(this,e),this.reflector=t,this.component=n,this.errors=[],this.viewQueries=function(e){var t=1,n=new Map;e.viewQueries&&e.viewQueries.forEach(function(e){return dc(n,{meta:e,queryId:t++})});return n}(n),this.viewProviders=new Map,n.viewProviders.forEach(function(e){null==r.viewProviders.get(ar(e.token))&&r.viewProviders.set(ar(e.token),!0)})},lc=function(){function e(t,n,r,i,a,s,o,u,c){var l=this;Object(b.a)(this,e),this.viewContext=t,this._parent=n,this._isViewRoot=r,this._directiveAsts=i,this._sourceSpan=c,this._transformedProviders=new Map,this._seenProviders=new Map,this._queriedTokens=new Map,this.transformedHasViewContainer=!1,this._attrs={},a.forEach(function(e){return l._attrs[e.name]=e.value});var h,p,v,f,d=i.map(function(e){return e.directive});if(this._allProviders=(h=d,p=c,v=t.errors,f=new Map,h.forEach(function(e){fc([{token:{identifier:e.type},useClass:e.type}],e.isComponent?Wu.Component:Wu.Directive,!0,p,v,f,!1)}),h.filter(function(e){return e.isComponent}).concat(h.filter(function(e){return!e.isComponent})).forEach(function(e){fc(e.providers,Wu.PublicService,!1,p,v,f,!1),fc(e.viewProviders,Wu.PrivateService,!1,p,v,f,!1)}),f),this._contentQueries=function(e,t){var n=e,r=new Map;return t.forEach(function(e,t){e.queries&&e.queries.forEach(function(e){return dc(r,{meta:e,queryId:n++})})}),r}(u,d),Array.from(this._allProviders.values()).forEach(function(e){l._addQueryReadsTo(e.token,e.token,l._queriedTokens)}),o){var m=bn(this.viewContext.reflector,yn.TemplateRef);this._addQueryReadsTo(m,m,this._queriedTokens)}s.forEach(function(e){var t=e.value||bn(l.viewContext.reflector,yn.ElementRef);l._addQueryReadsTo({value:e.name},t,l._queriedTokens)}),this._queriedTokens.get(this.viewContext.reflector.resolveExternalReference(yn.ViewContainerRef))&&(this.transformedHasViewContainer=!0),Array.from(this._allProviders.values()).forEach(function(e){(e.eager||l._queriedTokens.get(ar(e.token)))&&l._getOrCreateLocalProvider(e.providerType,e.token,!0)})}return Object(k.a)(e,[{key:"afterElement",value:function(){var e=this;Array.from(this._allProviders.values()).forEach(function(t){e._getOrCreateLocalProvider(t.providerType,t.token,!1)})}},{key:"transformProviders",get:function(){var e=[],t=[];return this._transformedProviders.forEach(function(n){n.eager?t.push(n):e.push(n)}),e.concat(t)}},{key:"transformedDirectiveAsts",get:function(){var e=this.transformProviders.map(function(e){return e.token.identifier}),t=this._directiveAsts.slice();return t.sort(function(t,n){return e.indexOf(t.directive.type)-e.indexOf(n.directive.type)}),t}},{key:"queryMatches",get:function(){var e=[];return this._queriedTokens.forEach(function(t){e.push.apply(e,Object(g.a)(t))}),e}},{key:"_addQueryReadsTo",value:function(e,t,n){this._getQueriesFor(e).forEach(function(e){var r=e.meta.read||t,i=ar(r),a=n.get(i);a||(a=[],n.set(i,a)),a.push({queryId:e.queryId,value:r})})}},{key:"_getQueriesFor",value:function(e){for(var t,n=[],r=this,i=0;null!==r;)(t=r._contentQueries.get(ar(e)))&&n.push.apply(n,Object(g.a)(t.filter(function(e){return e.meta.descendants||i<=1}))),r._directiveAsts.length>0&&i++,r=r._parent;return(t=this.viewContext.viewQueries.get(ar(e)))&&n.push.apply(n,Object(g.a)(t)),n}},{key:"_getOrCreateLocalProvider",value:function(e,t,n){var r=this,i=this._allProviders.get(ar(t));if(!i||(e===Wu.Directive||e===Wu.PublicService)&&i.providerType===Wu.PrivateService||(e===Wu.PrivateService||e===Wu.PublicService)&&i.providerType===Wu.Builtin)return null;var a=this._transformedProviders.get(ar(t));if(a)return a;if(null!=this._seenProviders.get(ar(t)))return this.viewContext.errors.push(new uc("Cannot instantiate cyclic dependency! ".concat(ir(t)),this._sourceSpan)),null;this._seenProviders.set(ar(t),!0);var s=i.providers.map(function(e){var t=e.useValue,a=e.useExisting,s=void 0;if(null!=e.useExisting){var o=r._getDependency(i.providerType,{token:e.useExisting},n);null!=o.token?a=o.token:(a=null,t=o.value)}else if(e.useFactory){s=(e.deps||e.useFactory.diDeps).map(function(e){return r._getDependency(i.providerType,e,n)})}else if(e.useClass){s=(e.deps||e.useClass.diDeps).map(function(e){return r._getDependency(i.providerType,e,n)})}return pc(e,{useExisting:a,useValue:t,deps:s})});return a=vc(i,{eager:n,providers:s}),this._transformedProviders.set(ar(t),a),a}},{key:"_getLocalDependency",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(t.isAttribute){var r=this._attrs[t.token.value];return{isValue:!0,value:null==r?null:r}}if(null!=t.token){if(e===Wu.Directive||e===Wu.Component){if(ar(t.token)===this.viewContext.reflector.resolveExternalReference(yn.Renderer)||ar(t.token)===this.viewContext.reflector.resolveExternalReference(yn.ElementRef)||ar(t.token)===this.viewContext.reflector.resolveExternalReference(yn.ChangeDetectorRef)||ar(t.token)===this.viewContext.reflector.resolveExternalReference(yn.TemplateRef))return t;ar(t.token)===this.viewContext.reflector.resolveExternalReference(yn.ViewContainerRef)&&(this.transformedHasViewContainer=!0)}if(ar(t.token)===this.viewContext.reflector.resolveExternalReference(yn.Injector))return t;if(null!=this._getOrCreateLocalProvider(e,t.token,n))return t}return null}},{key:"_getDependency",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=this,i=n,a=null;if(t.isSkipSelf||(a=this._getLocalDependency(e,t,n)),t.isSelf)!a&&t.isOptional&&(a={isValue:!0,value:null});else{for(;!a&&r._parent;){var s=r;r=r._parent,s._isViewRoot&&(i=!1),a=r._getLocalDependency(Wu.PublicService,t,i)}a||(a=!t.isHost||this.viewContext.component.isHost||this.viewContext.component.type.reference===ar(t.token)||null!=this.viewContext.viewProviders.get(ar(t.token))?t:t.isOptional?{isValue:!0,value:null}:null)}return a||this.viewContext.errors.push(new uc("No provider for ".concat(ir(t.token)),this._sourceSpan)),a}}]),e}(),hc=function(){function e(t,n,r,i){var a=this;Object(b.a)(this,e),this.reflector=t,this._transformedProviders=new Map,this._seenProviders=new Map,this._errors=[],this._allProviders=new Map,n.transitiveModule.modules.forEach(function(e){fc([{token:{identifier:e},useClass:e}],Wu.PublicService,!0,i,a._errors,a._allProviders,!0)}),fc(n.transitiveModule.providers.map(function(e){return e.provider}).concat(r),Wu.PublicService,!1,i,this._errors,this._allProviders,!1)}return Object(k.a)(e,[{key:"parse",value:function(){var e=this;if(Array.from(this._allProviders.values()).forEach(function(t){e._getOrCreateLocalProvider(t.token,t.eager)}),this._errors.length>0){var t=this._errors.join("\n");throw new Error("Provider parse errors:\n".concat(t))}var n=[],r=[];return this._transformedProviders.forEach(function(e){e.eager?r.push(e):n.push(e)}),n.concat(r)}},{key:"_getOrCreateLocalProvider",value:function(e,t){var n=this,r=this._allProviders.get(ar(e));if(!r)return null;var i=this._transformedProviders.get(ar(e));if(i)return i;if(null!=this._seenProviders.get(ar(e)))return this._errors.push(new uc("Cannot instantiate cyclic dependency! ".concat(ir(e)),r.sourceSpan)),null;this._seenProviders.set(ar(e),!0);var a=r.providers.map(function(e){var i=e.useValue,a=e.useExisting,s=void 0;if(null!=e.useExisting){var o=n._getDependency({token:e.useExisting},t,r.sourceSpan);null!=o.token?a=o.token:(a=null,i=o.value)}else if(e.useFactory){s=(e.deps||e.useFactory.diDeps).map(function(e){return n._getDependency(e,t,r.sourceSpan)})}else if(e.useClass){s=(e.deps||e.useClass.diDeps).map(function(e){return n._getDependency(e,t,r.sourceSpan)})}return pc(e,{useExisting:a,useValue:i,deps:s})});return i=vc(r,{eager:t,providers:a}),this._transformedProviders.set(ar(e),i),i}},{key:"_getDependency",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];arguments.length>2&&arguments[2];return e.isSkipSelf||null==e.token||(ar(e.token)===this.reflector.resolveExternalReference(yn.Injector)||ar(e.token)===this.reflector.resolveExternalReference(yn.ComponentFactoryResolver)||null!=this._getOrCreateLocalProvider(e.token,t))&&!0,e}}]),e}();function pc(e,t){var n=t.useExisting,r=t.useValue,i=t.deps;return{token:e.token,useClass:e.useClass,useExisting:n,useFactory:e.useFactory,useValue:r,deps:i,multi:e.multi}}function vc(e,t){var n=t.eager,r=t.providers;return new rc(e.token,e.multiProvider,e.eager||n,r,e.providerType,e.lifecycleHooks,e.sourceSpan,e.isModule)}function fc(e,t,n,r,i,a,s){e.forEach(function(e){var o=a.get(ar(e.token));if(null!=o&&!!o.multiProvider!=!!e.multi&&i.push(new uc("Mixing multi and non multi provider is not possible for token ".concat(ir(o.token)),r)),o)e.multi||(o.providers.length=0),o.providers.push(e);else{var u=e.token.identifier&&e.token.identifier.lifecycleHooks?e.token.identifier.lifecycleHooks:[],c=!(e.useClass||e.useExisting||e.useFactory);o=new rc(e.token,!!e.multi,n||c,[e],t,u,r,s),a.set(ar(e.token),o)}})}function dc(e,t){t.meta.selectors.forEach(function(n){var r=e.get(ar(n));r||(r=[],e.set(ar(n),r)),r.push(t)})}var mc=function e(t,n){Object(b.a)(this,e),this.style=t,this.styleUrls=n};function yc(e){if(null==e||0===e.length||"/"==e[0])return!1;var t=e.match(kc);return null===t||"package"==t[1]||"asset"==t[1]}var gc=/@import\s+(?:url\()?\s*(?:(?:['"]([^'"]*))|([^;\)\s]*))[^;]*;?/g,bc=/\/\*(?!#\s*(?:sourceURL|sourceMappingURL)=)[\s\S]+?\*\//g,kc=/^([^:/?#]+):/,Ec=function(){function e(t,n,r,i,a){if(Object(b.a)(this,e),this._exprParser=t,this._interpolationConfig=n,this._schemaRegistry=r,this.errors=a,this.pipesByName=null,this._usedPipes=new Map,i){var s=new Map;i.forEach(function(e){return s.set(e.name,e)}),this.pipesByName=s}}return Object(k.a)(e,[{key:"interpolationConfig",get:function(){return this._interpolationConfig}},{key:"getUsedPipes",value:function(){return Array.from(this._usedPipes.values())}},{key:"createBoundHostProperties",value:function(e,t){var n=this;if(e.hostProperties){var r=[];return Object.keys(e.hostProperties).forEach(function(i){var a=e.hostProperties[i];"string"==typeof a?n.parsePropertyBinding(i,a,!0,t,t.start.offset,void 0,[],r,t):n._reportError('Value of the host property binding "'.concat(i,'" needs to be a string representing an expression but got "').concat(a,'" (').concat(typeof a,")"),t)}),r}return null}},{key:"createDirectiveHostPropertyAsts",value:function(e,t,n){var r=this,i=this.createBoundHostProperties(e,n);return i&&i.map(function(e){return r.createBoundElementProperty(t,e)})}},{key:"createDirectiveHostEventAsts",value:function(e,t){var n=this;if(e.hostListeners){var r=[];return Object.keys(e.hostListeners).forEach(function(i){var a=e.hostListeners[i];"string"==typeof a?n.parseEvent(i,a,t,t,[],r,t):n._reportError('Value of the host listener "'.concat(i,'" needs to be a string representing an expression but got "').concat(a,'" (').concat(typeof a,")"),t)}),r}return null}},{key:"parseInterpolation",value:function(e,t){var n=t.start.toString(),r=t.fullStart.offset;try{var i=this._exprParser.parseInterpolation(e,n,r,this._interpolationConfig);return i&&this._reportExpressionParserErrors(i.errors,t),this._checkPipes(i,t),i}catch(a){return this._reportError("".concat(a),t),this._exprParser.wrapLiteralPrimitive("ERROR",n,r)}}},{key:"parseInterpolationExpression",value:function(e,t){var n=t.start.toString(),r=t.start.offset;try{var i=this._exprParser.parseInterpolationExpression(e,n,r);return i&&this._reportExpressionParserErrors(i.errors,t),this._checkPipes(i,t),i}catch(a){return this._reportError("".concat(a),t),this._exprParser.wrapLiteralPrimitive("ERROR",n,r)}}},{key:"parseInlineTemplateBinding",value:function(e,t,n,r,i,a,s,o){var u,c=n.start.offset+"*".length,l=this._parseTemplateBindings(e,t,n,c,r),h=Object(v.a)(l);try{for(h.s();!(u=h.n()).done;){var p=u.value,f=wc(n,p.sourceSpan),d=p.key.source,m=wc(n,p.key.span);if(p instanceof Us){var y=p.value?p.value.source:"$implicit",g=p.value?wc(n,p.value.span):void 0;s.push(new Xs(d,y,f,m,g))}else if(p.value){var b=o?f:n,k=wc(n,p.value.ast.sourceSpan);this._parsePropertyAst(d,p.value,b,m,k,i,a)}else i.push([d,""]),this.parseLiteralAttr(d,null,m,r,void 0,i,a,m)}}catch(E){h.e(E)}finally{h.f()}}},{key:"_parseTemplateBindings",value:function(e,t,n,r,i){var a=this,s=n.start.toString();try{var o=this._exprParser.parseTemplateBindings(e,t,s,r,i);return this._reportExpressionParserErrors(o.errors,n),o.templateBindings.forEach(function(e){e.value instanceof Vs&&a._checkPipes(e.value,n)}),o.warnings.forEach(function(e){a._reportError(e,n,Ya.WARNING)}),o.templateBindings}catch(u){return this._reportError("".concat(u),n),[]}}},{key:"parseLiteralAttr",value:function(e,t,n,r,i,a,s,o){Sc(e)?(e=e.substring(1),void 0!==o&&(o=wc(o,new Bs(o.start.offset+1,o.end.offset))),t&&this._reportError('Assigning animation triggers via @prop="exp" attributes with an expression is invalid. Use property bindings (e.g. [@prop]="exp") or use an attribute without a value (e.g. @prop) instead.',n,Ya.ERROR),this._parseAnimation(e,t,n,r,o,i,a,s)):s.push(new Ks(e,this._exprParser.wrapLiteralPrimitive(t,"",r),hs.LITERAL_ATTR,n,o,i))}},{key:"parsePropertyBinding",value:function(e,t,n,r,i,a,s,o,u){0===e.length&&this._reportError("Property name is missing in binding",r);var c=!1;e.startsWith("animate-")?(c=!0,e=e.substring("animate-".length),void 0!==u&&(u=wc(u,new Bs(u.start.offset+"animate-".length,u.end.offset)))):Sc(e)&&(c=!0,e=e.substring(1),void 0!==u&&(u=wc(u,new Bs(u.start.offset+1,u.end.offset)))),c?this._parseAnimation(e,t,r,i,u,a,s,o):this._parsePropertyAst(e,this._parseBinding(t,n,a||r,i),r,u,a,s,o)}},{key:"parsePropertyInterpolation",value:function(e,t,n,r,i,a,s){var o=this.parseInterpolation(t,r||n);return!!o&&(this._parsePropertyAst(e,o,n,s,r,i,a),!0)}},{key:"_parsePropertyAst",value:function(e,t,n,r,i,a,s){a.push([e,t.source]),s.push(new Ks(e,t,hs.DEFAULT,n,r,i))}},{key:"_parseAnimation",value:function(e,t,n,r,i,a,s,o){0===e.length&&this._reportError("Animation trigger is missing",n);var u=this._parseBinding(t||"undefined",!1,a||n,r);s.push([e,u.source]),o.push(new Ks(e,u,hs.ANIMATION,n,i,a))}},{key:"_parseBinding",value:function(e,t,n,r){var i=(n&&n.start||"(unknown)").toString();try{var a=t?this._exprParser.parseSimpleBinding(e,i,r,this._interpolationConfig):this._exprParser.parseBinding(e,i,r,this._interpolationConfig);return a&&this._reportExpressionParserErrors(a.errors,n),this._checkPipes(a,n),a}catch(s){return this._reportError("".concat(s),n),this._exprParser.wrapLiteralPrimitive("ERROR",i,r)}}},{key:"createBoundElementProperty",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];if(t.isAnimation)return new Gs(t.name,4,X.NONE,t.expression,null,t.sourceSpan,t.keySpan,t.valueSpan);var i=null,a=void 0,s=null,o=t.name.split("."),u=void 0;if(o.length>1)if("attr"==o[0]){s=o.slice(1).join("."),n||this._validatePropertyOrAttributeName(s,t.sourceSpan,!0),u=xc(this._schemaRegistry,e,s,!0);var c=s.indexOf(":");if(c>-1){var l=s.substring(0,c),h=s.substring(c+1);s=C(l,h)}a=1}else"class"==o[0]?(s=o[1],a=2,u=[X.NONE]):"style"==o[0]&&(i=o.length>2?o[2]:null,s=o[1],a=3,u=[X.STYLE]);if(null===s){var p=this._schemaRegistry.getMappedPropName(t.name);s=r?p:t.name,u=xc(this._schemaRegistry,e,p,!1),a=0,n||this._validatePropertyOrAttributeName(p,t.sourceSpan,!1)}return new Gs(s,a,u[0],t.expression,i,t.sourceSpan,t.keySpan,t.valueSpan)}},{key:"parseEvent",value:function(e,t,n,r,i,a,s){0===e.length&&this._reportError("Event name is missing in binding",n),Sc(e)?(e=e.substr(1),void 0!==s&&(s=wc(s,new Bs(s.start.offset+1,s.end.offset))),this._parseAnimationEvent(e,t,n,r,a,s)):this._parseRegularEvent(e,t,n,r,i,a,s)}},{key:"calcPossibleSecurityContexts",value:function(e,t,n){var r=this._schemaRegistry.getMappedPropName(t);return xc(this._schemaRegistry,e,r,n)}},{key:"_parseAnimationEvent",value:function(e,t,n,r,i,a){var s=xn(e,".",[e,""]),o=s[0],u=s[1].toLowerCase(),c=this._parseAction(t,r);i.push(new Qs(o,u,1,c,n,r,a)),0===o.length&&this._reportError("Animation event name is missing in binding",n),u?"start"!==u&&"done"!==u&&this._reportError('The provided animation output phase value "'.concat(u,'" for "@').concat(o,'" is not supported (use start or done)'),n):this._reportError("The animation trigger output event (@".concat(o,") is missing its phase value name (start or done are currently supported)"),n)}},{key:"_parseRegularEvent",value:function(e,t,n,r,i,a,s){var o=Sn(e,[null,e]),u=Object(h.a)(o,2),c=u[0],l=u[1],p=this._parseAction(t,r);i.push([e,p.source]),a.push(new Qs(l,c,0,p,n,r,s))}},{key:"_parseAction",value:function(e,t){var n=(t&&t.start||"(unknown").toString(),r=t&&t.start?t.start.offset:0;try{var i=this._exprParser.parseAction(e,n,r,this._interpolationConfig);return i&&this._reportExpressionParserErrors(i.errors,t),!i||i.ast instanceof ys?(this._reportError("Empty expressions are not allowed",t),this._exprParser.wrapLiteralPrimitive("ERROR",n,r)):(this._checkPipes(i,t),i)}catch(a){return this._reportError("".concat(a),t),this._exprParser.wrapLiteralPrimitive("ERROR",n,r)}}},{key:"_reportError",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Ya.ERROR;this.errors.push(new ts(t,e,n))}},{key:"_reportExpressionParserErrors",value:function(e,t){var n,r=Object(v.a)(e);try{for(r.s();!(n=r.n()).done;){var i=n.value;this._reportError(i.message,t)}}catch(a){r.e(a)}finally{r.f()}}},{key:"_checkPipes",value:function(e,t){var n=this;if(e&&this.pipesByName){var r=new _c;e.visit(r),r.pipes.forEach(function(e,r){var i=n.pipesByName.get(r);i?n._usedPipes.set(r,i):n._reportError("The pipe '".concat(r,"' could not be found"),new es(t.start.moveBy(e.span.start),t.start.moveBy(e.span.end)))})}}},{key:"_validatePropertyOrAttributeName",value:function(e,t,n){var r=n?this._schemaRegistry.validateAttribute(e):this._schemaRegistry.validateProperty(e);r.error&&this._reportError(r.msg,t,Ya.ERROR)}}]),e}(),_c=function(e){Object(m.a)(n,e);var t=Object(y.a)(n);function n(){var e;return Object(b.a)(this,n),(e=t.apply(this,arguments)).pipes=new Map,e}return Object(k.a)(n,[{key:"visitPipe",value:function(e,t){return this.pipes.set(e.name,e),e.exp.visit(this),this.visitAll(e.args,t),null}}]),n}(qs);function Sc(e){return"@"==e[0]}function xc(e,t,n,r){var i=[];return D.parse(t).forEach(function(t){var a=t.element?[t.element]:e.allKnownElementNames(),s=new Set(t.notSelectors.filter(function(e){return e.isElementSelector()}).map(function(e){return e.element})),o=a.filter(function(e){return!s.has(e)});i.push.apply(i,Object(g.a)(o.map(function(t){return e.securityContext(t,n,r)})))}),0===i.length?[X.NONE]:Array.from(new Set(i)).sort()}function wc(e,t){var n=t.start-e.start.offset,r=t.end-e.end.offset;return new es(e.start.moveBy(n),e.end.moveBy(r),e.fullStart.moveBy(n),e.details)}var Cc;function Oc(e){var t=null,n=null,r=null,i=!1,a="";e.attrs.forEach(function(e){var s=e.name.toLowerCase();"select"==s?t=e.value:"href"==s?n=e.value:"rel"==s?r=e.value:"ngNonBindable"==e.name?i=!0:"ngProjectAs"==e.name&&e.value.length>0&&(a=e.value)}),t=function(e){if(null===e||0===e.length)return"*";return e}(t);var s=e.name.toLowerCase(),o=Cc.OTHER;return S(s)?o=Cc.NG_CONTENT:"style"==s?o=Cc.STYLE:"script"==s?o=Cc.SCRIPT:"link"==s&&"stylesheet"==r&&(o=Cc.STYLESHEET),new Tc(o,t,n,i,a)}!function(e){e[e.NG_CONTENT=0]="NG_CONTENT",e[e.STYLE=1]="STYLE",e[e.STYLESHEET=2]="STYLESHEET",e[e.SCRIPT=3]="SCRIPT",e[e.OTHER=4]="OTHER"}(Cc||(Cc={}));var Tc=function e(t,n,r,i,a){Object(b.a)(this,e),this.type=t,this.selectAttr=n,this.hrefAttr=r,this.nonBindable=i,this.projectAs=a};var jc,Nc=/^(?:(?:(?:(bind-)|(let-)|(ref-|#)|(on-)|(bindon-)|(@))(.*))|\[\(([^\)]+)\)\]|\[([^\]]+)\]|\(([^\)]+)\))$/;function Mc(){return jc||(jc=D.parse("*")[0]),jc}var Ac=function(e){Object(m.a)(n,e);var t=Object(y.a)(n);function n(e,r,i){return Object(b.a)(this,n),t.call(this,r,e,i)}return n}(ts),Pc=function e(t,n,r){Object(b.a)(this,e),this.templateAst=t,this.usedPipes=n,this.errors=r},Ic=function(){function e(t,n,r,i,a,s,o){Object(b.a)(this,e),this._config=t,this._reflector=n,this._exprParser=r,this._schemaRegistry=i,this._htmlParser=a,this._console=s,this.transforms=o}return Object(k.a)(e,[{key:"expressionParser",get:function(){return this._exprParser}},{key:"parse",value:function(e,t,n,r,i,a,s){var o,u=this.tryParse(e,t,n,r,i,a,s),c=u.errors.filter(function(e){return e.level===Ya.WARNING}),l=u.errors.filter(function(e){return e.level===Ya.ERROR});if(c.length>0&&(null===(o=this._console)||void 0===o?void 0:o.warn("Template parse warnings:\n".concat(c.join("\n")))),l.length>0){var h=l.join("\n");throw Pn("Template parse errors:\n".concat(h),l)}return{template:u.templateAst,pipes:u.usedPipes}}},{key:"tryParse",value:function(e,t,n,r,i,a,s){var o,u="string"==typeof t?this._htmlParser.parse(t,a,{tokenizeExpansionForms:!0,interpolationConfig:this.getInterpolationConfig(e)}):t;return s||(o=u,u=new ju(su(new Lu,o.rootNodes),o.errors)),this.tryParseHtml(this.expandHtml(u),e,n,r,i)}},{key:"tryParseHtml",value:function(e,t,n,r,i){var a,s=e.errors,o=[];if(e.rootNodes.length>0){var u=Wc(n),c=Wc(r),l=new cc(this._reflector,t),h=void 0;t.template&&t.template.interpolation&&(h={start:t.template.interpolation[0],end:t.template.interpolation[1]});var p=new Ec(this._exprParser,h,this._schemaRegistry,c,s),v=new Rc(this._reflector,this._config,l,u,p,this._schemaRegistry,i,s);a=su(v,e.rootNodes,Uc),s.push.apply(s,Object(g.a)(l.errors)),o.push.apply(o,Object(g.a)(p.getUsedPipes()))}else a=[];return this._assertNoReferenceDuplicationOnTemplate(a,s),s.length>0||this.transforms&&this.transforms.forEach(function(e){a=oc(e,a)}),new Pc(a,o,s)}},{key:"expandHtml",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=e.errors;if(0==n.length||t){var r=Vu(e.rootNodes);n.push.apply(n,Object(g.a)(r.errors)),e=new ju(r.nodes,n)}return e}},{key:"getInterpolationConfig",value:function(e){if(e.template)return La.fromArray(e.template.interpolation)}},{key:"_assertNoReferenceDuplicationOnTemplate",value:function(e,t){var n=[];e.filter(function(e){return!!e.references}).forEach(function(e){return e.references.forEach(function(e){var r=e.name;if(n.indexOf(r)<0)n.push(r);else{var i=new Ac('Reference "#'.concat(r,'" is defined several times'),e.sourceSpan,Ya.ERROR);t.push(i)}})})}}]),e}(),Rc=function(){function e(t,n,r,i,a,s,o,u){var c=this;Object(b.a)(this,e),this.reflector=t,this.config=n,this.providerViewContext=r,this._bindingParser=a,this._schemaRegistry=s,this._schemas=o,this._targetErrors=u,this.selectorMatcher=new F,this.directivesIndex=new Map,this.ngContentCount=0,this.contentQueryStartId=r.component.viewQueries.length+1,i.forEach(function(e,t){var n=D.parse(e.selector);c.selectorMatcher.addSelectables(n,e),c.directivesIndex.set(e,t)})}return Object(k.a)(e,[{key:"visitExpansion",value:function(e,t){return null}},{key:"visitExpansionCase",value:function(e,t){return null}},{key:"visitText",value:function(e,t){var n=t.findNgContentIndex(Mc()),r=Fu(e.value),i=this._bindingParser.parseInterpolation(r,e.sourceSpan);return i?new Ku(i,n,e.sourceSpan):new zu(r,n,e.sourceSpan)}},{key:"visitAttribute",value:function(e,t){return new Qu(e.name,e.value,e.sourceSpan)}},{key:"visitComment",value:function(e,t){return null}},{key:"visitElement",value:function(e,t){var n=this,r=this.contentQueryStartId,i=e.name,a=Oc(e);if(a.type===Cc.SCRIPT||a.type===Cc.STYLE)return null;if(a.type===Cc.STYLESHEET&&yc(a.hrefAttr))return null;var s=[],o=[],u=[],c=[],l=[],h=[],p=[],v=[],f=!1,d=[],m=x(e.name);e.attrs.forEach(function(e){var t,r,i=n._parseAttr(m,e,s,o,l,u,c);c.push.apply(c,Object(g.a)([].map(function(e){return Ju.fromParsedVariable(e)})));var a=n._normalizeAttributeName(e.name);a.startsWith("*")&&(t=e.value,r=a.substring("*".length));var y=null!=t;if(y){f&&n._reportError("Can't have multiple template bindings on one element. Use only one attribute prefixed with *",e.sourceSpan),f=!0;var b=[],k=(e.valueSpan||e.sourceSpan).start.offset;n._bindingParser.parseInlineTemplateBinding(r,t,e.sourceSpan,k,p,h,b,!1),v.push.apply(v,Object(g.a)(b.map(function(e){return Ju.fromParsedVariable(e)})))}i||y||(d.push(n.visitAttribute(e,null)),s.push([e.name,e.value]))});var y=Vc(i,s),b=this._parseDirectives(this.selectorMatcher,y),k=b.directives,E=b.matchElement,_=[],S=new Set,w=this._createDirectiveAsts(m,e.name,k,o,u,e.sourceSpan,_,S),C=this._createElementPropertyAsts(e.name,o,S),O=t.isTemplateElement||f,T=new lc(this.providerViewContext,t.providerContext,O,w,d,_,m,r,e.sourceSpan),j=su(a.nonBindable?Hc:this,e.children,Bc.create(m,w,m?t.providerContext:T));T.afterElement();var N,M=""!=a.projectAs?D.parse(a.projectAs)[0]:y,A=t.findNgContentIndex(M);if(a.type===Cc.NG_CONTENT)e.children&&!e.children.every(qc)&&this._reportError("<ng-content> element cannot have content.",e.sourceSpan),N=new ic(this.ngContentCount++,f?null:A,e.sourceSpan);else if(m)this._assertAllEventsPublishedByDirectives(w,l),this._assertNoComponentsNorElementBindingsOnTemplate(w,C,e.sourceSpan),N=new ec(d,l,_,c,T.transformedDirectiveAsts,T.transformProviders,T.transformedHasViewContainer,T.queryMatches,j,f?null:A,e.sourceSpan);else{this._assertElementExists(E,e),this._assertOnlyOneComponent(w,e.sourceSpan);var P=f?null:t.findNgContentIndex(M);N=new Zu(i,d,C,l,_,T.transformedDirectiveAsts,T.transformProviders,T.transformedHasViewContainer,T.queryMatches,j,f?null:P,e.sourceSpan,e.endSourceSpan||null)}if(f){var I=this.contentQueryStartId,R=Vc("ng-template",p),F=this._parseDirectives(this.selectorMatcher,R).directives,L=new Set,B=this._createDirectiveAsts(!0,i,F,h,[],e.sourceSpan,[],L),V=this._createElementPropertyAsts(i,h,L);this._assertNoComponentsNorElementBindingsOnTemplate(B,V,e.sourceSpan);var U=new lc(this.providerViewContext,t.providerContext,t.isTemplateElement,B,[],[],!0,I,e.sourceSpan);U.afterElement(),N=new ec([],[],[],v,U.transformedDirectiveAsts,U.transformProviders,U.transformedHasViewContainer,U.queryMatches,[N],A,e.sourceSpan)}return N}},{key:"_parseAttr",value:function(e,t,n,r,i,a,s){var o=this._normalizeAttributeName(t.name),u=t.value,c=t.sourceSpan,l=t.valueSpan?t.valueSpan.start.offset:c.start.offset,h=[],p=o.match(Nc),v=!1;if(null!==p)if(v=!0,null!=p[1])this._bindingParser.parsePropertyBinding(p[7],u,!1,c,l,t.valueSpan,n,r);else if(p[2])if(e){var f=p[7];this._parseVariable(f,u,c,s)}else this._reportError('"let-" is only supported on ng-template elements.',c);else if(p[3]){var d=p[7];this._parseReference(d,u,c,a)}else p[4]?this._bindingParser.parseEvent(p[7],u,c,t.valueSpan||c,n,h):p[5]?(this._bindingParser.parsePropertyBinding(p[7],u,!1,c,l,t.valueSpan,n,r),this._parseAssignmentEvent(p[7],u,c,t.valueSpan||c,n,h)):p[6]?this._bindingParser.parseLiteralAttr(o,u,c,l,t.valueSpan,n,r):p[8]?(this._bindingParser.parsePropertyBinding(p[8],u,!1,c,l,t.valueSpan,n,r),this._parseAssignmentEvent(p[8],u,c,t.valueSpan||c,n,h)):p[9]?this._bindingParser.parsePropertyBinding(p[9],u,!1,c,l,t.valueSpan,n,r):p[10]&&this._bindingParser.parseEvent(p[10],u,c,t.valueSpan||c,n,h);else v=this._bindingParser.parsePropertyInterpolation(o,u,c,t.valueSpan,n,r);return v||this._bindingParser.parseLiteralAttr(o,u,c,l,t.valueSpan,n,r),i.push.apply(i,Object(g.a)(h.map(function(e){return $u.fromParsedEvent(e)}))),v}},{key:"_normalizeAttributeName",value:function(e){return/^data-/i.test(e)?e.substring(5):e}},{key:"_parseVariable",value:function(e,t,n,r){e.indexOf("-")>-1?this._reportError('"-" is not allowed in variable names',n):0===e.length&&this._reportError("Variable does not have a name",n),r.push(new Ju(e,t,n))}},{key:"_parseReference",value:function(e,t,n,r){e.indexOf("-")>-1?this._reportError('"-" is not allowed in reference names',n):0===e.length&&this._reportError("Reference does not have a name",n),r.push(new Fc(e,t,n))}},{key:"_parseAssignmentEvent",value:function(e,t,n,r,i,a){this._bindingParser.parseEvent("".concat(e,"Change"),"".concat(t,"=$event"),n,r,i,a)}},{key:"_parseDirectives",value:function(e,t){var n=this,r=Qn(this.directivesIndex.size),i=!1;return e.match(t,function(e,t){r[n.directivesIndex.get(t)]=t,i=i||e.hasElementSelector()}),{directives:r.filter(function(e){return!!e}),matchElement:i}}},{key:"_createDirectiveAsts",value:function(e,t,n,r,i,a,s,o){var u=this,c=new Set,l=null,h=n.map(function(e){var n=new es(a.start,a.end,a.fullStart,"Directive ".concat(Jn(e.type)));e.isComponent&&(l=e);var h=[],p=u._bindingParser.createDirectiveHostPropertyAsts(e,t,n).map(function(e){return Gu.fromBoundProperty(e)});p=u._checkPropertiesInSchema(t,p);var v=u._bindingParser.createDirectiveHostEventAsts(e,n);u._createDirectivePropertyAsts(e.inputs,r,h,o),i.forEach(function(t){(0===t.value.length&&e.isComponent||t.isReferenceToDirective(e))&&(s.push(new Yu(t.name,gn(e.type.reference),t.value,t.sourceSpan)),c.add(t.name))});var f=v.map(function(e){return $u.fromParsedEvent(e)}),d=u.contentQueryStartId;return u.contentQueryStartId+=e.queries.length,new nc(e,h,p,f,d,n)});return i.forEach(function(t){if(t.value.length>0)c.has(t.name)||u._reportError('There is no directive with "exportAs" set to "'.concat(t.value,'"'),t.sourceSpan);else if(!l){var n=null;e&&(n=bn(u.reflector,yn.TemplateRef)),s.push(new Yu(t.name,n,t.value,t.sourceSpan))}}),h}},{key:"_createDirectivePropertyAsts",value:function(e,t,n,r){if(e){var i=new Map;t.forEach(function(e){var t=i.get(e.name);t&&!t.isLiteral||i.set(e.name,e)}),Object.keys(e).forEach(function(t){var a=e[t],s=i.get(a);s&&(r.add(s.name),zc(s.expression)||n.push(new tc(t,s.name,s.expression,s.sourceSpan)))})}}},{key:"_createElementPropertyAsts",value:function(e,t,n){var r=this,i=[];return t.forEach(function(t){if(!t.isLiteral&&!n.has(t.name)){var a=r._bindingParser.createBoundElementProperty(e,t);i.push(Gu.fromBoundProperty(a))}}),this._checkPropertiesInSchema(e,i)}},{key:"_findComponentDirectives",value:function(e){return e.filter(function(e){return e.directive.isComponent})}},{key:"_findComponentDirectiveNames",value:function(e){return this._findComponentDirectives(e).map(function(e){return Jn(e.directive.type)})}},{key:"_assertOnlyOneComponent",value:function(e,t){var n=this._findComponentDirectiveNames(e);n.length>1&&this._reportError("More than one component matched on this element.\nMake sure that only one component's selector can match a given element.\n"+"Conflicting components: ".concat(n.join(",")),t)}},{key:"_assertElementExists",value:function(e,t){var n=t.name.replace(/^:xhtml:/,"");if(!e&&!this._schemaRegistry.hasElement(n,this._schemas)){var r="'".concat(n,"' is not a known element:\n");r+="1. If '".concat(n,"' is an Angular component, then verify that it is part of this module.\n"),n.indexOf("-")>-1?r+="2. If '".concat(n,"' is a Web Component then add 'CUSTOM_ELEMENTS_SCHEMA' to the '@NgModule.schemas' of this component to suppress this message."):r+="2. To allow any element add 'NO_ERRORS_SCHEMA' to the '@NgModule.schemas' of this component.",this._reportError(r,t.sourceSpan)}}},{key:"_assertNoComponentsNorElementBindingsOnTemplate",value:function(e,t,n){var r=this,i=this._findComponentDirectiveNames(e);i.length>0&&this._reportError("Components on an embedded template: ".concat(i.join(",")),n),t.forEach(function(e){r._reportError("Property binding ".concat(e.name,' not used by any directive on an embedded template. Make sure that the property name is spelled correctly and all directives are listed in the "@NgModule.declarations".'),n)})}},{key:"_assertAllEventsPublishedByDirectives",value:function(e,t){var n=this,r=new Set;e.forEach(function(e){Object.keys(e.directive.outputs).forEach(function(t){var n=e.directive.outputs[t];r.add(n)})}),t.forEach(function(e){null==e.target&&r.has(e.name)||n._reportError("Event binding ".concat(e.fullName,' not emitted by any directive on an embedded template. Make sure that the event name is spelled correctly and all directives are listed in the "@NgModule.declarations".'),e.sourceSpan)})}},{key:"_checkPropertiesInSchema",value:function(e,t){var n=this;return t.filter(function(t){if(0===t.type&&!n._schemaRegistry.hasProperty(e,t.name,n._schemas)){var r="Can't bind to '".concat(t.name,"' since it isn't a known property of '").concat(e,"'.");e.startsWith("ng-")?r+="\n1. If '".concat(t.name,"' is an Angular directive, then add 'CommonModule' to the '@NgModule.imports' of this component.")+"\n2. To allow any property add 'NO_ERRORS_SCHEMA' to the '@NgModule.schemas' of this component.":e.indexOf("-")>-1&&(r+="\n1. If '".concat(e,"' is an Angular component and it has '").concat(t.name,"' input, then verify that it is part of this module.")+"\n2. If '".concat(e,"' is a Web Component then add 'CUSTOM_ELEMENTS_SCHEMA' to the '@NgModule.schemas' of this component to suppress this message.")+"\n3. To allow any property add 'NO_ERRORS_SCHEMA' to the '@NgModule.schemas' of this component."),n._reportError(r,t.sourceSpan)}return!zc(t.value)})}},{key:"_reportError",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Ya.ERROR;this._targetErrors.push(new ts(t,e,n))}}]),e}(),Dc=function(){function e(){Object(b.a)(this,e)}return Object(k.a)(e,[{key:"visitElement",value:function(e,t){var n=Oc(e);if(n.type===Cc.SCRIPT||n.type===Cc.STYLE||n.type===Cc.STYLESHEET)return null;var r=e.attrs.map(function(e){return[e.name,e.value]}),i=Vc(e.name,r),a=t.findNgContentIndex(i),s=su(this,e.children,Uc);return new Zu(e.name,su(this,e.attrs),[],[],[],[],[],!1,[],s,a,e.sourceSpan,e.endSourceSpan)}},{key:"visitComment",value:function(e,t){return null}},{key:"visitAttribute",value:function(e,t){return new Qu(e.name,e.value,e.sourceSpan)}},{key:"visitText",value:function(e,t){var n=t.findNgContentIndex(Mc());return new zu(e.value,n,e.sourceSpan)}},{key:"visitExpansion",value:function(e,t){return e}},{key:"visitExpansionCase",value:function(e,t){return e}}]),e}(),Fc=function(){function e(t,n,r){Object(b.a)(this,e),this.name=t,this.value=n,this.sourceSpan=r}return Object(k.a)(e,[{key:"isReferenceToDirective",value:function(e){return-1!==(t=e.exportAs,t?t.split(",").map(function(e){return e.trim()}):[]).indexOf(this.value);var t}}]),e}();function Lc(e){return e.trim().split(/\s+/g)}var Bc=function(){function e(t,n,r,i){Object(b.a)(this,e),this.isTemplateElement=t,this._ngContentIndexMatcher=n,this._wildcardNgContentIndex=r,this.providerContext=i}return Object(k.a)(e,[{key:"findNgContentIndex",value:function(e){var t=[];return this._ngContentIndexMatcher.match(e,function(e,n){t.push(n)}),t.sort(),null!=this._wildcardNgContentIndex&&t.push(this._wildcardNgContentIndex),t.length>0?t[0]:null}}],[{key:"create",value:function(t,n,r){var i=new F,a=null,s=n.find(function(e){return e.directive.isComponent});if(s)for(var o=s.directive.template.ngContentSelectors,u=0;u<o.length;u++){"*"===o[u]?a=u:i.addSelectables(D.parse(o[u]),u)}return new e(t,i,a,r)}}]),e}();function Vc(e,t){var n=new D,r=E(e)[1];n.setElement(r);for(var i=0;i<t.length;i++){var a=t[i][0],s=E(a)[1],o=t[i][1];if(n.addAttribute(s,o),"class"==a.toLowerCase())Lc(o).forEach(function(e){return n.addClassName(e)})}return n}var Uc=new Bc(!0,new F,null,null),Hc=new Dc;function qc(e){return e instanceof eu&&0==e.value.trim().length}function Wc(e){var t=new Map;return e.forEach(function(e){t.get(e.type.reference)||t.set(e.type.reference,e)}),Array.from(t.values())}function zc(e){return e instanceof Vs&&(e=e.ast),e instanceof ys}function Kc(e){var t=e.charCodeAt(0);if(t==e.charCodeAt(e.length-1)&&(39==t||34==t)){var n=e.substring(1,e.length-1);-1==n.indexOf("'")&&-1==n.indexOf('"')&&(e=n)}return e}function Qc(e){return e.replace(/[a-z][A-Z]/g,function(e){return e.charAt(0)+"-"+e.charAt(1)}).toLowerCase()}var Xc,Gc=function(){function e(t){Object(b.a)(this,e),this._directiveExpr=t,this._hasInitialValues=!1,this.hasBindings=!1,this.hasBindingsWithPipes=!1,this._classMapInput=null,this._styleMapInput=null,this._singleStyleInputs=null,this._singleClassInputs=null,this._lastStylingInput=null,this._firstStylingInput=null,this._stylesIndex=new Map,this._classesIndex=new Map,this._initialStyleValues=[],this._initialClassValues=[]}return Object(k.a)(e,[{key:"registerBoundInput",value:function(e){var t=null,n=e.name;switch(e.type){case 0:t=this.registerInputBasedOnName(n,e.value,e.sourceSpan);break;case 3:t=this.registerStyleInput(n,!1,e.value,e.sourceSpan,e.unit);break;case 2:t=this.registerClassInput(n,!1,e.value,e.sourceSpan)}return!!t}},{key:"registerInputBasedOnName",value:function(e,t,n){var r=null,i=e.substring(0,6),a="style"===e||"style."===i||"style!"===i;if(a||!a&&("class"===e||"class."===i||"class!"===i)){var s="."!==e.charAt(5),o=e.substr(s?5:6);r=a?this.registerStyleInput(o,s,t,n):this.registerClassInput(o,s,t,n)}return r}},{key:"registerStyleInput",value:function(e,t,n,r,i){if(zc(n))return null;(function(e){return e.startsWith("--")})(e)||(e=Qc(e));var a=Yc(e),s=a.property,o=a.hasOverrideFlag,u=a.suffix,c={name:s,suffix:i="string"==typeof i&&0!==i.length?i:u,value:n,sourceSpan:r,hasOverrideFlag:o};return t?this._styleMapInput=c:((this._singleStyleInputs=this._singleStyleInputs||[]).push(c),$c(this._stylesIndex,s)),this._lastStylingInput=c,this._firstStylingInput=this._firstStylingInput||c,this._checkForPipes(n),this.hasBindings=!0,c}},{key:"registerClassInput",value:function(e,t,n,r){if(zc(n))return null;var i=Yc(e),a=i.property,s={name:a,value:n,sourceSpan:r,hasOverrideFlag:i.hasOverrideFlag,suffix:null};return t?this._classMapInput=s:((this._singleClassInputs=this._singleClassInputs||[]).push(s),$c(this._classesIndex,a)),this._lastStylingInput=s,this._firstStylingInput=this._firstStylingInput||s,this._checkForPipes(n),this.hasBindings=!0,s}},{key:"_checkForPipes",value:function(e){e instanceof Vs&&e.ast instanceof Os&&(this.hasBindingsWithPipes=!0)}},{key:"registerStyleAttr",value:function(e){this._initialStyleValues=function(e){for(var t=[],n=0,r=0,i=0,a=0,s=0,o=null,u=!1;n<e.length;){switch(e.charCodeAt(n++)){case 40:r++;break;case 41:r--;break;case 39:u=u||a>0,0===i?i=39:39===i&&92!==e.charCodeAt(n-1)&&(i=0);break;case 34:u=u||a>0,0===i?i=34:34===i&&92!==e.charCodeAt(n-1)&&(i=0);break;case 58:o||0!==r||0!==i||(o=Qc(e.substring(s,n-1).trim()),a=n);break;case 59:if(o&&a>0&&0===r&&0===i){var c=e.substring(a,n-1).trim();t.push(o,u?Kc(c):c),s=n,a=0,o=null,u=!1}}}if(o&&a){var l=e.substr(a).trim();t.push(o,u?Kc(l):l)}return t}(e),this._hasInitialValues=!0}},{key:"registerClassAttr",value:function(e){this._initialClassValues=e.trim().split(/\s+/g),this._hasInitialValues=!0}},{key:"populateInitialStylingAttrs",value:function(e){if(this._initialClassValues.length){e.push(an(1));for(var t=0;t<this._initialClassValues.length;t++)e.push(an(this._initialClassValues[t]))}if(this._initialStyleValues.length){e.push(an(2));for(var n=0;n<this._initialStyleValues.length;n+=2)e.push(an(this._initialStyleValues[n]),an(this._initialStyleValues[n+1]))}}},{key:"assignHostAttrs",value:function(e,t){this._directiveExpr&&(e.length||this._hasInitialValues)&&(this.populateInitialStylingAttrs(e),t.set("hostAttrs",Zt(e)))}},{key:"buildClassMapInstruction",value:function(e){return this._classMapInput?this._buildMapBasedInstruction(e,!0,this._classMapInput):null}},{key:"buildStyleMapInstruction",value:function(e){return this._styleMapInput?this._buildMapBasedInstruction(e,!1,this._styleMapInput):null}},{key:"_buildMapBasedInstruction",value:function(e,t,n){var r,i=2,a=n.value.visit(e);return a instanceof Ms?(i+=a.expressions.length,r=t?function(e){switch(Ta(e)){case 1:return _r.classMap;case 3:return _r.classMapInterpolate1;case 5:return _r.classMapInterpolate2;case 7:return _r.classMapInterpolate3;case 9:return _r.classMapInterpolate4;case 11:return _r.classMapInterpolate5;case 13:return _r.classMapInterpolate6;case 15:return _r.classMapInterpolate7;case 17:return _r.classMapInterpolate8;default:return _r.classMapInterpolateV}}(a):function(e){switch(Ta(e)){case 1:return _r.styleMap;case 3:return _r.styleMapInterpolate1;case 5:return _r.styleMapInterpolate2;case 7:return _r.styleMapInterpolate3;case 9:return _r.styleMapInterpolate4;case 11:return _r.styleMapInterpolate5;case 13:return _r.styleMapInterpolate6;case 15:return _r.styleMapInterpolate7;case 17:return _r.styleMapInterpolate8;default:return _r.styleMapInterpolateV}}(a)):r=t?_r.classMap:_r.styleMap,{reference:r,calls:[{supportsInterpolation:!0,sourceSpan:n.sourceSpan,allocateBindingSlots:i,params:function(e){var t=e(a),n=Array.isArray(t)?t:[t];return n}}]}}},{key:"_buildSingleInputs",value:function(e,t,n,r,i){var a=[];return t.forEach(function(t){var s=a[a.length-1],o=t.value.visit(n),u=e,c=2;o instanceof Ms&&(c+=o.expressions.length,r&&(u=r(o)));var l={sourceSpan:t.sourceSpan,allocateBindingSlots:c,supportsInterpolation:!!r,params:function(e){var n=[];n.push(an(t.name));var r=e(o);return Array.isArray(r)?n.push.apply(n,Object(g.a)(r)):n.push(r),i||null===t.suffix||n.push(an(t.suffix)),n}};s&&s.reference===u?s.calls.push(l):a.push({reference:u,calls:[l]})}),a}},{key:"_buildClassInputs",value:function(e){return this._singleClassInputs?this._buildSingleInputs(_r.classProp,this._singleClassInputs,e,null,!0):[]}},{key:"_buildStyleInputs",value:function(e){return this._singleStyleInputs?this._buildSingleInputs(_r.styleProp,this._singleStyleInputs,e,Jc,!1):[]}},{key:"buildUpdateLevelInstructions",value:function(e){var t=[];if(this.hasBindings){var n=this.buildStyleMapInstruction(e);n&&t.push(n);var r=this.buildClassMapInstruction(e);r&&t.push(r),t.push.apply(t,Object(g.a)(this._buildStyleInputs(e))),t.push.apply(t,Object(g.a)(this._buildClassInputs(e)))}return t}}]),e}();function $c(e,t){e.has(t)||e.set(t,e.size)}function Yc(e){var t=!1,n=e.indexOf("!important");-1!==n&&(e=n>0?e.substring(0,n):"",t=!0);var r=null,i=e,a=e.lastIndexOf(".");return a>0&&(r=e.substr(a+1),i=e.substring(0,a)),{property:i,suffix:r,hasOverrideFlag:t}}function Jc(e){switch(Ta(e)){case 1:return _r.styleProp;case 3:return _r.stylePropInterpolate1;case 5:return _r.stylePropInterpolate2;case 7:return _r.stylePropInterpolate3;case 9:return _r.stylePropInterpolate4;case 11:return _r.stylePropInterpolate5;case 13:return _r.stylePropInterpolate6;case 15:return _r.stylePropInterpolate7;case 17:return _r.stylePropInterpolate8;default:return _r.stylePropInterpolateV}}!function(e){e[e.Character=0]="Character",e[e.Identifier=1]="Identifier",e[e.Keyword=2]="Keyword",e[e.String=3]="String",e[e.Operator=4]="Operator",e[e.Number=5]="Number",e[e.Error=6]="Error"}(Xc||(Xc={}));var Zc=["var","let","as","null","undefined","true","false","if","else","this"],el=function(){function e(){Object(b.a)(this,e)}return Object(k.a)(e,[{key:"tokenize",value:function(e){for(var t=new al(e),n=[],r=t.scanToken();null!=r;)n.push(r),r=t.scanToken();return n}}]),e}(),tl=function(){function e(t,n,r,i,a){Object(b.a)(this,e),this.index=t,this.end=n,this.type=r,this.numValue=i,this.strValue=a}return Object(k.a)(e,[{key:"isCharacter",value:function(e){return this.type==Xc.Character&&this.numValue==e}},{key:"isNumber",value:function(){return this.type==Xc.Number}},{key:"isString",value:function(){return this.type==Xc.String}},{key:"isOperator",value:function(e){return this.type==Xc.Operator&&this.strValue==e}},{key:"isIdentifier",value:function(){return this.type==Xc.Identifier}},{key:"isKeyword",value:function(){return this.type==Xc.Keyword}},{key:"isKeywordLet",value:function(){return this.type==Xc.Keyword&&"let"==this.strValue}},{key:"isKeywordAs",value:function(){return this.type==Xc.Keyword&&"as"==this.strValue}},{key:"isKeywordNull",value:function(){return this.type==Xc.Keyword&&"null"==this.strValue}},{key:"isKeywordUndefined",value:function(){return this.type==Xc.Keyword&&"undefined"==this.strValue}},{key:"isKeywordTrue",value:function(){return this.type==Xc.Keyword&&"true"==this.strValue}},{key:"isKeywordFalse",value:function(){return this.type==Xc.Keyword&&"false"==this.strValue}},{key:"isKeywordThis",value:function(){return this.type==Xc.Keyword&&"this"==this.strValue}},{key:"isError",value:function(){return this.type==Xc.Error}},{key:"toNumber",value:function(){return this.type==Xc.Number?this.numValue:-1}},{key:"toString",value:function(){switch(this.type){case Xc.Character:case Xc.Identifier:case Xc.Keyword:case Xc.Operator:case Xc.String:case Xc.Error:return this.strValue;case Xc.Number:return this.numValue.toString();default:return null}}}]),e}();function nl(e,t,n){return new tl(e,t,Xc.Character,n,String.fromCharCode(n))}function rl(e,t,n){return new tl(e,t,Xc.Operator,0,n)}var il=new tl(-1,-1,Xc.Character,0,""),al=function(){function e(t){Object(b.a)(this,e),this.input=t,this.peek=0,this.index=-1,this.length=t.length,this.advance()}return Object(k.a)(e,[{key:"advance",value:function(){this.peek=++this.index>=this.length?0:this.input.charCodeAt(this.index)}},{key:"scanToken",value:function(){for(var e=this.input,t=this.length,n=this.peek,r=this.index;n<=32;){if(++r>=t){n=0;break}n=e.charCodeAt(r)}if(this.peek=n,this.index=r,r>=t)return null;if(sl(n))return this.scanIdentifier();if(Qa(n))return this.scanNumber(r);var i=r;switch(n){case 46:return this.advance(),Qa(this.peek)?this.scanNumber(i):nl(i,this.index,46);case 40:case 41:case 123:case 125:case 91:case 93:case 44:case 58:case 59:return this.scanCharacter(i,n);case 39:case 34:return this.scanString();case 35:case 43:case 45:case 42:case 47:case 37:case 94:return this.scanOperator(i,String.fromCharCode(n));case 63:return this.scanComplexOperator(i,"?",46,".");case 60:case 62:return this.scanComplexOperator(i,String.fromCharCode(n),61,"=");case 33:case 61:return this.scanComplexOperator(i,String.fromCharCode(n),61,"=",61,"=");case 38:return this.scanComplexOperator(i,"&",38,"&");case 124:return this.scanComplexOperator(i,"|",124,"|");case 160:for(;Ka(this.peek);)this.advance();return this.scanToken()}return this.advance(),this.error("Unexpected character [".concat(String.fromCharCode(n),"]"),0)}},{key:"scanCharacter",value:function(e,t){return this.advance(),nl(e,this.index,t)}},{key:"scanOperator",value:function(e,t){return this.advance(),rl(e,this.index,t)}},{key:"scanComplexOperator",value:function(e,t,n,r,i,a){this.advance();var s=t;return this.peek==n&&(this.advance(),s+=r),null!=i&&this.peek==i&&(this.advance(),s+=a),rl(e,this.index,s)}},{key:"scanIdentifier",value:function(){var e=this.index;for(this.advance();ul(this.peek);)this.advance();var t,n,r,i=this.input.substring(e,this.index);return Zc.indexOf(i)>-1?(t=e,n=this.index,r=i,new tl(t,n,Xc.Keyword,0,r)):function(e,t,n){return new tl(e,t,Xc.Identifier,0,n)}(e,this.index,i)}},{key:"scanNumber",value:function(e){var t,n=this.index===e;for(this.advance();;){if(Qa(this.peek));else if(46==this.peek)n=!1;else{if(101!=(t=this.peek)&&69!=t)break;if(this.advance(),cl(this.peek)&&this.advance(),!Qa(this.peek))return this.error("Invalid exponent",-1);n=!1}this.advance()}var r,i,a,s=this.input.substring(e,this.index),o=n?function(e){var t=parseInt(e);if(isNaN(t))throw new Error("Invalid integer literal when parsing "+e);return t}(s):parseFloat(s);return r=e,i=this.index,a=o,new tl(r,i,Xc.Number,a,"")}},{key:"scanString",value:function(){var e=this.index,t=this.peek;this.advance();for(var n="",r=this.index,i=this.input;this.peek!=t;)if(92==this.peek){n+=i.substring(r,this.index),this.advance();var a=void 0;if(this.peek=this.peek,117==this.peek){var s=i.substring(this.index+1,this.index+5);if(!/^[0-9a-f]+$/i.test(s))return this.error("Invalid unicode escape [\\u".concat(s,"]"),0);a=parseInt(s,16);for(var o=0;o<5;o++)this.advance()}else a=hl(this.peek),this.advance();n+=String.fromCharCode(a),r=this.index}else{if(0==this.peek)return this.error("Unterminated quote",0);this.advance()}var u,c,l,h=i.substring(r,this.index);return this.advance(),u=e,c=this.index,l=n+h,new tl(u,c,Xc.String,0,l)}},{key:"error",value:function(e,t){var n=this.index+t;return function(e,t,n){return new tl(e,t,Xc.Error,0,n)}(n,this.index,"Lexer Error: ".concat(e," at column ").concat(n," in expression [").concat(this.input,"]"))}}]),e}();function sl(e){return 97<=e&&e<=122||65<=e&&e<=90||95==e||36==e}function ol(e){if(0==e.length)return!1;var t=new al(e);if(!sl(t.peek))return!1;for(t.advance();0!==t.peek;){if(!ul(t.peek))return!1;t.advance()}return!0}function ul(e){return Xa(e)||Qa(e)||95==e||36==e}function cl(e){return 45==e||43==e}function ll(e){return 39===e||34===e||96===e}function hl(e){switch(e){case 110:return 10;case 102:return 12;case 114:return 13;case 116:return 9;case 118:return 11;default:return e}}var pl,vl=function e(t,n,r){Object(b.a)(this,e),this.strings=t,this.expressions=n,this.offsets=r},fl=function e(t,n,r){Object(b.a)(this,e),this.templateBindings=t,this.warnings=n,this.errors=r},dl=function(){function e(t){Object(b.a)(this,e),this._lexer=t,this.errors=[],this.simpleExpressionChecker=bl}return Object(k.a)(e,[{key:"parseAction",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:Ba;this._checkNoInterpolation(e,t,r);var i=this._stripComments(e),a=this._lexer.tokenize(this._stripComments(e)),s=new gl(e,t,n,a,i.length,!0,this.errors,e.length-i.length).parseChain();return new Vs(s,e,t,n,this.errors)}},{key:"parseBinding",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:Ba,i=this._parseBindingAst(e,t,n,r);return new Vs(i,e,t,n,this.errors)}},{key:"checkSimpleExpression",value:function(e){var t=new this.simpleExpressionChecker;return e.visit(t),t.errors}},{key:"parseSimpleBinding",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:Ba,i=this._parseBindingAst(e,t,n,r),a=this.checkSimpleExpression(i);return a.length>0&&this._reportError("Host binding expression cannot contain ".concat(a.join(" ")),e,t),new Vs(i,e,t,n,this.errors)}},{key:"_reportError",value:function(e,t,n,r){this.errors.push(new ps(e,t,n,r))}},{key:"_parseBindingAst",value:function(e,t,n,r){var i=this._parseQuote(e,t,n);if(null!=i)return i;this._checkNoInterpolation(e,t,r);var a=this._stripComments(e),s=this._lexer.tokenize(a);return new gl(e,t,n,s,a.length,!1,this.errors,e.length-a.length).parseChain()}},{key:"_parseQuote",value:function(e,t,n){if(null==e)return null;var r=e.indexOf(":");if(-1==r)return null;var i=e.substring(0,r).trim();if(!ol(i))return null;var a=e.substring(r+1),s=new vs(0,e.length);return new ms(s,s.toAbsolute(n),i,a,t)}},{key:"parseTemplateBindings",value:function(e,t,n,r,i){var a=this._lexer.tokenize(t);return new gl(t,n,i,a,t.length,!1,this.errors,0).parseTemplateBindings({source:e,span:new Bs(r,r+e.length)})}},{key:"parseInterpolation",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:Ba,i=this.splitInterpolation(e,t,r),a=i.strings,s=i.expressions,o=i.offsets;if(0===s.length)return null;for(var u=[],c=0;c<s.length;++c){var l=s[c].text,h=this._stripComments(l),p=this._lexer.tokenize(h),v=new gl(e,t,n,p,h.length,!1,this.errors,o[c]+(l.length-h.length)).parseChain();u.push(v)}return this.createInterpolationAst(a.map(function(e){return e.text}),u,e,t,n)}},{key:"parseInterpolationExpression",value:function(e,t,n){var r=this._stripComments(e),i=this._lexer.tokenize(r),a=new gl(e,t,n,i,r.length,!1,this.errors,0).parseChain();return this.createInterpolationAst(["",""],[a],e,t,n)}},{key:"createInterpolationAst",value:function(e,t,n,r,i){var a=new vs(0,n.length),s=new Ms(a,a.toAbsolute(i),e,t);return new Vs(s,n,r,i,this.errors)}},{key:"splitInterpolation",value:function(e,t){for(var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Ba,r=[],i=[],a=[],s=0,o=!1,u=!1,c=n.start,l=n.end;s<e.length;)if(o){var h=s,p=h+c.length,v=this._getInterpolationEndIndex(e,l,p);if(-1===v){o=!1,u=!0;break}var f=v+l.length,d=e.substring(p,v);0===d.trim().length&&this._reportError("Blank expressions are not allowed in interpolated strings",e,"at column ".concat(s," in"),t),i.push({text:d,start:h,end:f}),a.push(p),s=f,o=!1}else{var m=s;-1===(s=e.indexOf(c,s))&&(s=e.length);var y=e.substring(m,s);r.push({text:y,start:m,end:s}),o=!0}if(!o)if(u){var g=r[r.length-1];g.text+=e.substring(s),g.end=e.length}else r.push({text:e.substring(s),start:s,end:e.length});return new vl(r,i,a)}},{key:"wrapLiteralPrimitive",value:function(e,t,n){var r=new vs(0,null==e?0:e.length);return new Vs(new Ts(r,r.toAbsolute(n),e),e,t,n,this.errors)}},{key:"_stripComments",value:function(e){var t=this._commentStart(e);return null!=t?e.substring(0,t).trim():e}},{key:"_commentStart",value:function(e){for(var t=null,n=0;n<e.length-1;n++){var r=e.charCodeAt(n),i=e.charCodeAt(n+1);if(47===r&&47==i&&null==t)return n;t===r?t=null:null==t&&ll(r)&&(t=r)}return null}},{key:"_checkNoInterpolation",value:function(e,t,n){var r,i=n.start,a=n.end,s=-1,o=-1,u=Object(v.a)(this._forEachUnquotedChar(e,0));try{for(u.s();!(r=u.n()).done;){var c=r.value;if(-1===s)e.startsWith(i)&&(s=c);else if((o=this._getInterpolationEndIndex(e,a,c))>-1)break}}catch(l){u.e(l)}finally{u.f()}s>-1&&o>-1&&this._reportError("Got interpolation (".concat(i).concat(a,") where expression was expected"),e,"at column ".concat(s," in"),t)}},{key:"_getInterpolationEndIndex",value:function(e,t,n){var r,i=Object(v.a)(this._forEachUnquotedChar(e,n));try{for(i.s();!(r=i.n()).done;){var a=r.value;if(e.startsWith(t,a))return a;if(e.startsWith("//",a))return e.indexOf(t,a)}}catch(s){i.e(s)}finally{i.f()}return-1}},{key:"_forEachUnquotedChar",value:s.a.mark(function e(t,n){var r,i,a,o;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:r=null,i=0,a=n;case 3:if(!(a<t.length)){e.next=16;break}if(o=t[a],!ll(t.charCodeAt(a))||null!==r&&r!==o||i%2!=0){e.next=9;break}r=null===r?o:null,e.next=12;break;case 9:if(null!==r){e.next=12;break}return e.next=12,a;case 12:i="\\"===o?i+1:0;case 13:a++,e.next=3;break;case 16:case"end":return e.stop()}},e)})}]),e}(),ml=function(e){Object(m.a)(n,e);var t=Object(y.a)(n);function n(){var e;return Object(b.a)(this,n),(e=t.apply(this,arguments)).simpleExpressionChecker=kl,e}return n}(dl);!function(e){e[e.None=0]="None",e[e.Writable=1]="Writable"}(pl||(pl={}));var yl,gl=function(){function e(t,n,r,i,a,s,o,u){Object(b.a)(this,e),this.input=t,this.location=n,this.absoluteOffset=r,this.tokens=i,this.inputLength=a,this.parseAction=s,this.errors=o,this.offset=u,this.rparensExpected=0,this.rbracketsExpected=0,this.rbracesExpected=0,this.context=pl.None,this.sourceSpanCache=new Map,this.index=0}return Object(k.a)(e,[{key:"peek",value:function(e){var t=this.index+e;return t<this.tokens.length?this.tokens[t]:il}},{key:"next",get:function(){return this.peek(0)}},{key:"atEOF",get:function(){return this.index>=this.tokens.length}},{key:"inputIndex",get:function(){return this.atEOF?this.currentEndIndex:this.next.index+this.offset}},{key:"currentEndIndex",get:function(){return this.index>0?this.peek(-1).end+this.offset:0===this.tokens.length?this.inputLength+this.offset:this.next.index+this.offset}},{key:"currentAbsoluteOffset",get:function(){return this.absoluteOffset+this.inputIndex}},{key:"span",value:function(e,t){var n=this.currentEndIndex;return void 0!==t&&t>this.currentEndIndex&&(n=t),new vs(e,n)}},{key:"sourceSpan",value:function(e,t){var n="".concat(e,"@").concat(this.inputIndex,":").concat(t);return this.sourceSpanCache.has(n)||this.sourceSpanCache.set(n,this.span(e,t).toAbsolute(this.absoluteOffset)),this.sourceSpanCache.get(n)}},{key:"advance",value:function(){this.index++}},{key:"withContext",value:function(e,t){this.context|=e;var n=t();return this.context^=e,n}},{key:"consumeOptionalCharacter",value:function(e){return!!this.next.isCharacter(e)&&(this.advance(),!0)}},{key:"peekKeywordLet",value:function(){return this.next.isKeywordLet()}},{key:"peekKeywordAs",value:function(){return this.next.isKeywordAs()}},{key:"expectCharacter",value:function(e){this.consumeOptionalCharacter(e)||this.error("Missing expected ".concat(String.fromCharCode(e)))}},{key:"consumeOptionalOperator",value:function(e){return!!this.next.isOperator(e)&&(this.advance(),!0)}},{key:"expectOperator",value:function(e){this.consumeOptionalOperator(e)||this.error("Missing expected operator ".concat(e))}},{key:"prettyPrintToken",value:function(e){return e===il?"end of input":"token ".concat(e)}},{key:"expectIdentifierOrKeyword",value:function(){var e=this.next;return e.isIdentifier()||e.isKeyword()?(this.advance(),e.toString()):(this.error("Unexpected ".concat(this.prettyPrintToken(e),", expected identifier or keyword")),null)}},{key:"expectIdentifierOrKeywordOrString",value:function(){var e=this.next;return e.isIdentifier()||e.isKeyword()||e.isString()?(this.advance(),e.toString()):(this.error("Unexpected ".concat(this.prettyPrintToken(e),", expected identifier, keyword, or string")),"")}},{key:"parseChain",value:function(){for(var e=[],t=this.inputIndex;this.index<this.tokens.length;){var n=this.parsePipe();if(e.push(n),this.consumeOptionalCharacter(59))for(this.parseAction||this.error("Binding expression cannot contain chained expression");this.consumeOptionalCharacter(59););else this.index<this.tokens.length&&this.error("Unexpected token '".concat(this.next,"'"))}if(0==e.length){var r=this.offset,i=this.offset+this.inputLength;return new ys(this.span(r,i),this.sourceSpan(r,i))}return 1==e.length?e[0]:new ks(this.span(t),this.sourceSpan(t),e)}},{key:"parsePipe",value:function(){var e=this.inputIndex,t=this.parseExpression();if(this.consumeOptionalOperator("|")){this.parseAction&&this.error("Cannot have a pipe in an action expression");do{var n=this.inputIndex,r=this.expectIdentifierOrKeyword(),i=void 0,a=void 0;null!==r?i=this.sourceSpan(n):(r="",a=-1!==this.next.index?this.next.index:this.inputLength+this.offset,i=new vs(a,a).toAbsolute(this.absoluteOffset));for(var s=[];this.consumeOptionalCharacter(58);)s.push(this.parseExpression());t=new Os(this.span(e),this.sourceSpan(e,a),t,r,s,i)}while(this.consumeOptionalOperator("|"))}return t}},{key:"parseExpression",value:function(){return this.parseConditional()}},{key:"parseConditional",value:function(){var e=this.inputIndex,t=this.parseLogicalOr();if(this.consumeOptionalOperator("?")){var n,r=this.parsePipe();if(this.consumeOptionalCharacter(58))n=this.parsePipe();else{var i=this.inputIndex,a=this.input.substring(e,i);this.error("Conditional expression ".concat(a," requires all 3 expressions")),n=new ys(this.span(e),this.sourceSpan(e))}return new Es(this.span(e),this.sourceSpan(e),t,r,n)}return t}},{key:"parseLogicalOr",value:function(){for(var e=this.inputIndex,t=this.parseLogicalAnd();this.consumeOptionalOperator("||");){var n=this.parseLogicalAnd();t=new As(this.span(e),this.sourceSpan(e),"||",t,n)}return t}},{key:"parseLogicalAnd",value:function(){for(var e=this.inputIndex,t=this.parseEquality();this.consumeOptionalOperator("&&");){var n=this.parseEquality();t=new As(this.span(e),this.sourceSpan(e),"&&",t,n)}return t}},{key:"parseEquality",value:function(){for(var e=this.inputIndex,t=this.parseRelational();this.next.type==Xc.Operator;){var n=this.next.strValue;switch(n){case"==":case"===":case"!=":case"!==":this.advance();var r=this.parseRelational();t=new As(this.span(e),this.sourceSpan(e),n,t,r);continue}break}return t}},{key:"parseRelational",value:function(){for(var e=this.inputIndex,t=this.parseAdditive();this.next.type==Xc.Operator;){var n=this.next.strValue;switch(n){case"<":case">":case"<=":case">=":this.advance();var r=this.parseAdditive();t=new As(this.span(e),this.sourceSpan(e),n,t,r);continue}break}return t}},{key:"parseAdditive",value:function(){for(var e=this.inputIndex,t=this.parseMultiplicative();this.next.type==Xc.Operator;){var n=this.next.strValue;switch(n){case"+":case"-":this.advance();var r=this.parseMultiplicative();t=new As(this.span(e),this.sourceSpan(e),n,t,r);continue}break}return t}},{key:"parseMultiplicative",value:function(){for(var e=this.inputIndex,t=this.parsePrefix();this.next.type==Xc.Operator;){var n=this.next.strValue;switch(n){case"*":case"%":case"/":this.advance();var r=this.parsePrefix();t=new As(this.span(e),this.sourceSpan(e),n,t,r);continue}break}return t}},{key:"parsePrefix",value:function(){if(this.next.type==Xc.Operator){var e,t=this.inputIndex;switch(this.next.strValue){case"+":return this.advance(),e=this.parsePrefix(),Ps.createPlus(this.span(t),this.sourceSpan(t),e);case"-":return this.advance(),e=this.parsePrefix(),Ps.createMinus(this.span(t),this.sourceSpan(t),e);case"!":return this.advance(),e=this.parsePrefix(),new Is(this.span(t),this.sourceSpan(t),e)}}return this.parseCallChain()}},{key:"parseCallChain",value:function(){for(var e=this,t=this.inputIndex,n=this.parsePrimary();;)if(this.consumeOptionalCharacter(46))n=this.parseAccessMemberOrMethodCall(n,t,!1);else if(this.consumeOptionalOperator("?."))n=this.parseAccessMemberOrMethodCall(n,t,!0);else if(this.consumeOptionalCharacter(91))this.withContext(pl.Writable,function(){e.rbracketsExpected++;var r=e.parsePipe();if(r instanceof ys&&e.error("Key access cannot be empty"),e.rbracketsExpected--,e.expectCharacter(93),e.consumeOptionalOperator("=")){var i=e.parseConditional();n=new Cs(e.span(t),e.sourceSpan(t),n,r,i)}else n=new ws(e.span(t),e.sourceSpan(t),n,r)});else if(this.consumeOptionalCharacter(40)){this.rparensExpected++;var r=this.parseCallArguments();this.rparensExpected--,this.expectCharacter(41),n=new Ls(this.span(t),this.sourceSpan(t),n,r)}else{if(!this.consumeOptionalOperator("!"))return n;n=new Rs(this.span(t),this.sourceSpan(t),n)}}},{key:"parsePrimary",value:function(){var e=this.inputIndex;if(this.consumeOptionalCharacter(40)){this.rparensExpected++;var t=this.parsePipe();return this.rparensExpected--,this.expectCharacter(41),t}if(this.next.isKeywordNull())return this.advance(),new Ts(this.span(e),this.sourceSpan(e),null);if(this.next.isKeywordUndefined())return this.advance(),new Ts(this.span(e),this.sourceSpan(e),void 0);if(this.next.isKeywordTrue())return this.advance(),new Ts(this.span(e),this.sourceSpan(e),!0);if(this.next.isKeywordFalse())return this.advance(),new Ts(this.span(e),this.sourceSpan(e),!1);if(this.next.isKeywordThis())return this.advance(),new bs(this.span(e),this.sourceSpan(e));if(this.consumeOptionalCharacter(91)){this.rbracketsExpected++;var n=this.parseExpressionList(93);return this.rbracketsExpected--,this.expectCharacter(93),new js(this.span(e),this.sourceSpan(e),n)}if(this.next.isCharacter(123))return this.parseLiteralMap();if(this.next.isIdentifier())return this.parseAccessMemberOrMethodCall(new gs(this.span(e),this.sourceSpan(e)),e,!1);if(this.next.isNumber()){var r=this.next.toNumber();return this.advance(),new Ts(this.span(e),this.sourceSpan(e),r)}if(this.next.isString()){var i=this.next.toString();return this.advance(),new Ts(this.span(e),this.sourceSpan(e),i)}return this.index>=this.tokens.length?(this.error("Unexpected end of expression: ".concat(this.input)),new ys(this.span(e),this.sourceSpan(e))):(this.error("Unexpected token ".concat(this.next)),new ys(this.span(e),this.sourceSpan(e)))}},{key:"parseExpressionList",value:function(e){var t=[];do{if(this.next.isCharacter(e))break;t.push(this.parsePipe())}while(this.consumeOptionalCharacter(44));return t}},{key:"parseLiteralMap",value:function(){var e=[],t=[],n=this.inputIndex;if(this.expectCharacter(123),!this.consumeOptionalCharacter(125)){this.rbracesExpected++;do{var r=this.next.isString(),i=this.expectIdentifierOrKeywordOrString();e.push({key:i,quoted:r}),this.expectCharacter(58),t.push(this.parsePipe())}while(this.consumeOptionalCharacter(44));this.rbracesExpected--,this.expectCharacter(125)}return new Ns(this.span(n),this.sourceSpan(n),e,t)}},{key:"parseAccessMemberOrMethodCall",value:function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=this.inputIndex,a=this.withContext(pl.Writable,function(){var t,r=null!==(t=n.expectIdentifierOrKeyword())&&void 0!==t?t:"";return 0===r.length&&n.error("Expected identifier for property access",e.span.end),r}),s=this.sourceSpan(i);if(this.consumeOptionalCharacter(40)){this.rparensExpected++;var o=this.parseCallArguments();this.expectCharacter(41),this.rparensExpected--;var u=this.span(t),c=this.sourceSpan(t);return r?new Fs(u,c,s,e,a,o):new Ds(u,c,s,e,a,o)}if(r)return this.consumeOptionalOperator("=")?(this.error("The '?.' operator cannot be used in the assignment"),new ys(this.span(t),this.sourceSpan(t))):new xs(this.span(t),this.sourceSpan(t),s,e,a);if(this.consumeOptionalOperator("=")){if(!this.parseAction)return this.error("Bindings cannot contain assignments"),new ys(this.span(t),this.sourceSpan(t));var l=this.parseConditional();return new Ss(this.span(t),this.sourceSpan(t),s,e,a,l)}return new _s(this.span(t),this.sourceSpan(t),s,e,a)}},{key:"parseCallArguments",value:function(){if(this.next.isCharacter(41))return[];var e=[];do{e.push(this.parsePipe())}while(this.consumeOptionalCharacter(44));return e}},{key:"expectTemplateBindingKey",value:function(){var e="",t=!1,n=this.currentAbsoluteOffset;do{e+=this.expectIdentifierOrKeywordOrString(),(t=this.consumeOptionalOperator("-"))&&(e+="-")}while(t);return{source:e,span:new Bs(n,n+e.length)}}},{key:"parseTemplateBindings",value:function(e){var t=[];for(t.push.apply(t,Object(g.a)(this.parseDirectiveKeywordBindings(e)));this.index<this.tokens.length;){var n=this.parseLetBinding();if(n)t.push(n);else{var r=this.expectTemplateBindingKey(),i=this.parseAsBinding(r);i?t.push(i):(r.source=e.source+r.source.charAt(0).toUpperCase()+r.source.substring(1),t.push.apply(t,Object(g.a)(this.parseDirectiveKeywordBindings(r))))}this.consumeStatementTerminator()}return new fl(t,[],this.errors)}},{key:"parseDirectiveKeywordBindings",value:function(e){var t=[];this.consumeOptionalCharacter(58);var n=this.getDirectiveBoundTarget(),r=this.currentAbsoluteOffset,i=this.parseAsBinding(e);i||(this.consumeStatementTerminator(),r=this.currentAbsoluteOffset);var a=new Bs(e.span.start,r);return t.push(new Hs(a,e,n)),i&&t.push(i),t}},{key:"getDirectiveBoundTarget",value:function(){if(this.next===il||this.peekKeywordAs()||this.peekKeywordLet())return null;var e=this.parsePipe(),t=e.span,n=t.start,r=t.end,i=this.input.substring(n,r);return new Vs(e,i,this.location,this.absoluteOffset+n,this.errors)}},{key:"parseAsBinding",value:function(e){if(!this.peekKeywordAs())return null;this.advance();var t=this.expectTemplateBindingKey();this.consumeStatementTerminator();var n=new Bs(e.span.start,this.currentAbsoluteOffset);return new Us(n,t,e)}},{key:"parseLetBinding",value:function(){if(!this.peekKeywordLet())return null;var e=this.currentAbsoluteOffset;this.advance();var t=this.expectTemplateBindingKey(),n=null;this.consumeOptionalOperator("=")&&(n=this.expectTemplateBindingKey()),this.consumeStatementTerminator();var r=new Bs(e,this.currentAbsoluteOffset);return new Us(r,t,n)}},{key:"consumeStatementTerminator",value:function(){this.consumeOptionalCharacter(59)||this.consumeOptionalCharacter(44)}},{key:"error",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;this.errors.push(new ps(e,this.input,this.locationText(t),this.location)),this.skip()}},{key:"locationText",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return null==e&&(e=this.index),e<this.tokens.length?"at column ".concat(this.tokens[e].index+1," in"):"at the end of the expression"}},{key:"skip",value:function(){for(var e=this.next;!(!(this.index<this.tokens.length)||e.isCharacter(59)||e.isOperator("|")||!(this.rparensExpected<=0)&&e.isCharacter(41)||!(this.rbracesExpected<=0)&&e.isCharacter(125)||!(this.rbracketsExpected<=0)&&e.isCharacter(93)||this.context&pl.Writable&&e.isOperator("="));)this.next.isError()&&this.errors.push(new ps(this.next.toString(),this.input,this.locationText(),this.location)),this.advance(),e=this.next}}]),e}(),bl=function(){function e(){Object(b.a)(this,e),this.errors=[]}return Object(k.a)(e,[{key:"visitImplicitReceiver",value:function(e,t){}},{key:"visitThisReceiver",value:function(e,t){}},{key:"visitInterpolation",value:function(e,t){}},{key:"visitLiteralPrimitive",value:function(e,t){}},{key:"visitPropertyRead",value:function(e,t){}},{key:"visitPropertyWrite",value:function(e,t){}},{key:"visitSafePropertyRead",value:function(e,t){}},{key:"visitMethodCall",value:function(e,t){}},{key:"visitSafeMethodCall",value:function(e,t){}},{key:"visitFunctionCall",value:function(e,t){}},{key:"visitLiteralArray",value:function(e,t){this.visitAll(e.expressions,t)}},{key:"visitLiteralMap",value:function(e,t){this.visitAll(e.values,t)}},{key:"visitUnary",value:function(e,t){}},{key:"visitBinary",value:function(e,t){}},{key:"visitPrefixNot",value:function(e,t){}},{key:"visitNonNullAssert",value:function(e,t){}},{key:"visitConditional",value:function(e,t){}},{key:"visitPipe",value:function(e,t){this.errors.push("pipes")}},{key:"visitKeyedRead",value:function(e,t){}},{key:"visitKeyedWrite",value:function(e,t){}},{key:"visitAll",value:function(e,t){var n=this;return e.map(function(e){return e.visit(n,t)})}},{key:"visitChain",value:function(e,t){}},{key:"visitQuote",value:function(e,t){}}]),e}(),kl=function(e){Object(m.a)(n,e);var t=Object(y.a)(n);function n(){var e;return Object(b.a)(this,n),(e=t.apply(this,arguments)).errors=[],e}return Object(k.a)(n,[{key:"visitPipe",value:function(){this.errors.push("pipes")}}]),n}(qs);function El(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return en(Object.keys(e).map(function(n){return{key:n,quoted:t,value:e[n]}}))}function _l(){return yl||(yl={},Sl(X.HTML,["iframe|srcdoc","*|innerHTML","*|outerHTML"]),Sl(X.STYLE,["*|style"]),Sl(X.URL,["*|formAction","area|href","area|ping","audio|src","a|href","a|ping","blockquote|cite","body|background","del|cite","form|action","img|src","img|srcset","input|src","ins|cite","q|cite","source|src","source|srcset","track|src","video|poster","video|src"]),Sl(X.RESOURCE_URL,["applet|code","applet|codebase","base|href","embed|src","frame|src","head|profile","html|manifest","iframe|src","link|href","media|src","object|codebase","object|data","script|src"])),yl}function Sl(e,t){var n,r=Object(v.a)(t);try{for(r.s();!(n=r.n()).done;){var i=n.value;yl[i.toLowerCase()]=e}}catch(a){r.e(a)}finally{r.f()}}var xl=function e(){Object(b.a)(this,e)},wl=["[Element]|textContent,%classList,className,id,innerHTML,*beforecopy,*beforecut,*beforepaste,*copy,*cut,*paste,*search,*selectstart,*webkitfullscreenchange,*webkitfullscreenerror,*wheel,outerHTML,#scrollLeft,#scrollTop,slot,*message,*mozfullscreenchange,*mozfullscreenerror,*mozpointerlockchange,*mozpointerlockerror,*webglcontextcreationerror,*webglcontextlost,*webglcontextrestored","[HTMLElement]^[Element]|accessKey,contentEditable,dir,!draggable,!hidden,innerText,lang,*abort,*auxclick,*blur,*cancel,*canplay,*canplaythrough,*change,*click,*close,*contextmenu,*cuechange,*dblclick,*drag,*dragend,*dragenter,*dragleave,*dragover,*dragstart,*drop,*durationchange,*emptied,*ended,*error,*focus,*gotpointercapture,*input,*invalid,*keydown,*keypress,*keyup,*load,*loadeddata,*loadedmetadata,*loadstart,*lostpointercapture,*mousedown,*mouseenter,*mouseleave,*mousemove,*mouseout,*mouseover,*mouseup,*mousewheel,*pause,*play,*playing,*pointercancel,*pointerdown,*pointerenter,*pointerleave,*pointermove,*pointerout,*pointerover,*pointerup,*progress,*ratechange,*reset,*resize,*scroll,*seeked,*seeking,*select,*show,*stalled,*submit,*suspend,*timeupdate,*toggle,*volumechange,*waiting,outerText,!spellcheck,%style,#tabIndex,title,!translate","abbr,address,article,aside,b,bdi,bdo,cite,code,dd,dfn,dt,em,figcaption,figure,footer,header,i,kbd,main,mark,nav,noscript,rb,rp,rt,rtc,ruby,s,samp,section,small,strong,sub,sup,u,var,wbr^[HTMLElement]|accessKey,contentEditable,dir,!draggable,!hidden,innerText,lang,*abort,*auxclick,*blur,*cancel,*canplay,*canplaythrough,*change,*click,*close,*contextmenu,*cuechange,*dblclick,*drag,*dragend,*dragenter,*dragleave,*dragover,*dragstart,*drop,*durationchange,*emptied,*ended,*error,*focus,*gotpointercapture,*input,*invalid,*keydown,*keypress,*keyup,*load,*loadeddata,*loadedmetadata,*loadstart,*lostpointercapture,*mousedown,*mouseenter,*mouseleave,*mousemove,*mouseout,*mouseover,*mouseup,*mousewheel,*pause,*play,*playing,*pointercancel,*pointerdown,*pointerenter,*pointerleave,*pointermove,*pointerout,*pointerover,*pointerup,*progress,*ratechange,*reset,*resize,*scroll,*seeked,*seeking,*select,*show,*stalled,*submit,*suspend,*timeupdate,*toggle,*volumechange,*waiting,outerText,!spellcheck,%style,#tabIndex,title,!translate","media^[HTMLElement]|!autoplay,!controls,%controlsList,%crossOrigin,#currentTime,!defaultMuted,#defaultPlaybackRate,!disableRemotePlayback,!loop,!muted,*encrypted,*waitingforkey,#playbackRate,preload,src,%srcObject,#volume",":svg:^[HTMLElement]|*abort,*auxclick,*blur,*cancel,*canplay,*canplaythrough,*change,*click,*close,*contextmenu,*cuechange,*dblclick,*drag,*dragend,*dragenter,*dragleave,*dragover,*dragstart,*drop,*durationchange,*emptied,*ended,*error,*focus,*gotpointercapture,*input,*invalid,*keydown,*keypress,*keyup,*load,*loadeddata,*loadedmetadata,*loadstart,*lostpointercapture,*mousedown,*mouseenter,*mouseleave,*mousemove,*mouseout,*mouseover,*mouseup,*mousewheel,*pause,*play,*playing,*pointercancel,*pointerdown,*pointerenter,*pointerleave,*pointermove,*pointerout,*pointerover,*pointerup,*progress,*ratechange,*reset,*resize,*scroll,*seeked,*seeking,*select,*show,*stalled,*submit,*suspend,*timeupdate,*toggle,*volumechange,*waiting,%style,#tabIndex",":svg:graphics^:svg:|",":svg:animation^:svg:|*begin,*end,*repeat",":svg:geometry^:svg:|",":svg:componentTransferFunction^:svg:|",":svg:gradient^:svg:|",":svg:textContent^:svg:graphics|",":svg:textPositioning^:svg:textContent|","a^[HTMLElement]|charset,coords,download,hash,host,hostname,href,hreflang,name,password,pathname,ping,port,protocol,referrerPolicy,rel,rev,search,shape,target,text,type,username","area^[HTMLElement]|alt,coords,download,hash,host,hostname,href,!noHref,password,pathname,ping,port,protocol,referrerPolicy,rel,search,shape,target,username","audio^media|","br^[HTMLElement]|clear","base^[HTMLElement]|href,target","body^[HTMLElement]|aLink,background,bgColor,link,*beforeunload,*blur,*error,*focus,*hashchange,*languagechange,*load,*message,*offline,*online,*pagehide,*pageshow,*popstate,*rejectionhandled,*resize,*scroll,*storage,*unhandledrejection,*unload,text,vLink","button^[HTMLElement]|!autofocus,!disabled,formAction,formEnctype,formMethod,!formNoValidate,formTarget,name,type,value","canvas^[HTMLElement]|#height,#width","content^[HTMLElement]|select","dl^[HTMLElement]|!compact","datalist^[HTMLElement]|","details^[HTMLElement]|!open","dialog^[HTMLElement]|!open,returnValue","dir^[HTMLElement]|!compact","div^[HTMLElement]|align","embed^[HTMLElement]|align,height,name,src,type,width","fieldset^[HTMLElement]|!disabled,name","font^[HTMLElement]|color,face,size","form^[HTMLElement]|acceptCharset,action,autocomplete,encoding,enctype,method,name,!noValidate,target","frame^[HTMLElement]|frameBorder,longDesc,marginHeight,marginWidth,name,!noResize,scrolling,src","frameset^[HTMLElement]|cols,*beforeunload,*blur,*error,*focus,*hashchange,*languagechange,*load,*message,*offline,*online,*pagehide,*pageshow,*popstate,*rejectionhandled,*resize,*scroll,*storage,*unhandledrejection,*unload,rows","hr^[HTMLElement]|align,color,!noShade,size,width","head^[HTMLElement]|","h1,h2,h3,h4,h5,h6^[HTMLElement]|align","html^[HTMLElement]|version","iframe^[HTMLElement]|align,!allowFullscreen,frameBorder,height,longDesc,marginHeight,marginWidth,name,referrerPolicy,%sandbox,scrolling,src,srcdoc,width","img^[HTMLElement]|align,alt,border,%crossOrigin,#height,#hspace,!isMap,longDesc,lowsrc,name,referrerPolicy,sizes,src,srcset,useMap,#vspace,#width","input^[HTMLElement]|accept,align,alt,autocapitalize,autocomplete,!autofocus,!checked,!defaultChecked,defaultValue,dirName,!disabled,%files,formAction,formEnctype,formMethod,!formNoValidate,formTarget,#height,!incremental,!indeterminate,max,#maxLength,min,#minLength,!multiple,name,pattern,placeholder,!readOnly,!required,selectionDirection,#selectionEnd,#selectionStart,#size,src,step,type,useMap,value,%valueAsDate,#valueAsNumber,#width","li^[HTMLElement]|type,#value","label^[HTMLElement]|htmlFor","legend^[HTMLElement]|align","link^[HTMLElement]|as,charset,%crossOrigin,!disabled,href,hreflang,integrity,media,referrerPolicy,rel,%relList,rev,%sizes,target,type","map^[HTMLElement]|name","marquee^[HTMLElement]|behavior,bgColor,direction,height,#hspace,#loop,#scrollAmount,#scrollDelay,!trueSpeed,#vspace,width","menu^[HTMLElement]|!compact","meta^[HTMLElement]|content,httpEquiv,name,scheme","meter^[HTMLElement]|#high,#low,#max,#min,#optimum,#value","ins,del^[HTMLElement]|cite,dateTime","ol^[HTMLElement]|!compact,!reversed,#start,type","object^[HTMLElement]|align,archive,border,code,codeBase,codeType,data,!declare,height,#hspace,name,standby,type,useMap,#vspace,width","optgroup^[HTMLElement]|!disabled,label","option^[HTMLElement]|!defaultSelected,!disabled,label,!selected,text,value","output^[HTMLElement]|defaultValue,%htmlFor,name,value","p^[HTMLElement]|align","param^[HTMLElement]|name,type,value,valueType","picture^[HTMLElement]|","pre^[HTMLElement]|#width","progress^[HTMLElement]|#max,#value","q,blockquote,cite^[HTMLElement]|","script^[HTMLElement]|!async,charset,%crossOrigin,!defer,event,htmlFor,integrity,src,text,type","select^[HTMLElement]|autocomplete,!autofocus,!disabled,#length,!multiple,name,!required,#selectedIndex,#size,value","shadow^[HTMLElement]|","slot^[HTMLElement]|name","source^[HTMLElement]|media,sizes,src,srcset,type","span^[HTMLElement]|","style^[HTMLElement]|!disabled,media,type","caption^[HTMLElement]|align","th,td^[HTMLElement]|abbr,align,axis,bgColor,ch,chOff,#colSpan,headers,height,!noWrap,#rowSpan,scope,vAlign,width","col,colgroup^[HTMLElement]|align,ch,chOff,#span,vAlign,width","table^[HTMLElement]|align,bgColor,border,%caption,cellPadding,cellSpacing,frame,rules,summary,%tFoot,%tHead,width","tr^[HTMLElement]|align,bgColor,ch,chOff,vAlign","tfoot,thead,tbody^[HTMLElement]|align,ch,chOff,vAlign","template^[HTMLElement]|","textarea^[HTMLElement]|autocapitalize,autocomplete,!autofocus,#cols,defaultValue,dirName,!disabled,#maxLength,#minLength,name,placeholder,!readOnly,!required,#rows,selectionDirection,#selectionEnd,#selectionStart,value,wrap","title^[HTMLElement]|text","track^[HTMLElement]|!default,kind,label,src,srclang","ul^[HTMLElement]|!compact,type","unknown^[HTMLElement]|","video^media|#height,poster,#width",":svg:a^:svg:graphics|",":svg:animate^:svg:animation|",":svg:animateMotion^:svg:animation|",":svg:animateTransform^:svg:animation|",":svg:circle^:svg:geometry|",":svg:clipPath^:svg:graphics|",":svg:defs^:svg:graphics|",":svg:desc^:svg:|",":svg:discard^:svg:|",":svg:ellipse^:svg:geometry|",":svg:feBlend^:svg:|",":svg:feColorMatrix^:svg:|",":svg:feComponentTransfer^:svg:|",":svg:feComposite^:svg:|",":svg:feConvolveMatrix^:svg:|",":svg:feDiffuseLighting^:svg:|",":svg:feDisplacementMap^:svg:|",":svg:feDistantLight^:svg:|",":svg:feDropShadow^:svg:|",":svg:feFlood^:svg:|",":svg:feFuncA^:svg:componentTransferFunction|",":svg:feFuncB^:svg:componentTransferFunction|",":svg:feFuncG^:svg:componentTransferFunction|",":svg:feFuncR^:svg:componentTransferFunction|",":svg:feGaussianBlur^:svg:|",":svg:feImage^:svg:|",":svg:feMerge^:svg:|",":svg:feMergeNode^:svg:|",":svg:feMorphology^:svg:|",":svg:feOffset^:svg:|",":svg:fePointLight^:svg:|",":svg:feSpecularLighting^:svg:|",":svg:feSpotLight^:svg:|",":svg:feTile^:svg:|",":svg:feTurbulence^:svg:|",":svg:filter^:svg:|",":svg:foreignObject^:svg:graphics|",":svg:g^:svg:graphics|",":svg:image^:svg:graphics|",":svg:line^:svg:geometry|",":svg:linearGradient^:svg:gradient|",":svg:mpath^:svg:|",":svg:marker^:svg:|",":svg:mask^:svg:|",":svg:metadata^:svg:|",":svg:path^:svg:geometry|",":svg:pattern^:svg:|",":svg:polygon^:svg:geometry|",":svg:polyline^:svg:geometry|",":svg:radialGradient^:svg:gradient|",":svg:rect^:svg:geometry|",":svg:svg^:svg:graphics|#currentScale,#zoomAndPan",":svg:script^:svg:|type",":svg:set^:svg:animation|",":svg:stop^:svg:|",":svg:style^:svg:|!disabled,media,title,type",":svg:switch^:svg:graphics|",":svg:symbol^:svg:|",":svg:tspan^:svg:textPositioning|",":svg:text^:svg:textPositioning|",":svg:textPath^:svg:textContent|",":svg:title^:svg:|",":svg:use^:svg:graphics|",":svg:view^:svg:|#zoomAndPan","data^[HTMLElement]|value","keygen^[HTMLElement]|!autofocus,challenge,!disabled,form,keytype,name","menuitem^[HTMLElement]|type,label,icon,!disabled,!checked,radiogroup,!default","summary^[HTMLElement]|","time^[HTMLElement]|dateTime",":svg:cursor^:svg:|"],Cl={class:"className",for:"htmlFor",formaction:"formAction",innerHtml:"innerHTML",readonly:"readOnly",tabindex:"tabIndex"},Ol=Object.keys(Cl).reduce(function(e,t){return e[Cl[t]]=t,e},{}),Tl=function(e){Object(m.a)(n,e);var t=Object(y.a)(n);function n(){var e;return Object(b.a)(this,n),(e=t.call(this))._schema={},wl.forEach(function(t){var n={},r=t.split("|"),i=Object(h.a)(r,2),a=i[0],s=i[1].split(","),o=a.split("^"),u=Object(h.a)(o,2),c=u[0],l=u[1];c.split(",").forEach(function(t){return e._schema[t.toLowerCase()]=n});var p=l&&e._schema[l.toLowerCase()];p&&Object.keys(p).forEach(function(e){n[e]=p[e]}),s.forEach(function(e){if(e.length>0)switch(e[0]){case"*":break;case"!":n[e.substring(1)]="boolean";break;case"#":n[e.substring(1)]="number";break;case"%":n[e.substring(1)]="object";break;default:n[e]="string"}})}),e}return Object(k.a)(n,[{key:"hasProperty",value:function(e,t,n){if(n.some(function(e){return e.name===ae.name}))return!0;if(e.indexOf("-")>-1){if(_(e)||S(e))return!1;if(n.some(function(e){return e.name===ie.name}))return!0}return!!(this._schema[e.toLowerCase()]||this._schema.unknown)[t]}},{key:"hasElement",value:function(e,t){if(t.some(function(e){return e.name===ae.name}))return!0;if(e.indexOf("-")>-1){if(_(e)||S(e))return!0;if(t.some(function(e){return e.name===ie.name}))return!0}return!!this._schema[e.toLowerCase()]}},{key:"securityContext",value:function(e,t,n){n&&(t=this.getMappedPropName(t)),e=e.toLowerCase(),t=t.toLowerCase();var r=_l()[e+"|"+t];return r||((r=_l()["*|"+t])||X.NONE)}},{key:"getMappedPropName",value:function(e){return Cl[e]||e}},{key:"getDefaultComponentElementName",value:function(){return"ng-component"}},{key:"validateProperty",value:function(e){return e.toLowerCase().startsWith("on")?{error:!0,msg:"Binding to event property '".concat(e,"' is disallowed for security reasons, ")+"please use (".concat(e.slice(2),")=...")+"\nIf '".concat(e,"' is a directive input, make sure the directive is imported by the")+" current module."}:{error:!1}}},{key:"validateAttribute",value:function(e){return e.toLowerCase().startsWith("on")?{error:!0,msg:"Binding to event attribute '".concat(e,"' is disallowed for security reasons, ")+"please use (".concat(e.slice(2),")=...")}:{error:!1}}},{key:"allKnownElementNames",value:function(){return Object.keys(this._schema)}},{key:"allKnownAttributesOfElement",value:function(e){var t=this._schema[e.toLowerCase()]||this._schema.unknown;return Object.keys(t).map(function(e){var t;return null!==(t=Ol[e])&&void 0!==t?t:e})}},{key:"normalizeAnimationStyleProperty",value:function(e){return e.replace(_n,function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t[1].toUpperCase()})}},{key:"normalizeAnimationStyleValue",value:function(e,t,n){var r="",i=n.toString().trim(),a=null;if(function(e){switch(e){case"width":case"height":case"minWidth":case"minHeight":case"maxWidth":case"maxHeight":case"left":case"top":case"bottom":case"right":case"fontSize":case"outlineWidth":case"outlineOffset":case"paddingTop":case"paddingLeft":case"paddingBottom":case"paddingRight":case"marginTop":case"marginLeft":case"marginBottom":case"marginRight":case"borderRadius":case"borderWidth":case"borderTopWidth":case"borderLeftWidth":case"borderRightWidth":case"borderBottomWidth":case"textIndent":return!0;default:return!1}}(e)&&0!==n&&"0"!==n)if("number"==typeof n)r="px";else{var s=n.match(/^[+-]?[\d\.]+([a-z]*)$/);s&&0==s[1].length&&(a="Please provide a CSS unit value for ".concat(t,":").concat(n))}return{error:a,value:i+r}}}]),n}(xl);var jl=new Set(["iframe|srcdoc","*|innerhtml","*|outerhtml","embed|src","object|codebase","object|data"]);function Nl(e,t){return e=e.toLowerCase(),t=t.toLowerCase(),jl.has(e+"|"+t)||jl.has("*|"+t)}var Ml=/^(?:(bind-)|(let-)|(ref-|#)|(on-)|(bindon-)|(@))(.*)$/,Al={start:"[(",end:")]"},Pl={start:"[",end:"]"},Il={start:"(",end:")"};function Rl(e,t,n){var r=new Fl(t,n),i={nodes:su(r,e),errors:t.errors.concat(r.errors),styleUrls:r.styleUrls,styles:r.styles,ngContentSelectors:r.ngContentSelectors};return n.collectCommentNodes&&(i.commentNodes=r.commentNodes),i}var Dl,Fl=function(){function e(t,n){Object(b.a)(this,e),this.bindingParser=t,this.options=n,this.errors=[],this.styles=[],this.styleUrls=[],this.ngContentSelectors=[],this.commentNodes=[],this.inI18nBlock=!1}return Object(k.a)(e,[{key:"visitElement",value:function(e){var t=this,n=ta(e.i18n);n&&(this.inI18nBlock&&this.reportError("Cannot mark an element as translatable inside of a translatable section. Please remove the nested i18n marker.",e.sourceSpan),this.inI18nBlock=!0);var r,i=Oc(e);if(i.type===Cc.SCRIPT)return null;if(i.type===Cc.STYLE){var a=1===(r=e).children.length&&r.children[0]instanceof eu?r.children[0].value:null;return null!==a&&this.styles.push(a),null}if(i.type===Cc.STYLESHEET&&yc(i.hrefAttr))return this.styleUrls.push(i.hrefAttr),null;var s,o=x(e.name),u=[],c=[],l=[],h=[],p=[],f={},d=[],m=[],y=!1,b=Object(v.a)(e.attrs);try{for(b.s();!(s=b.n()).done;){var k=s.value,E=!1,_=Bl(k.name),S=!1;if(k.i18n&&(f[k.name]=k.i18n),_.startsWith("*")){y&&this.reportError("Can't have multiple template bindings on one element. Use only one attribute prefixed with *",k.sourceSpan),S=!0,y=!0;var w=k.value,C=_.substring("*".length),O=[],T=k.valueSpan?k.valueSpan.start.offset:k.sourceSpan.start.offset+k.name.length;this.bindingParser.parseInlineTemplateBinding(C,w,k.sourceSpan,T,[],d,O,!0),m.push.apply(m,Object(g.a)(O.map(function(e){return new Jr(e.name,e.value,e.sourceSpan,e.keySpan,e.valueSpan)})))}else E=this.parseAttribute(o,k,[],u,c,l,h);E||S||p.push(this.visitAttribute(k))}}catch(B){b.e(B)}finally{b.f()}var j,N=su(i.nonBindable?Ll:this,e.children);if(i.type===Cc.NG_CONTENT){e.children&&!e.children.every(function(e){return function(e){return e instanceof eu&&0==e.value.trim().length}(e)||function(e){return e instanceof au}(e)})&&this.reportError("<ng-content> element cannot have content.",e.sourceSpan);var M=i.selectAttr,A=e.attrs.map(function(e){return t.visitAttribute(e)});j=new Yr(M,A,e.sourceSpan,e.i18n),this.ngContentSelectors.push(M)}else if(o){var P=this.extractAttributes(e.name,u,f);j=new $r(e.name,p,P.bound,c,[],N,h,l,e.sourceSpan,e.startSourceSpan,e.endSourceSpan,e.i18n)}else{var I=this.extractAttributes(e.name,u,f);j=new Gr(e.name,p,I.bound,c,N,h,e.sourceSpan,e.startSourceSpan,e.endSourceSpan,e.i18n)}if(y){var R=this.extractAttributes("ng-template",d,f),D=[];R.literal.forEach(function(e){return D.push(e)}),R.bound.forEach(function(e){return D.push(e)});var F=j instanceof Gr?{attributes:j.attributes,inputs:j.inputs,outputs:j.outputs}:{attributes:[],inputs:[],outputs:[]},L=o&&n?void 0:e.i18n;j=new $r(j.name,F.attributes,F.inputs,F.outputs,D,[j],[],m,e.sourceSpan,e.startSourceSpan,e.endSourceSpan,L)}return n&&(this.inI18nBlock=!1),j}},{key:"visitAttribute",value:function(e){return new Kr(e.name,e.value,e.sourceSpan,e.keySpan,e.valueSpan,e.i18n)}},{key:"visitText",value:function(e){return this._visitTextWithInterpolation(e.value,e.sourceSpan,e.i18n)}},{key:"visitExpansion",value:function(e){var t=this;if(!e.i18n)return null;if(!ta(e.i18n))throw new Error('Invalid type "'.concat(e.i18n.constructor,'" for "i18n" property of ').concat(e.sourceSpan.toString(),'. Expected a "Message"'));var n=e.i18n,r={},i={};return Object.keys(n.placeholders).forEach(function(e){var a=n.placeholders[e];if(e.startsWith("VAR_")){var s=e.trim(),o=t.bindingParser.parseInterpolationExpression(a.text,a.sourceSpan);r[s]=new zr(o,a.sourceSpan)}else i[e]=t._visitTextWithInterpolation(a.text,a.sourceSpan)}),new ei(r,i,e.sourceSpan,n)}},{key:"visitExpansionCase",value:function(e){return null}},{key:"visitComment",value:function(e){return this.options.collectCommentNodes&&this.commentNodes.push(new qr(e.value||"",e.sourceSpan)),null}},{key:"extractAttributes",value:function(e,t,n){var r=this,i=[],a=[];return t.forEach(function(t){var s=n[t.name];if(t.isLiteral)a.push(new Kr(t.name,t.expression.source||"",t.sourceSpan,t.keySpan,t.valueSpan,s));else{var o=r.bindingParser.createBoundElementProperty(e,t,!0,!1);i.push(Qr.fromBoundElementProperty(o,s))}}),{bound:i,literal:a}}},{key:"parseAttribute",value:function(e,t,n,r,i,a,s){var o=Bl(t.name),u=t.value,c=t.sourceSpan,l=t.valueSpan?t.valueSpan.start.offset:c.start.offset;function h(e,n,r){var i=t.name.length-o.length,a=e.start.moveBy(n.length+i),s=a.moveBy(r.length);return new es(a,s,a,r)}var p=o.match(Ml);if(p){if(null!=p[1]){var v=p[7],f=h(c,p[1],v);this.bindingParser.parsePropertyBinding(v,u,!1,c,l,t.valueSpan,n,r,f)}else if(p[2])if(e){var d=p[7],m=h(c,p[2],d);this.parseVariable(d,u,c,m,t.valueSpan,a)}else this.reportError('"let-" is only supported on ng-template elements.',c);else if(p[3]){var y=p[7],g=h(c,p[3],y);this.parseReference(y,u,c,g,t.valueSpan,s)}else if(p[4]){var b=[],k=p[7],E=h(c,p[4],k);this.bindingParser.parseEvent(k,u,c,t.valueSpan||c,n,b,E),Vl(b,i)}else if(p[5]){var _=p[7],S=h(c,p[5],_);this.bindingParser.parsePropertyBinding(_,u,!1,c,l,t.valueSpan,n,r,S),this.parseAssignmentEvent(_,u,c,t.valueSpan,n,i,S)}else if(p[6]){var x=h(c,"",o);this.bindingParser.parseLiteralAttr(o,u,c,l,t.valueSpan,n,r,x)}return!0}var w=null;if(o.startsWith(Al.start)?w=Al:o.startsWith(Pl.start)?w=Pl:o.startsWith(Il.start)&&(w=Il),null!==w&&o.endsWith(w.end)&&o.length>w.start.length+w.end.length){var C=o.substring(w.start.length,o.length-w.end.length),O=h(c,w.start,C);if(w.start===Al.start)this.bindingParser.parsePropertyBinding(C,u,!1,c,l,t.valueSpan,n,r,O),this.parseAssignmentEvent(C,u,c,t.valueSpan,n,i,O);else if(w.start===Pl.start)this.bindingParser.parsePropertyBinding(C,u,!1,c,l,t.valueSpan,n,r,O);else{var T=[];this.bindingParser.parseEvent(C,u,c,t.valueSpan||c,n,T,O),Vl(T,i)}return!0}var j=h(c,"",o);return this.bindingParser.parsePropertyInterpolation(o,u,c,t.valueSpan,n,r,j)}},{key:"_visitTextWithInterpolation",value:function(e,t,n){var r=Fu(e),i=this.bindingParser.parseInterpolation(r,t);return i?new zr(i,t,n):new Wr(r,t)}},{key:"parseVariable",value:function(e,t,n,r,i,a){e.indexOf("-")>-1?this.reportError('"-" is not allowed in variable names',n):0===e.length&&this.reportError("Variable does not have a name",n),a.push(new Jr(e,t,n,r,i))}},{key:"parseReference",value:function(e,t,n,r,i,a){e.indexOf("-")>-1?this.reportError('"-" is not allowed in reference names',n):0===e.length?this.reportError("Reference does not have a name",n):a.some(function(t){return t.name===e})&&this.reportError('Reference "#'.concat(e,'" is defined more than once'),n),a.push(new Zr(e,t,n,r,i))}},{key:"parseAssignmentEvent",value:function(e,t,n,r,i,a,s){var o=[];this.bindingParser.parseEvent("".concat(e,"Change"),"".concat(t,"=$event"),n,r||n,i,o,s),Vl(o,a)}},{key:"reportError",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Ya.ERROR;this.errors.push(new ts(t,e,n))}}]),e}(),Ll=new(function(){function e(){Object(b.a)(this,e)}return Object(k.a)(e,[{key:"visitElement",value:function(e){var t=Oc(e);if(t.type===Cc.SCRIPT||t.type===Cc.STYLE||t.type===Cc.STYLESHEET)return null;var n=su(this,e.children,null);return new Gr(e.name,su(this,e.attrs),[],[],n,[],e.sourceSpan,e.startSourceSpan,e.endSourceSpan)}},{key:"visitComment",value:function(e){return null}},{key:"visitAttribute",value:function(e){return new Kr(e.name,e.value,e.sourceSpan,e.keySpan,e.valueSpan,e.i18n)}},{key:"visitText",value:function(e){return new Wr(e.value,e.sourceSpan)}},{key:"visitExpansion",value:function(e){return null}},{key:"visitExpansionCase",value:function(e){return null}}]),e}());function Bl(e){return/^data-/i.test(e)?e.substring(5):e}function Vl(e,t){t.push.apply(t,Object(g.a)(e.map(function(e){return Xr.fromParsedEvent(e)})))}function Ul(){return{getUniqueId:sa(),icus:new Map}}!function(e){e[e.ELEMENT=0]="ELEMENT",e[e.TEMPLATE=1]="TEMPLATE"}(Dl||(Dl={}));var Hl=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,a=arguments.length>4?arguments[4]:void 0,s=arguments.length>5?arguments[5]:void 0;Object(b.a)(this,e),this.index=t,this.ref=n,this.level=r,this.templateIndex=i,this.meta=a,this.registry=s,this.bindings=new Set,this.placeholders=new Map,this.isEmitted=!1,this._unresolvedCtxCount=0,this._registry=s||Ul(),this.id=this._registry.getUniqueId()}return Object(k.a)(e,[{key:"appendTag",value:function(e,t,n,r){if(!t.isVoid||!r){var i=t.isVoid||!r?t.startName:t.closeName,a={type:e,index:n,ctx:this.id,isVoid:t.isVoid,closed:r};ua(this.placeholders,i,a)}}},{key:"icus",get:function(){return this._registry.icus}},{key:"isRoot",get:function(){return 0===this.level}},{key:"isResolved",get:function(){return 0===this._unresolvedCtxCount}},{key:"getSerializedPlaceholders",value:function(){var e=new Map;return this.placeholders.forEach(function(t,n){return e.set(n,t.map(Kl))}),e}},{key:"appendBinding",value:function(e){this.bindings.add(e)}},{key:"appendIcu",value:function(e,t){ua(this._registry.icus,e,t)}},{key:"appendBoundText",value:function(e){var t=this;ca(e,this.bindings.size,this.id).forEach(function(e,n){return ua.apply(void 0,[t.placeholders,n].concat(Object(g.a)(e)))})}},{key:"appendTemplate",value:function(e,t){this.appendTag(Dl.TEMPLATE,e,t,!1),this.appendTag(Dl.TEMPLATE,e,t,!0),this._unresolvedCtxCount++}},{key:"appendElement",value:function(e,t,n){this.appendTag(Dl.ELEMENT,e,t,n)}},{key:"appendProjection",value:function(e,t){this.appendTag(Dl.ELEMENT,e,t,!1),this.appendTag(Dl.ELEMENT,e,t,!0)}},{key:"forkChildContext",value:function(t,n,r){return new e(t,this.ref,this.level+1,n,r,this._registry)}},{key:"reconcileChildContext",value:function(e){var t=this;["start","close"].forEach(function(n){var r=e.meta["".concat(n,"Name")],i=(t.placeholders.get(r)||[]).find(zl(t.id,e.templateIndex));i&&(i.ctx=e.id)}),e.placeholders.forEach(function(n,r){var i=t.placeholders.get(r);if(!i)return t.placeholders.set(r,n),void 0;var a=i.findIndex(zl(e.id,e.templateIndex));if(a>=0){var s=r.startsWith("CLOSE");if(r.endsWith("NG-TEMPLATE"))i.splice.apply(i,[a+(s?0:1),0].concat(Object(g.a)(n)));else n[s?n.length-1:0].tmpl=i[a],i.splice.apply(i,[a,1].concat(Object(g.a)(n)))}else i.push.apply(i,Object(g.a)(n));t.placeholders.set(r,i)}),this._unresolvedCtxCount--}}]),e}();function ql(e,t,n,r){var i=r?"/":"";return aa("".concat(i).concat(e).concat(t),n)}function Wl(e,t,n){var r=t.index,i=t.ctx;return t.isVoid?ql(e,r,i)+ql(e,r,i,!0):ql(e,r,i,n)}function zl(e,t){return function(n){return"object"==typeof n&&n.type===Dl.TEMPLATE&&n.index===t&&n.ctx===e}}function Kl(e){var t=function(e,t){return Wl("#",e,t)},n=function(e,t){return Wl("*",e,t)};switch(e.type){case Dl.ELEMENT:return e.closed?t(e,!0)+(e.tmpl?n(e.tmpl,!0):""):e.tmpl?n(e.tmpl)+t(e)+(e.isVoid?n(e.tmpl,!0):""):t(e);case Dl.TEMPLATE:return n(e,e.closed);default:return e}}var Ql=new(function(){function e(){Object(b.a)(this,e)}return Object(k.a)(e,[{key:"visitText",value:function(e){return e.value}},{key:"visitContainer",value:function(e){var t=this;return e.children.map(function(e){return e.visit(t)}).join("")}},{key:"visitIcu",value:function(e){var t=this,n=Object.keys(e.cases).map(function(n){return"".concat(n," {").concat(e.cases[n].visit(t),"}")});return"{".concat(e.expressionPlaceholder,", ").concat(e.type,", ").concat(n.join(" "),"}")}},{key:"visitTagPlaceholder",value:function(e){var t=this;return e.isVoid?this.formatPh(e.startName):"".concat(this.formatPh(e.startName)).concat(e.children.map(function(e){return e.visit(t)}).join("")).concat(this.formatPh(e.closeName))}},{key:"visitPlaceholder",value:function(e){return this.formatPh(e.name)}},{key:"visitIcuPlaceholder",value:function(e,t){return this.formatPh(e.name)}},{key:"formatPh",value:function(e){return"{".concat(ha(e,!1),"}")}}]),e}());function Xl(e){return e.visit(Ql)}var Gl={A:"LINK",B:"BOLD_TEXT",BR:"LINE_BREAK",EM:"EMPHASISED_TEXT",H1:"HEADING_LEVEL1",H2:"HEADING_LEVEL2",H3:"HEADING_LEVEL3",H4:"HEADING_LEVEL4",H5:"HEADING_LEVEL5",H6:"HEADING_LEVEL6",HR:"HORIZONTAL_RULE",I:"ITALIC_TEXT",LI:"LIST_ITEM",LINK:"MEDIA_LINK",OL:"ORDERED_LIST",P:"PARAGRAPH",Q:"QUOTATION",S:"STRIKETHROUGH_TEXT",SMALL:"SMALL_TEXT",SUB:"SUBSTRIPT",SUP:"SUPERSCRIPT",TBODY:"TABLE_BODY",TD:"TABLE_CELL",TFOOT:"TABLE_FOOTER",TH:"TABLE_HEADER_CELL",THEAD:"TABLE_HEADER",TR:"TABLE_ROW",TT:"MONOSPACED_TEXT",U:"UNDERLINED_TEXT",UL:"UNORDERED_LIST"},$l=function(){function e(){Object(b.a)(this,e),this._placeHolderNameCounts={},this._signatureToName={}}return Object(k.a)(e,[{key:"getStartTagPlaceholderName",value:function(e,t,n){var r=this._hashTag(e,t,n);if(this._signatureToName[r])return this._signatureToName[r];var i=e.toUpperCase(),a=Gl[i]||"TAG_".concat(i),s=this._generateUniqueName(n?a:"START_".concat(a));return this._signatureToName[r]=s,s}},{key:"getCloseTagPlaceholderName",value:function(e){var t=this._hashClosingTag(e);if(this._signatureToName[t])return this._signatureToName[t];var n=e.toUpperCase(),r=Gl[n]||"TAG_".concat(n),i=this._generateUniqueName("CLOSE_".concat(r));return this._signatureToName[t]=i,i}},{key:"getPlaceholderName",value:function(e,t){var n=e.toUpperCase(),r="PH: ".concat(n,"=").concat(t);if(this._signatureToName[r])return this._signatureToName[r];var i=this._generateUniqueName(n);return this._signatureToName[r]=i,i}},{key:"getUniquePlaceholder",value:function(e){return this._generateUniqueName(e.toUpperCase())}},{key:"_hashTag",value:function(e,t,n){return"<".concat(e)+Object.keys(t).sort().map(function(e){return" ".concat(e,"=").concat(t[e])}).join("")+(n?"/>":"></".concat(e,">"))}},{key:"_hashClosingTag",value:function(e){return this._hashTag("/".concat(e),{},!1)}},{key:"_generateUniqueName",value:function(e){if(!this._placeHolderNameCounts.hasOwnProperty(e))return this._placeHolderNameCounts[e]=1,e;var t=this._placeHolderNameCounts[e];return this._placeHolderNameCounts[e]=t+1,"".concat(e,"_").concat(t)}}]),e}(),Yl=new dl(new el);function Jl(e){var t=new eh(Yl,e);return function(e,n,r,i,a){return t.toI18nMessage(e,n,r,i,a)}}function Zl(e,t){return t}var eh=function(){function e(t,n){Object(b.a)(this,e),this._expressionParser=t,this._interpolationConfig=n}return Object(k.a)(e,[{key:"toI18nMessage",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",i=arguments.length>4?arguments[4]:void 0,a={isIcu:1==e.length&&e[0]instanceof tu,icuDepth:0,placeholderRegistry:new $l,placeholderToContent:{},placeholderToMessage:{},visitNodeFn:i||Zl},s=su(this,e,a);return new ri(s,a.placeholderToContent,a.placeholderToMessage,t,n,r)}},{key:"visitElement",value:function(e,t){var n,r=su(this,e.children,t),i={};e.attrs.forEach(function(e){i[e.name]=e.value});var a=A(e.name).isVoid,s=t.placeholderRegistry.getStartTagPlaceholderName(e.name,i,a);t.placeholderToContent[s]={text:e.startSourceSpan.toString(),sourceSpan:e.startSourceSpan};var o="";a||(o=t.placeholderRegistry.getCloseTagPlaceholderName(e.name),t.placeholderToContent[o]={text:"</".concat(e.name,">"),sourceSpan:null!==(n=e.endSourceSpan)&&void 0!==n?n:e.sourceSpan});var u=new oi(e.name,i,s,o,r,a,e.sourceSpan,e.startSourceSpan,e.endSourceSpan);return t.visitNodeFn(e,u)}},{key:"visitAttribute",value:function(e,t){var n=this._visitTextWithInterpolation(e.value,e.valueSpan||e.sourceSpan,t,e.i18n);return t.visitNodeFn(e,n)}},{key:"visitText",value:function(e,t){var n=this._visitTextWithInterpolation(e.value,e.sourceSpan,t,e.i18n);return t.visitNodeFn(e,n)}},{key:"visitComment",value:function(e,t){return null}},{key:"visitExpansion",value:function(e,t){var n=this;t.icuDepth++;var r={},i=new si(e.switchValue,e.type,r,e.sourceSpan);if(e.cases.forEach(function(e){r[e.value]=new ai(e.expression.map(function(e){return e.visit(n,t)}),e.expSourceSpan)}),t.icuDepth--,t.isIcu||t.icuDepth>0){var a=t.placeholderRegistry.getUniquePlaceholder("VAR_".concat(e.type));return i.expressionPlaceholder=a,t.placeholderToContent[a]={text:e.switchValue,sourceSpan:e.switchValueSourceSpan},t.visitNodeFn(e,i)}var s=t.placeholderRegistry.getPlaceholderName("ICU",e.sourceSpan.toString());t.placeholderToMessage[s]=this.toI18nMessage([e],"","","",void 0);var o=new ci(i,s,e.sourceSpan);return t.visitNodeFn(e,o)}},{key:"visitExpansionCase",value:function(e,t){throw new Error("Unreachable code")}},{key:"_visitTextWithInterpolation",value:function(e,t,n,r){var i=this._expressionParser.splitInterpolation(e,t.start.toString(),this._interpolationConfig),a=i.strings,s=i.expressions;if(0===s.length)return new ii(e,t);for(var o=[],u=0;u<a.length-1;u++)this._addText(o,a[u],t),this._addPlaceholder(o,n,s[u],t);return this._addText(o,a[a.length-1],t),function(e,t){t instanceof ri&&(!function(e){var t=e.nodes;if(1!==t.length||!(t[0]instanceof ai))throw new Error("Unexpected previous i18n message - expected it to consist of only a single `Container` node.")}(t),t=t.nodes[0]);if(t instanceof ai){!function(e,t){if(e.length!==t.length)throw new Error("The number of i18n message children changed between first and second pass.");if(e.some(function(e,n){return t[n].constructor!==e.constructor}))throw new Error("The types of the i18n message children changed between first and second pass.")}(t.children,e);for(var n=0;n<e.length;n++)e[n].sourceSpan=t.children[n].sourceSpan}}(o,r),new ai(o,t)}},{key:"_addText",value:function(e,t,n){if(t.text.length>0){var r=th(n,t);e.push(new ii(t.text,r))}}},{key:"_addPlaceholder",value:function(e,t,n,r){var i=th(r,n),a=n.text.split(nh)[2]||"INTERPOLATION",s=t.placeholderRegistry.getPlaceholderName(a,n.text),o=this._interpolationConfig.start+n.text+this._interpolationConfig.end;t.placeholderToContent[s]={text:o,sourceSpan:i},e.push(new ui(n.text,s,i))}}]),e}();function th(e,t){var n=t.start,r=t.end;return new es(e.fullStart.moveBy(n),e.fullStart.moveBy(r))}var nh=/\/\/[\s\S]*i18n[\s\S]*\([\s\S]*ph[\s\S]*=[\s\S]*("|')([\s\S]*?)\1[\s\S]*\)/g;var rh=function(e){Object(m.a)(n,e);var t=Object(y.a)(n);function n(e,r){return Object(b.a)(this,n),t.call(this,e,r)}return n}(ts),ih=function(e,t){return e instanceof Zo&&(t instanceof ci&&e.i18n instanceof ri&&(t.previousMessage=e.i18n),e.i18n=t),t},ah=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ba,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];Object(b.a)(this,e),this.interpolationConfig=t,this.keepI18nAttrs=n,this.enableI18nLegacyMessageIdFormat=r,this.hasI18nMeta=!1,this._errors=[],this._createI18nMessage=Jl(this.interpolationConfig)}return Object(k.a)(e,[{key:"_generateI18nMessage",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2?arguments[2]:void 0,r=this._parseMetadata(t),i=r.meaning,a=r.description,s=r.customId,o=this._createI18nMessage(e,i,a,s,n);return this._setMessageId(o,t),this._setLegacyIds(o,t),o}},{key:"visitAllWithErrors",value:function(e){var t=this,n=e.map(function(e){return e.visit(t,null)});return new ju(n,this._errors)}},{key:"visitElement",value:function(e){if(function(e){return e.attrs.some(function(e){return ea(e.name)})}(e)){this.hasI18nMeta=!0;var t,n=[],r={},i=Object(v.a)(e.attrs);try{for(i.s();!(t=i.n()).done;){var a=t.value;if("i18n"===a.name){var s=e.i18n||a.value,o=this._generateI18nMessage(e.children,s,ih);o.nodes.length&&(e.i18n=o)}else if(a.name.startsWith("i18n-")){var u=a.name.slice("i18n-".length);Nl(e.name,u)?this._reportError(a,"Translating attribute '".concat(u,"' is disallowed for security reasons.")):r[u]=a.value}else n.push(a)}}catch(f){i.e(f)}finally{i.f()}if(Object.keys(r).length){var c,l=Object(v.a)(n);try{for(l.s();!(c=l.n()).done;){var h=c.value,p=r[h.name];void 0!==p&&h.value&&(h.i18n=this._generateI18nMessage([h],h.i18n||p))}}catch(f){l.e(f)}finally{l.f()}}this.keepI18nAttrs||(e.attrs=n)}return su(this,e.children,e.i18n),e}},{key:"visitExpansion",value:function(e,t){var n,r=e.i18n;if(this.hasI18nMeta=!0,r instanceof ci){var i=r.name;ia(n=this._generateI18nMessage([e],r)).name=i}else n=this._generateI18nMessage([e],t||r);return e.i18n=n,e}},{key:"visitText",value:function(e){return e}},{key:"visitAttribute",value:function(e){return e}},{key:"visitComment",value:function(e){return e}},{key:"visitExpansionCase",value:function(e){return e}},{key:"_parseMetadata",value:function(e){return"string"==typeof e?function(){var e,t,n,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";if(r=r.trim()){var i,a=r.indexOf("@@"),s=r.indexOf("|"),o=a>-1?[r.slice(0,a),r.slice(a+2)]:[r,""],u=Object(h.a)(o,2);i=u[0],e=u[1];var c=s>-1?[i.slice(0,s),i.slice(s+1)]:["",i],l=Object(h.a)(c,2);t=l[0],n=l[1]}return{customId:e,meaning:t,description:n}}(e):e instanceof ri?e:{}}},{key:"_setMessageId",value:function(e,t){e.id||(e.id=t instanceof ri&&t.id||yi(e))}},{key:"_setLegacyIds",value:function(e,t){if(this.enableI18nLegacyMessageIdFormat)e.legacyIds=[mi(e),gi(e)];else if("string"!=typeof t){var n=t instanceof ri?t:t instanceof ci?t.previousMessage:void 0;e.legacyIds=n?n.legacyIds:[]}}},{key:"_reportError",value:function(e,t){this._errors.push(new rh(e.sourceSpan,t))}}]),e}();function sh(e,t,n,r){var i=[an(function(e){return e.nodes.map(function(e){return e.visit(oh,null)}).join("")}(t))];Object.keys(r).length&&i.push(El(r,!0));var a,s,o=n.set(Xt("goog.getMsg").callFn(i)).toConstDecl(),u=(s=[],(a=t).description&&s.push({tagName:"desc",text:a.description}),a.meaning&&s.push({tagName:"meaning",text:a.meaning}),0==s.length?null:Qt(s));return null!==u&&o.addLeadingComment(u),[o,new Ot(e.set(n))]}var oh=new(function(){function e(){Object(b.a)(this,e)}return Object(k.a)(e,[{key:"formatPh",value:function(e){return"{$".concat(ha(e),"}")}},{key:"visitText",value:function(e){return e.value}},{key:"visitContainer",value:function(e){var t=this;return e.children.map(function(e){return e.visit(t)}).join("")}},{key:"visitIcu",value:function(e){return Xl(e)}},{key:"visitTagPlaceholder",value:function(e){var t=this;return e.isVoid?this.formatPh(e.startName):"".concat(this.formatPh(e.startName)).concat(e.children.map(function(e){return e.visit(t)}).join("")).concat(this.formatPh(e.closeName))}},{key:"visitPlaceholder",value:function(e){return this.formatPh(e.name)}},{key:"visitIcuPlaceholder",value:function(e,t){return this.formatPh(e.name)}}]),e}());function uh(e,t,n){var r=function(e){var t=[];return e.nodes.forEach(function(e){return e.visit(ch,t)}),function(e){var t=[],n=[];e[0]instanceof Ye&&t.push(lh(e[0].sourceSpan.start));for(var r=0;r<e.length;r++){var i=e[r];i instanceof $e?t.push(i):(n.push(i),e[r-1]instanceof Ye&&t.push(lh(e[r-1].sourceSpan.end)))}e[e.length-1]instanceof Ye&&t.push(lh(e[e.length-1].sourceSpan.end));return{messageParts:t,placeHolders:n}}(t)}(t),i=r.messageParts,a=r.placeHolders,s=function(e){var t=e.nodes[0],n=e.nodes[e.nodes.length-1];return new es(t.sourceSpan.start,n.sourceSpan.end,t.sourceSpan.fullStart,t.sourceSpan.details)}(t),o=a.map(function(e){return n[e.text]}),u=function(e,t,n,r,i){return new Je(e,t,n,r,i)}(t,i,a,o,s),c=e.set(u);return[new Ot(c)]}var ch=new(function(){function e(){Object(b.a)(this,e)}return Object(k.a)(e,[{key:"visitText",value:function(e,t){t[t.length-1]instanceof $e?t[t.length-1].text+=e.value:t.push(new $e(e.value,e.sourceSpan))}},{key:"visitContainer",value:function(e,t){var n=this;e.children.forEach(function(e){return e.visit(n,t)})}},{key:"visitIcu",value:function(e,t){t.push(new $e(Xl(e),e.sourceSpan))}},{key:"visitTagPlaceholder",value:function(e,t){var n,r,i=this;t.push(this.createPlaceholderPiece(e.startName,null!==(n=e.startSourceSpan)&&void 0!==n?n:e.sourceSpan)),e.isVoid||(e.children.forEach(function(e){return e.visit(i,t)}),t.push(this.createPlaceholderPiece(e.closeName,null!==(r=e.endSourceSpan)&&void 0!==r?r:e.sourceSpan)))}},{key:"visitPlaceholder",value:function(e,t){t.push(this.createPlaceholderPiece(e.name,e.sourceSpan))}},{key:"visitIcuPlaceholder",value:function(e,t){t.push(this.createPlaceholderPiece(e.name,e.sourceSpan))}},{key:"createPlaceholderPiece",value:function(e,t){return new Ye(ha(e,!1),t)}}]),e}());function lh(e){return new $e("",new es(e,e))}var hh=new Set(["$event"]),ph=new Map([["window",_r.resolveWindow],["document",_r.resolveDocument],["body",_r.resolveBody]]),vh=[" ","\n","\r","\t"];function fh(e,t){return nn(Xt("rf").bitwiseAnd(an(e),null,!1),t)}function dh(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=e.type,i=e.name,a=e.target,s=e.phase,o=e.handler;if(a&&!ph.has(a))throw new Error("Unexpected global target '".concat(a,"' defined for '").concat(i,"' event.\n        Supported list of global targets: ").concat(Array.from(ph.keys()),"."));var u="$event",c=new Set,l=null===n||0===n.bindingLevel?Xt("ctx"):n.getOrCreateSharedContextVar(0),h=Js(n,l,o,"b",function(){return An("Unexpected interpolation")},e.handlerSpan,c,hh),p=[];n&&(p.push.apply(p,Object(g.a)(n.restoreViewStatement())),p.push.apply(p,Object(g.a)(n.variableDeclarations()))),p.push.apply(p,Object(g.a)(h.render3Stmts));var v=1===r?Lr(i,s):i,f=t&&Gn(t),d=[];c.has(u)&&d.push(new lt(u,xe));var m=tn(d,p,we,null,f),y=[an(v),m];return a&&y.push(an(!1),Gt(ph.get(a))),y}function mh(){return{prepareStatements:[],constExpressions:[],i18nVarRefsCache:new Map}}var yh=function(){function e(t,n){var r=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,a=arguments.length>3?arguments[3]:void 0,s=arguments.length>4?arguments[4]:void 0,o=arguments.length>5?arguments[5]:void 0,u=arguments.length>6?arguments[6]:void 0,c=arguments.length>7?arguments[7]:void 0,l=arguments.length>8?arguments[8]:void 0,h=arguments.length>9?arguments[9]:void 0,p=arguments.length>10?arguments[10]:void 0,v=arguments.length>11?arguments[11]:void 0,f=arguments.length>12?arguments[12]:void 0,d=arguments.length>13?arguments[13]:void 0,m=arguments.length>14&&void 0!==arguments[14]?arguments[14]:mh();Object(b.a)(this,e),this.constantPool=t,this.level=i,this.contextName=a,this.i18nContext=s,this.templateIndex=o,this.templateName=u,this.directiveMatcher=c,this.directives=l,this.pipeTypeByName=h,this.pipes=p,this._namespace=v,this.i18nUseExternalIds=d,this._constants=m,this._dataIndex=0,this._bindingContext=0,this._prefixCode=[],this._creationCodeFns=[],this._updateCodeFns=[],this._currentIndex=0,this._tempVariables=[],this._nestedTemplateFns=[],this._unsupported=ma,this.i18n=null,this._pureFunctionSlots=0,this._bindingSlots=0,this._ngContentReservedSlots=[],this._ngContentSelectorsOffset=0,this._implicitReceiverExpr=null,this.visitReference=ya,this.visitVariable=ya,this.visitTextAttribute=ya,this.visitBoundAttribute=ya,this.visitBoundEvent=ya,this._bindingScope=n.nestedScope(i),this.fileBasedI18nSuffix=f.replace(/[^A-Za-z0-9]/g,"_")+"_",this._valueConverter=new gh(t,function(){return r.allocateDataSlot()},function(e){return r.allocatePureFunctionSlots(e)},function(e,t,n,i){var a=h.get(e);a&&r.pipes.add(a),r._bindingScope.set(r.level,t,i),r.creationInstruction(null,_r.pipe,[an(n),an(e)])})}return Object(k.a)(e,[{key:"buildTemplateFunction",value:function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3?arguments[3]:void 0;this._ngContentSelectorsOffset=r,this._namespace!==_r.namespaceHTML&&this.creationInstruction(null,this._namespace),t.forEach(function(e){return n.registerContextVariables(e)});var a=this.i18nContext||ta(i)&&!na(i)&&!(Ih(e)&&e[0].i18n===i),s=Dh(e);if(a&&this.i18nStart(null,i,s),ni(this,e),this._pureFunctionSlots+=this._bindingSlots,this._valueConverter.updatePipeSlotOffsets(this._bindingSlots),this._nestedTemplateFns.forEach(function(e){return e()}),0===this.level&&this._ngContentReservedSlots.length){var o=[];if(this._ngContentReservedSlots.length>1||"*"!==this._ngContentReservedSlots[0]){var u=this._ngContentReservedSlots.map(function(e){return"*"!==e?ve(e):e});o.push(this.constantPool.getConstLiteral(ga(u),!0))}this.creationInstruction(null,_r.projectionDef,o,!0)}a&&this.i18nEnd(null,s);var c=this._creationCodeFns.map(function(e){return e()}),l=this._updateCodeFns.map(function(e){return e()}),h=this._bindingScope.viewSnapshotStatements(),p=this._bindingScope.variableDeclarations().concat(this._tempVariables),v=c.length>0?[fh(1,h.concat(c))]:[],f=l.length>0?[fh(2,p.concat(l))]:[];return tn([new lt("rf",Oe),new lt("ctx",null)],[].concat(Object(g.a)(this._prefixCode),v,f),we,null,this.templateName)}},{key:"getLocal",value:function(e){return this._bindingScope.get(e)}},{key:"notifyImplicitReceiverUse",value:function(){this._bindingScope.notifyImplicitReceiverUse()}},{key:"i18nTranslate",value:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0,a=r||this.i18nGenerateMainBlockVar(),s=this.i18nGenerateClosureVar(e.id),o=Fh(e,a,s,n,i);return(t=this._constants.prepareStatements).push.apply(t,Object(g.a)(o)),a}},{key:"registerContextVariables",value:function(e){var t=this._bindingScope.freshReferenceName(),n=this.level,r=Xt(e.name+t);this._bindingScope.set(n,e.name,r,1,function(t,i){var a;if(t.bindingLevel===n)a=Xt("ctx");else{var s=t.getSharedContextName(n);a=s||_h(i)}return[r.set(a.prop(e.value||"$implicit")).toConstDecl()]})}},{key:"i18nAppendBindings",value:function(e){var t=this;e.length>0&&e.forEach(function(e){return t.i18n.appendBinding(e)})}},{key:"i18nBindProps",value:function(e){var t=this,n={};return Object.keys(e).forEach(function(r){var i=e[r];if(i instanceof Wr)n[r]=an(i.value);else{var a=i.value.visit(t._valueConverter);if(t.allocateBindingSlots(a),a instanceof Ms){var s=a.strings,o=a.expressions,u=t.i18n,c=u.id,l=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(!e.length)return"";for(var r="",i=e.length-1,a=0;a<i;a++)r+="".concat(e[a]).concat(aa(t+a,n));return r+=e[i]}(s,u.bindings.size,c);t.i18nAppendBindings(o),n[r]=an(l)}}}),n}},{key:"i18nGenerateMainBlockVar",value:function(){return Xt(this.constantPool.uniqueName("i18n_"))}},{key:"i18nGenerateClosureVar",value:function(e){var t,n=this.fileBasedI18nSuffix.toUpperCase();if(this.i18nUseExternalIds){var r=pa("EXTERNAL_"),i=this.constantPool.uniqueName(n);t="".concat(r).concat(Gn(e),"$$").concat(i)}else{var a=pa(n);t=this.constantPool.uniqueName(a)}return Xt(t)}},{key:"i18nUpdateRef",value:function(e){var t=e.icus,n=e.meta,r=e.isRoot,i=e.isResolved,a=e.isEmitted;if(r&&i&&!a&&!na(n)){e.isEmitted=!0;var s,o=e.getSerializedPlaceholders(),u={},c=o.size?oa(o):{};t.size&&t.forEach(function(e,t){if(1===e.length)c[t]=e[0];else{var n=aa("".concat("I18N_EXP_").concat(t));c[t]=an(n),u[t]=Zt(e)}}),(Array.from(o.values()).some(function(e){return e.length>1})||Object.keys(u).length)&&(s=function(e){var t=[e];return Object.keys(u).length&&t.push(El(u,!0)),Eh(null,_r.i18nPostprocess,t)}),this.i18nTranslate(n,c,e.ref,s)}}},{key:"i18nStart",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0,r=this.allocateDataSlot();this.i18n=this.i18nContext?this.i18nContext.forkChildContext(r,this.templateIndex,t):new Hl(r,this.i18nGenerateMainBlockVar(),0,this.templateIndex,t);var i=this.i18n,a=i.id,s=i.ref,o=[an(r),this.addToConsts(s)];a>0&&o.push(an(a)),this.creationInstruction(e,n?_r.i18n:_r.i18nStart,o)}},{key:"i18nEnd",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=arguments.length>1?arguments[1]:void 0;if(!this.i18n)throw new Error("i18nEnd is executed with no i18n context present");this.i18nContext?(this.i18nContext.reconcileChildContext(this.i18n),this.i18nUpdateRef(this.i18nContext)):this.i18nUpdateRef(this.i18n);var r=this.i18n,i=r.index,a=r.bindings;if(a.size){var s=[];a.forEach(function(n){s.push({sourceSpan:t,value:function(){return e.convertPropertyBinding(n)}})}),this.updateInstructionChainWithAdvance(this.getConstCount()-1,_r.i18nExp,s),this.updateInstruction(t,_r.i18nApply,[an(i)])}n||this.creationInstruction(t,_r.i18nEnd),this.i18n=null}},{key:"i18nAttributesInstruction",value:function(e,t,n){var r=this,i=!1,a=[],s=[];if(t.forEach(function(e){var t=e.i18n,o=e.value.visit(r._valueConverter);if(r.allocateBindingSlots(o),o instanceof Ms){var u=oa(ca(t));a.push(an(e.name),r.i18nTranslate(t,u)),o.expressions.forEach(function(e){i=!0,s.push({sourceSpan:n,value:function(){return r.convertPropertyBinding(e)}})})}}),s.length>0&&this.updateInstructionChainWithAdvance(e,_r.i18nExp,s),a.length>0){var o=an(this.allocateDataSlot()),u=this.addToConsts(Zt(a));this.creationInstruction(n,_r.i18nAttributes,[o,u]),i&&this.updateInstruction(n,_r.i18nApply,[o])}}},{key:"getNamespaceInstruction",value:function(e){switch(e){case"math":return _r.namespaceMathML;case"svg":return _r.namespaceSVG;default:return _r.namespaceHTML}}},{key:"addNamespaceInstruction",value:function(e,t){this._namespace=e,this.creationInstruction(t.startSourceSpan,e)}},{key:"interpolatedUpdateInstruction",value:function(e,t,n,r,i,a){var s=this;this.updateInstructionWithAdvance(t,r.sourceSpan,e,function(){return[an(n)].concat(Object(g.a)(s.getUpdateInstructionArguments(i)),Object(g.a)(a))})}},{key:"visitContent",value:function(e){var t=this.allocateDataSlot(),n=this._ngContentSelectorsOffset+this._ngContentReservedSlots.length,r=[an(t)];this._ngContentReservedSlots.push(e.selector);var i=e.attributes.filter(function(e){return"select"!==e.name.toLowerCase()}),a=this.getAttributeExpressions(e.name,i,[],[]);a.length>0?r.push(an(n),Zt(a)):0!==n&&r.push(an(n)),this.creationInstruction(e.sourceSpan,_r.projection,r),this.i18n&&this.i18n.appendProjection(e.i18n,t)}},{key:"visitElement",value:function(e){var t,n,r,i=this,a=this.allocateDataSlot(),s=new Gc(null),o=!1,u=ta(e.i18n)&&!na(e.i18n),c=[],l=E(e.name),p=Object(h.a)(l,2),f=p[0],d=p[1],m=_(e.name),y=Object(v.a)(e.attributes);try{for(y.s();!(r=y.n()).done;){var g=r.value,b=g.name,k=g.value;"ngNonBindable"===b?o=!0:"style"===b?s.registerStyleAttr(k):"class"===b?s.registerClassAttr(k):c.push(g)}}catch(H){y.e(H)}finally{y.f()}this.matchDirectives(e.name,e);var S=[an(a)];m||S.push(an(d));var x=[],w=[];e.inputs.forEach(function(e){s.registerBoundInput(e)||(0===e.type&&e.i18n?w.push(e):x.push(e))});var C=this.getAttributeExpressions(e.name,c,x,e.outputs,s,[],w);S.push(this.addAttrsToConsts(C));var O=this.prepareRefsArray(e.references);S.push(this.addToConsts(O));var T=this._namespace,j=this.getNamespaceInstruction(f);j!==T&&this.addNamespaceInstruction(j,e),this.i18n&&this.i18n.appendElement(e.i18n,a);var N=!u&&this.i18n?!Dh(e.children):e.children.length>0,M=!s.hasBindingsWithPipes&&0===e.outputs.length&&0===w.length&&!N,A=!M&&Dh(e.children);if(M)this.creationInstruction(e.sourceSpan,m?_r.elementContainer:_r.element,ka(S));else{if(this.creationInstruction(e.startSourceSpan,m?_r.elementContainerStart:_r.elementStart,ka(S)),o&&this.creationInstruction(e.startSourceSpan,_r.disableBindings),w.length>0&&this.i18nAttributesInstruction(a,w,null!==(t=e.startSourceSpan)&&void 0!==t?t:e.sourceSpan),e.outputs.length>0){var P=e.outputs.map(function(t){return{sourceSpan:t.sourceSpan,params:i.prepareListenerParameter(e.name,t,a)}});this.creationInstructionChain(_r.listener,P)}u&&this.i18nStart(e.startSourceSpan,e.i18n,A)}for(var I=s.buildUpdateLevelInstructions(this._valueConverter),R=I.length-1,D=0;D<=R;D++){var F=I[D];this._bindingSlots+=this.processStylingUpdateInstruction(a,F)}var L=an(void 0),B=[],V=[];if(x.forEach(function(e){var t=e.type;if(4===t){var n=e.value.visit(i._valueConverter),r=!(n instanceof Ts)||!!n.value;i.allocateBindingSlots(n),B.push({name:Fr(e.name),sourceSpan:e.sourceSpan,value:function(){return r?i.convertPropertyBinding(n):L}})}else{if(e.i18n)return;var s=e.value.visit(i._valueConverter);if(void 0!==s){var o=[],u=E(e.name),c=Object(h.a)(u,2),l=c[0],p=c[1],v=1===t,f=Ah(e.securityContext,v);if(f&&o.push(f),l){var d=an(l);f?o.push(d):o.push(an(null),d)}if(i.allocateBindingSlots(s),0===t)s instanceof Ms?i.interpolatedUpdateInstruction(Th(s),a,p,e,s,o):B.push({name:p,sourceSpan:e.sourceSpan,value:function(){return i.convertPropertyBinding(s)},params:o});else if(1===t)if(s instanceof Ms&&Ta(s)>1)i.interpolatedUpdateInstruction(function(e){switch(Ta(e)){case 3:return _r.attributeInterpolate1;case 5:return _r.attributeInterpolate2;case 7:return _r.attributeInterpolate3;case 9:return _r.attributeInterpolate4;case 11:return _r.attributeInterpolate5;case 13:return _r.attributeInterpolate6;case 15:return _r.attributeInterpolate7;case 17:return _r.attributeInterpolate8;default:return _r.attributeInterpolateV}}(s),a,p,e,s,o);else{var m=s instanceof Ms?s.expressions[0]:s;V.push({name:p,sourceSpan:e.sourceSpan,value:function(){return i.convertPropertyBinding(m)},params:o})}else i.updateInstructionWithAdvance(a,e.sourceSpan,_r.classProp,function(){return[an(a),an(p),i.convertPropertyBinding(s)].concat(o)})}}}),B.length>0&&this.updateInstructionChainWithAdvance(a,_r.property,B),V.length>0&&this.updateInstructionChainWithAdvance(a,_r.attribute,V),ni(this,e.children),!u&&this.i18n&&this.i18n.appendElement(e.i18n,a,!0),!M){var U=null!==(n=e.endSourceSpan)&&void 0!==n?n:e.sourceSpan;u&&this.i18nEnd(U,A),o&&this.creationInstruction(U,_r.enableBindings),this.creationInstruction(U,m?_r.elementContainerEnd:_r.elementEnd)}}},{key:"visitTemplate",value:function(t){var n,r=this,i=this.allocateDataSlot();this.i18n&&this.i18n.appendTemplate(t.i18n,i);var a=Gn(t.tagName||""),s="".concat(this.contextName).concat(a?"_"+a:"","_").concat(i),o="".concat(s,"_Template"),u=[an(i),Xt(o),an(t.tagName?E(t.tagName)[1]:t.tagName)];this.matchDirectives("ng-template",t);var c=this.getAttributeExpressions("ng-template",t.attributes,t.inputs,t.outputs,void 0,t.templateAttrs);if(u.push(this.addAttrsToConsts(c)),t.references&&t.references.length){var l=this.prepareRefsArray(t.references);u.push(this.addToConsts(l)),u.push(Gt(_r.templateRefExtractor))}var p=new e(this.constantPool,this._bindingScope,this.level+1,s,this.i18n,i,o,this.directiveMatcher,this.directives,this.pipeTypeByName,this.pipes,this._namespace,this.fileBasedI18nSuffix,this.i18nUseExternalIds,this._constants);if(this._nestedTemplateFns.push(function(){var e,n=p.buildTemplateFunction(t.children,t.variables,r._ngContentReservedSlots.length+r._ngContentSelectorsOffset,t.i18n);(r.constantPool.statements.push(n.toDeclStmt(o)),p._ngContentReservedSlots.length)&&(e=r._ngContentReservedSlots).push.apply(e,Object(g.a)(p._ngContentReservedSlots))}),this.creationInstruction(t.sourceSpan,_r.templateCreate,function(){return u.splice(2,0,an(p.getConstCount()),an(p.getVarCount())),ka(u)}),this.templatePropertyBindings(i,t.templateAttrs),"ng-template"===t.tagName){var f=function(e,t){var n,r=[],i=[],a=Object(v.a)(e);try{for(a.s();!(n=a.n()).done;){var s=n.value;(t(s)?r:i).push(s)}}catch(o){a.e(o)}finally{a.f()}return[r,i]}(t.inputs,ra),d=Object(h.a)(f,2),m=d[0],y=d[1];if(m.length>0&&this.i18nAttributesInstruction(i,m,null!==(n=t.startSourceSpan)&&void 0!==n?n:t.sourceSpan),y.length>0&&this.templatePropertyBindings(i,y),t.outputs.length>0){var b=t.outputs.map(function(e){return{sourceSpan:e.sourceSpan,params:r.prepareListenerParameter("ng_template",e,i)}});this.creationInstructionChain(_r.listener,b)}}}},{key:"visitBoundText",value:function(e){var t=this;if(this.i18n){var n=e.value.visit(this._valueConverter);return this.allocateBindingSlots(n),n instanceof Ms&&(this.i18n.appendBoundText(e.i18n),this.i18nAppendBindings(n.expressions)),void 0}var r=this.allocateDataSlot();this.creationInstruction(e.sourceSpan,_r.text,[an(r)]);var i=e.value.visit(this._valueConverter);this.allocateBindingSlots(i),i instanceof Ms?this.updateInstructionWithAdvance(r,e.sourceSpan,function(e){switch(Ta(e)){case 1:return _r.textInterpolate;case 3:return _r.textInterpolate1;case 5:return _r.textInterpolate2;case 7:return _r.textInterpolate3;case 9:return _r.textInterpolate4;case 11:return _r.textInterpolate5;case 13:return _r.textInterpolate6;case 15:return _r.textInterpolate7;case 17:return _r.textInterpolate8;default:return _r.textInterpolateV}}(i),function(){return t.getUpdateInstructionArguments(i)}):An("Text nodes should be interpolated and never bound directly.")}},{key:"visitText",value:function(e){this.i18n||this.creationInstruction(e.sourceSpan,_r.text,[an(this.allocateDataSlot()),an(e.value)])}},{key:"visitIcu",value:function(e){var t=!1;this.i18n||(t=!0,this.i18nStart(null,e.i18n,!0));var n=this.i18n,r=this.i18nBindProps(e.vars),i=this.i18nBindProps(e.placeholders),a=e.i18n,s=function(e){var t=la(Object.assign(Object.assign({},r),i),!1);return Eh(null,_r.i18nPostprocess,[e,El(t,!0)])};if(na(n.meta))this.i18nTranslate(a,{},n.ref,s);else{var o=this.i18nTranslate(a,{},void 0,s);n.appendIcu(ia(a).name,o)}return t&&this.i18nEnd(null,!0),null}},{key:"allocateDataSlot",value:function(){return this._dataIndex++}},{key:"getConstCount",value:function(){return this._dataIndex}},{key:"getVarCount",value:function(){return this._pureFunctionSlots}},{key:"getConsts",value:function(){return this._constants}},{key:"getNgContentSelectors",value:function(){return this._ngContentReservedSlots.length?this.constantPool.getConstLiteral(ga(this._ngContentReservedSlots),!0):null}},{key:"bindingContext",value:function(){return"".concat(this._bindingContext++)}},{key:"templatePropertyBindings",value:function(e,t){var n=this,r=[];t.forEach(function(t){if(t instanceof Qr){var i=t.value.visit(n._valueConverter);if(void 0!==i)if(n.allocateBindingSlots(i),i instanceof Ms){n.interpolatedUpdateInstruction(Th(i),e,t.name,t,i,[])}else r.push({name:t.name,sourceSpan:t.sourceSpan,value:function(){return n.convertPropertyBinding(i)}})}}),r.length>0&&this.updateInstructionChainWithAdvance(e,_r.property,r)}},{key:"instructionFn",value:function(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];e[i?"unshift":"push"](function(){var e=Array.isArray(r)?r:r();return Eh(t,n,e).toStmt()})}},{key:"processStylingUpdateInstruction",value:function(e,t){var n=this,r=0;if(t){var i=[];t.calls.forEach(function(e){r+=e.allocateBindingSlots,i.push({sourceSpan:e.sourceSpan,value:function(){return e.params(function(t){return e.supportsInterpolation&&t instanceof Ms?n.getUpdateInstructionArguments(t):n.convertPropertyBinding(t)})}})}),this.updateInstructionChainWithAdvance(e,t.reference,i)}return r}},{key:"creationInstruction",value:function(e,t,n,r){this.instructionFn(this._creationCodeFns,e,t,n||[],r)}},{key:"creationInstructionChain",value:function(e,t){var n=t.length?t[0].sourceSpan:null;this._creationCodeFns.push(function(){return Oa(e,t.map(function(e){return e.params()}),n).toStmt()})}},{key:"updateInstructionWithAdvance",value:function(e,t,n,r){this.addAdvanceInstructionIfNecessary(e,t),this.updateInstruction(t,n,r)}},{key:"updateInstruction",value:function(e,t,n){this.instructionFn(this._updateCodeFns,e,t,n||[])}},{key:"updateInstructionChain",value:function(e,t){var n=t.length?t[0].sourceSpan:null;this._updateCodeFns.push(function(){var r=t.map(function(e){var t=e.value(),n=Array.isArray(t)?t:[t];return e.params&&n.push.apply(n,Object(g.a)(e.params)),e.name&&n.unshift(an(e.name)),n});return Oa(e,r,n).toStmt()})}},{key:"updateInstructionChainWithAdvance",value:function(e,t,n){this.addAdvanceInstructionIfNecessary(e,n.length?n[0].sourceSpan:null),this.updateInstructionChain(t,n)}},{key:"addAdvanceInstructionIfNecessary",value:function(e,t){if(e!==this._currentIndex){var n=e-this._currentIndex;if(n<1)throw new Error("advance instruction can only go forwards");this.instructionFn(this._updateCodeFns,t,_r.advance,[an(n)]),this._currentIndex=e}}},{key:"allocatePureFunctionSlots",value:function(e){var t=this._pureFunctionSlots;return this._pureFunctionSlots+=e,t}},{key:"allocateBindingSlots",value:function(e){this._bindingSlots+=e instanceof Ms?e.expressions.length:1}},{key:"getImplicitReceiverExpr",value:function(){return this._implicitReceiverExpr?this._implicitReceiverExpr:this._implicitReceiverExpr=0===this.level?Xt("ctx"):this._bindingScope.getOrCreateSharedContextVar(0)}},{key:"convertPropertyBinding",value:function(e){var t,n=ro(this,this.getImplicitReceiverExpr(),e,this.bindingContext(),eo.Expression,function(){return An("Unexpected interpolation")}),r=n.currValExpr;return(t=this._tempVariables).push.apply(t,Object(g.a)(n.stmts)),r}},{key:"getUpdateInstructionArguments",value:function(e){var t,n=function(e,t,n,r){var i=new lo(e,t,r,void 0),a=n.visit(i,to.Expression);i.usesImplicitReceiver&&e.notifyImplicitReceiverUse();var s=io(i,r),o=a.args.slice(1);if(n instanceof Ms){var u=n.strings;3===o.length&&""===u[0]&&""===u[1]?o=[o[1]]:o.length>=19&&(o=[Zt(o)])}return{stmts:s,args:o}}(this,this.getImplicitReceiverExpr(),e,this.bindingContext()),r=n.args,i=n.stmts;return(t=this._tempVariables).push.apply(t,Object(g.a)(i)),r}},{key:"matchDirectives",value:function(e,t){var n=this;if(this.directiveMatcher){var r=Ch(e,Ca(t));this.directiveMatcher.match(r,function(e,t){n.directives.add(t)})}}},{key:"getAttributeExpressions",value:function(e,t,n,r,i){var a,s,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:[],u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:[],c=new Set,l=[],h=Object(v.a)(t);try{for(h.s();!(s=h.n()).done;){var p=s.value;if("ngProjectAs"===p.name&&(a=p),p.i18n){var f=this._constants.i18nVarRefsCache,d=void 0;f.has(p.i18n)?d=f.get(p.i18n):(d=this.i18nTranslate(p.i18n),f.set(p.i18n,d)),l.push(an(p.name),d)}else l.push.apply(l,Object(g.a)(xh(p.name)).concat([Ph(e,p)]))}}catch(S){h.e(S)}finally{h.f()}function m(e,t){"string"==typeof e?c.has(e)||(l.push.apply(l,Object(g.a)(xh(e))),void 0!==t&&l.push(t),c.add(e)):l.push(an(e))}if(a&&l.push.apply(l,Object(g.a)(Oh(a))),i&&i.populateInitialStylingAttrs(l),n.length||r.length){for(var y=l.length,b=0;b<n.length;b++){var k=n[b];4!==k.type&&1!==k.type&&m(k.name)}for(var E=0;E<r.length;E++){var _=r[E];1!==_.type&&m(_.name)}l.length!==y&&l.splice(y,0,an(3))}return o.length&&(l.push(an(4)),o.forEach(function(e){return m(e.name)})),u.length&&(l.push(an(6)),u.forEach(function(e){return m(e.name)})),l}},{key:"addToConsts",value:function(e){if(sn(e))return Et;for(var t=this._constants.constExpressions,n=0;n<t.length;n++)if(t[n].isEquivalent(e))return an(n);return an(t.push(e)-1)}},{key:"addAttrsToConsts",value:function(e){return e.length>0?this.addToConsts(Zt(e)):Et}},{key:"prepareRefsArray",value:function(e){var t=this;return e&&0!==e.length?ga(dr(e.map(function(e){var n=t.allocateDataSlot(),r=t._bindingScope.freshReferenceName(),i=t.level,a=Xt(r);return t._bindingScope.set(i,e.name,a,0,function(e,t){var r=t>0?[_h(t).toStmt()]:[],i=a.set(Gt(_r.reference).callFn([an(n)]));return r.concat(i.toConstDecl())},!0),[e.name,e.value]}))):Et}},{key:"prepareListenerParameter",value:function(e,t,n){var r=this;return function(){var i=t.name,a=1===t.type?Vr(i,t.phase):Gn(i),s="".concat(r.templateName,"_").concat(e,"_").concat(a,"_").concat(n,"_listener"),o=r._bindingScope.nestedScope(r._bindingScope.bindingLevel,hh);return dh(t,s,o)}}}]),e}(),gh=function(e){Object(m.a)(n,e);var t=Object(y.a)(n);function n(e,r,i,a){var s;return Object(b.a)(this,n),(s=t.call(this)).constantPool=e,s.allocateSlot=r,s.allocatePureFunctionSlots=i,s.definePipe=a,s._pipeBindExprs=[],s}return Object(k.a)(n,[{key:"visitPipe",value:function(e,t){var n=this.allocateSlot(),r="PIPE:".concat(n),i=this.allocatePureFunctionSlots(2+e.args.length),a=new _s(e.span,e.sourceSpan,e.nameSpan,new gs(e.span,e.sourceSpan),r),s=function(e){var t=bh[e.length];return{identifier:t||_r.pipeBindV,isVarLength:!t}}(e.args),o=s.identifier,u=s.isVarLength;this.definePipe(e.name,r,n,Gt(o));var c=[e.exp].concat(Object(g.a)(e.args)),l=u?this.visitAll([new js(e.span,e.sourceSpan,c)]):this.visitAll(c),h=new Ls(e.span,e.sourceSpan,a,[new Ts(e.span,e.sourceSpan,n),new Ts(e.span,e.sourceSpan,i)].concat(Object(g.a)(l)));return this._pipeBindExprs.push(h),h}},{key:"updatePipeSlotOffsets",value:function(e){this._pipeBindExprs.forEach(function(t){t.args[1].value+=e})}},{key:"visitLiteralArray",value:function(e,t){var n=this;return new po(e.span,e.sourceSpan,this.visitAll(e.expressions),function(e){var t=Zt(e);return Sh(n.constantPool,t,n.allocatePureFunctionSlots)})}},{key:"visitLiteralMap",value:function(e,t){var n=this;return new po(e.span,e.sourceSpan,this.visitAll(e.values),function(t){var r=en(t.map(function(t,n){return{key:e.keys[n].key,value:t,quoted:e.keys[n].quoted}}));return Sh(n.constantPool,r,n.allocatePureFunctionSlots)})}}]),n}(zs),bh=[_r.pipeBind1,_r.pipeBind2,_r.pipeBind3,_r.pipeBind4];var kh=[_r.pureFunction0,_r.pureFunction1,_r.pureFunction2,_r.pureFunction3,_r.pureFunction4,_r.pureFunction5,_r.pureFunction6,_r.pureFunction7,_r.pureFunction8];function Eh(e,t,n){return Gt(t,null,e).callFn(n,e)}function _h(e){return Gt(_r.nextContext).callFn(e>1?[an(e)]:[])}function Sh(e,t,n){var r=e.getLiteralFactory(t),i=r.literalFactory,a=r.literalFactoryArguments,s=n(1+a.length),o=function(e){var t=kh[e.length];return{identifier:t||_r.pureFunctionV,isVarLength:!t}}(a),u=o.identifier,c=o.isVarLength,l=[an(s),i];return c?l.push(Zt(a)):l.push.apply(l,Object(g.a)(a)),Gt(u).callFn(l)}function xh(e){var t=E(e),n=Object(h.a)(t,2),r=n[0],i=an(n[1]);return r?[an(0),an(r),i]:[i]}var wh=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2?arguments[2]:void 0;if(Object(b.a)(this,e),this.bindingLevel=t,this.parent=n,this.globals=r,this.map=new Map,this.referenceNameIndex=0,this.restoreViewVariable=null,void 0!==r){var i,a=Object(v.a)(r);try{for(a.s();!(i=a.n()).done;){var s=i.value;this.set(0,s,Xt(s))}}catch(o){a.e(o)}finally{a.f()}}}return Object(k.a)(e,[{key:"get",value:function(e){for(var t=this;t;){var n=t.map.get(e);if(null!=n)return t!==this&&(n={retrievalLevel:n.retrievalLevel,lhs:n.lhs,declareLocalCallback:n.declareLocalCallback,declare:!1,priority:n.priority,localRef:n.localRef},this.map.set(e,n),this.maybeGenerateSharedContextVar(n),this.maybeRestoreView(n.retrievalLevel,n.localRef)),n.declareLocalCallback&&!n.declare&&(n.declare=!0),n.lhs;t=t.parent}return 0===this.bindingLevel?null:this.getComponentProperty(e)}},{key:"set",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,i=arguments.length>4?arguments[4]:void 0,a=arguments.length>5?arguments[5]:void 0;if(this.map.has(t)){if(a)return this;An("The name ".concat(t," is already defined in scope to be ").concat(this.map.get(t)))}return this.map.set(t,{retrievalLevel:e,lhs:n,declare:!1,declareLocalCallback:i,priority:r,localRef:a||!1}),this}},{key:"getLocal",value:function(e){return this.get(e)}},{key:"notifyImplicitReceiverUse",value:function(){0!==this.bindingLevel&&(this.map.get("$$shared_ctx$$0").declare=!0)}},{key:"nestedScope",value:function(t,n){var r=new e(t,this,n);return t>0&&r.generateSharedContextVar(0),r}},{key:"getOrCreateSharedContextVar",value:function(e){var t="$$shared_ctx$$"+e;return this.map.has(t)||this.generateSharedContextVar(e),this.map.get(t).lhs}},{key:"getSharedContextName",value:function(e){var t=this.map.get("$$shared_ctx$$"+e);return t&&t.declare?t.lhs:null}},{key:"maybeGenerateSharedContextVar",value:function(e){if(1===e.priority&&e.retrievalLevel<this.bindingLevel){var t=this.map.get("$$shared_ctx$$"+e.retrievalLevel);t?t.declare=!0:this.generateSharedContextVar(e.retrievalLevel)}}},{key:"generateSharedContextVar",value:function(e){var t=Xt("ctx"+this.freshReferenceName());this.map.set("$$shared_ctx$$"+e,{retrievalLevel:e,lhs:t,declareLocalCallback:function(e,n){return[t.set(_h(n)).toConstDecl()]},declare:!1,priority:2,localRef:!1})}},{key:"getComponentProperty",value:function(e){var t=this.map.get("$$shared_ctx$$0");return t.declare=!0,this.maybeRestoreView(0,!1),t.lhs.prop(e)}},{key:"maybeRestoreView",value:function(e,t){this.isListenerScope()&&(e<this.bindingLevel||t)&&(this.parent.restoreViewVariable||(this.parent.restoreViewVariable=Xt(this.parent.freshReferenceName())),this.restoreViewVariable=this.parent.restoreViewVariable)}},{key:"restoreViewStatement",value:function(){return this.restoreViewVariable?[Eh(null,_r.restoreView,[this.restoreViewVariable]).toStmt()]:[]}},{key:"viewSnapshotStatements",value:function(){var e=Eh(null,_r.getCurrentView,[]);return this.restoreViewVariable?[this.restoreViewVariable.set(e).toConstDecl()]:[]}},{key:"isListenerScope",value:function(){return this.parent&&this.parent.bindingLevel===this.bindingLevel}},{key:"variableDeclarations",value:function(){var e=this,t=0;return Array.from(this.map.values()).filter(function(e){return e.declare}).sort(function(e,t){return t.retrievalLevel-e.retrievalLevel||t.priority-e.priority}).reduce(function(n,r){var i=e.bindingLevel-r.retrievalLevel,a=r.declareLocalCallback(e,i-t);return t=i,n.concat(a)},[])}},{key:"freshReferenceName",value:function(){for(var e=this;e.parent;)e=e.parent;return"".concat("_r").concat(e.referenceNameIndex++)}}],[{key:"createRootScope",value:function(){return new e}}]),e}();function Ch(e,t){var n=new D,r=E(e)[1];return n.setElement(r),Object.getOwnPropertyNames(t).forEach(function(e){var r=E(e)[1],i=t[e];(n.addAttribute(r,i),"class"===e.toLowerCase())&&i.trim().split(/\s+/).forEach(function(e){return n.addClassName(e)})}),n}function Oh(e){var t=ve(e.value)[0];return[an(5),ga(t)]}function Th(e){switch(Ta(e)){case 1:return _r.propertyInterpolate;case 3:return _r.propertyInterpolate1;case 5:return _r.propertyInterpolate2;case 7:return _r.propertyInterpolate3;case 9:return _r.propertyInterpolate4;case 11:return _r.propertyInterpolate5;case 13:return _r.propertyInterpolate6;case 15:return _r.propertyInterpolate7;case 17:return _r.propertyInterpolate8;default:return _r.propertyInterpolateV}}function jh(e,t){var n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=r.interpolationConfig,a=r.preserveWhitespaces,s=r.enableI18nLegacyMessageIdFormat,o=null!==(n=r.isInline)&&void 0!==n&&n,u=Mh(i),c=new Pu,l=c.parse(e,t,Object.assign(Object.assign({leadingTriviaChars:vh},r),{tokenizeExpansionForms:!0}));if(!r.alwaysAttemptHtmlToR3AstConversion&&l.errors&&l.errors.length>0){var h={interpolationConfig:i,preserveWhitespaces:a,template:e,templateUrl:t,isInline:o,errors:l.errors,nodes:[],styleUrls:[],styles:[],ngContentSelectors:[]};return r.collectCommentNodes&&(h.commentNodes=[]),h}var p=l.rootNodes,v=new ah(i,!a,s),f=v.visitAllWithErrors(p);if(!r.alwaysAttemptHtmlToR3AstConversion&&f.errors&&f.errors.length>0){var d={interpolationConfig:i,preserveWhitespaces:a,template:e,templateUrl:t,isInline:o,errors:f.errors,nodes:[],styleUrls:[],styles:[],ngContentSelectors:[]};return r.collectCommentNodes&&(d.commentNodes=[]),d}p=f.rootNodes,a||(p=su(new Lu,p),v.hasI18nMeta&&(p=su(new ah(i,!1),p)));var m=Rl(p,u,{collectCommentNodes:!!r.collectCommentNodes}),y=m.nodes,b=m.errors,k=m.styleUrls,E=m.styles,_=m.ngContentSelectors,S=m.commentNodes;b.push.apply(b,Object(g.a)(l.errors).concat(Object(g.a)(f.errors)));var x={interpolationConfig:i,preserveWhitespaces:a,errors:b.length>0?b:null,template:e,templateUrl:t,isInline:o,nodes:y,styleUrls:k,styles:E,ngContentSelectors:_};return r.collectCommentNodes&&(x.commentNodes=S),x}var Nh=new Tl;function Mh(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ba;return new Ec(new ml(new el),e,Nh,null,[])}function Ah(e,t){switch(e){case X.HTML:return Gt(_r.sanitizeHtml);case X.SCRIPT:return Gt(_r.sanitizeScript);case X.STYLE:return t?Gt(_r.sanitizeStyle):null;case X.URL:return Gt(_r.sanitizeUrl);case X.RESOURCE_URL:return Gt(_r.sanitizeResourceUrl);default:return null}}function Ph(e,t){var n=ga(t.value);if(!Nl(e,t.name))return n;switch(Nh.securityContext(e,t.name,!0)){case X.HTML:return rn(Gt(_r.trustConstantHtml),new Qe([new Xe(t.value)],[]),void 0,t.valueSpan);case X.RESOURCE_URL:return rn(Gt(_r.trustConstantResourceUrl),new Qe([new Xe(t.value)],[]),void 0,t.valueSpan);default:return n}}function Ih(e){return 1===e.length&&e[0]instanceof Gr}function Rh(e){return e instanceof Wr||e instanceof zr||e instanceof ei}function Dh(e){return e.every(Rh)}function Fh(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=arguments.length>4?arguments[4]:void 0,a=[va(t),nn(Lh(),sh(t,e,n,la(r,!0)),uh(t,e,la(r,!1)))];return i&&a.push(new Ot(t.set(i(t)))),a}function Lh(){return Jt(Xt("ngI18nClosureMode")).notIdentical(an("undefined",Te)).and(Xt("ngI18nClosureMode"))}var Bh=/attr\.([^\]]+)/;function Vh(e,t,n){var r=new wa,i=ve(e.selector);return r.set("type",e.internalType),i.length>0&&r.set("selectors",ga(i)),e.queries.length>0&&r.set("contentQueries",function(e,t,n){var r,i=[],a=[],s=da(a,"_t"),o=Object(v.a)(e);try{for(o.s();!(r=o.n()).done;){var u=r.value;i.push(Gt(_r.contentQuery).callFn([Xt("dirIndex")].concat(Object(g.a)(Kh(u,t)))).toStmt());var c=s(),l=Gt(_r.loadQuery).callFn([]),h=Gt(_r.queryRefresh).callFn([c.set(l)]),p=Xt("ctx").prop(u.propertyName).set(u.first?c.prop("first"):c);a.push(h.and(p).toStmt())}}catch(d){o.e(d)}finally{o.f()}var f=n?"".concat(n,"_ContentQueries"):null;return tn([new lt("rf",Oe),new lt("ctx",null),new lt("dirIndex",null)],[fh(1,i),fh(2,a)],we,null,f)}(e.queries,t,e.name)),e.viewQueries.length&&r.set("viewQuery",function(e,t,n){var r=[],i=[],a=da(i,"_t");e.forEach(function(e){var n=Gt(_r.viewQuery).callFn(Kh(e,t));r.push(n.toStmt());var s=a(),o=Gt(_r.loadQuery).callFn([]),u=Gt(_r.queryRefresh).callFn([s.set(o)]),c=Xt("ctx").prop(e.propertyName).set(e.first?s.prop("first"):s);i.push(u.and(c).toStmt())});var s=n?"".concat(n,"_Query"):null;return tn([new lt("rf",Oe),new lt("ctx",null)],[fh(1,r),fh(2,i)],we,null,s)}(e.viewQueries,t,e.name)),r.set("hostBindings",function(e,t,n,r,i,a,s){var o=Xt("ctx"),u=new Gc(o),c=e.specialAttributes,l=c.styleAttr,h=c.classAttr;void 0!==l&&u.registerStyleAttr(l);void 0!==h&&u.registerClassAttr(h);var p=[],f=[],d=t,m=Zh(e),y=n.createDirectiveHostEventAsts(m,d);if(y&&y.length){var b=function(e,t){var n=[],r=[],i=[];e.forEach(function(e){var i=e.name&&Gn(e.name),a=1===e.type?Vr(i,e.targetOrPhase):i,s=t&&i?"".concat(t,"_").concat(a,"_HostBindingHandler"):null,o=dh(Xr.fromParsedEvent(e),s);1==e.type?r.push(o):n.push(o)}),r.length>0&&i.push(Oa(_r.syntheticHostListener,r).toStmt());n.length>0&&i.push(Oa(_r.listener,n).toStmt());return i}(y,a);p.push.apply(p,Object(g.a)(b))}var k,E=n.createBoundHostProperties(m,d),_=[],S=0;E&&E.forEach(function(e){u.registerInputBasedOnName(e.name,e.expression,d)?S+=2:(_.push(e),S++)});var x=function(){if(!k){k=new gh(r,function(){return An("Unexpected node")},function(e){var t=S;return S+=e,t},function(){return An("Unexpected pipe")})}return k},w=[],C=[],O=[];_.forEach(function(e){var t=e.expression.visit(x()),r=Jh(o,t),a=function(e){var t,n=e.name,r=n.match(Bh);r?(n=r[1],t=_r.attribute):e.isAnimation?(n=Fr(n),t=_r.syntheticHostProperty):t=_r.hostProperty;return{bindingName:n,instruction:t,isAttribute:!!r}}(e),s=a.bindingName,u=a.instruction,c=a.isAttribute,l=n.calcPossibleSecurityContexts(i,s,c).filter(function(e){return e!==X.NONE}),h=null;l.length&&(h=2===l.length&&l.indexOf(X.URL)>-1&&l.indexOf(X.RESOURCE_URL)>-1?Gt(_r.sanitizeUrlOrResourceUrl):Ah(l[0],c));var p=[an(s),r.currValExpr];h&&p.push(h),f.push.apply(f,Object(g.a)(r.stmts)),u===_r.hostProperty?w.push(p):u===_r.attribute?C.push(p):u===_r.syntheticHostProperty?O.push(p):f.push(Gt(u).callFn(p).toStmt())}),w.length>0&&f.push(Oa(_r.hostProperty,w).toStmt());C.length>0&&f.push(Oa(_r.attribute,C).toStmt());O.length>0&&f.push(Oa(_r.syntheticHostProperty,O).toStmt());var T=function(e){var t,n=[],r=Object(v.a)(Object.getOwnPropertyNames(e));try{for(r.s();!(t=r.n()).done;){var i=t.value,a=e[i];n.push(an(i),a)}}catch(s){r.e(s)}finally{r.f()}return n}(e.attributes);u.assignHostAttrs(T,s),u.hasBindings&&u.buildUpdateLevelInstructions(x()).forEach(function(e){if(e.calls.length>0){var t=[];e.calls.forEach(function(e){S+=Math.max(e.allocateBindingSlots-2,0),t.push(function(e,t,n){return e.params(function(e){return n(t,e).currValExpr})}(e,o,Jh))}),f.push(Oa(e.reference,t).toStmt())}});S&&s.set("hostVars",an(S));if(p.length>0||f.length>0){var j=a?"".concat(a,"_HostBindings"):null,N=[];return p.length>0&&N.push(fh(1,p)),f.length>0&&N.push(fh(2,f)),tn([new lt("rf",Oe),new lt("ctx",null)],N,we,null,j)}return null}(e.host,e.typeSourceSpan,n,t,e.selector||"",e.name,r)),r.set("inputs",ba(e.inputs,!0)),r.set("outputs",ba(e.outputs)),null!==e.exportAs&&r.set("exportAs",Zt(e.exportAs.map(function(e){return an(e)}))),r}function Uh(e,t){var n=[],r=t.providers,i=t.viewProviders;if(r||i){var a=[r||new mt([])];i&&a.push(i),n.push(Gt(_r.ProvidersFeature).callFn(a))}t.usesInheritance&&n.push(Gt(_r.InheritDefinitionFeature)),t.fullInheritance&&n.push(Gt(_r.CopyDefinitionFeature)),t.lifecycle.usesOnChanges&&n.push(Gt(_r.NgOnChangesFeature)),n.length&&e.set("features",Zt(n))}function Hh(e,t,n){var r=Vh(e,t,n);return Uh(r,e),{expression:Gt(_r.defineDirective).callFn([r.toLiteralMap()]),type:Yh(e)}}function qh(e,t,n){var r=Vh(e,t,n);Uh(r,e);var i=e.selector&&D.parse(e.selector),a=i&&i[0];if(a){var s=a.getAttrs();s.length&&r.set("attrs",t.getConstLiteral(Zt(s.map(function(e){return an(null!=e?e:void 0)})),!0))}var o=null;if(e.directives.length>0){var u,c=new F,l=Object(v.a)(e.directives);try{for(l.s();!(u=l.n()).done;){var h=u.value,p=h.selector,f=h.type;c.addSelectables(D.parse(p),f)}}catch(A){l.e(A)}finally{l.f()}o=c}var d=e.name,m=d?"".concat(d,"_Template"):null,y=new Set,b=new Set,k=e.changeDetection,E=e.template,_=new yh(t,wh.createRootScope(),0,d,null,null,m,o,y,e.pipes,b,_r.namespaceHTML,e.relativeContextFilePath,e.i18nUseExternalIds),S=_.buildTemplateFunction(E.nodes,[]),x=_.getNgContentSelectors();x&&r.set("ngContentSelectors",x),r.set("decls",an(_.getConstCount())),r.set("vars",an(_.getVarCount()));var w=_.getConsts(),C=w.constExpressions,O=w.prepareStatements;if(C.length>0){var T=Zt(C);O.length>0&&(T=tn([],[].concat(Object(g.a)(O),[new Tt(T)]))),r.set("consts",T)}if(r.set("template",S),y.size){var j=zh(Zt(Array.from(y)),e.declarationListEmitMode);r.set("directives",j)}if(b.size){var N=zh(Zt(Array.from(b)),e.declarationListEmitMode);r.set("pipes",N)}if(null===e.encapsulation&&(e.encapsulation=P.Emulated),e.styles&&e.styles.length){var M=(e.encapsulation==P.Emulated?function(e,t,n){var r=new vo;return e.map(function(e){return r.shimCssText(e,t,n)})}(e.styles,Qo,Ko):e.styles).map(function(e){return t.getConstLiteral(an(e))});r.set("styles",Zt(M))}else e.encapsulation===P.Emulated&&(e.encapsulation=P.None);return e.encapsulation!==P.Emulated&&r.set("encapsulation",an(e.encapsulation)),null!==e.animations&&r.set("data",en([{key:"animation",value:e.animations,quoted:!1}])),null!=k&&k!==I.Default&&r.set("changeDetection",an(k)),{expression:Gt(_r.defineComponent).callFn([r.toLiteralMap()]),type:Wh(e)}}function Wh(e){var t=$h(e);return t.push(Gh(e.template.ngContentSelectors)),Yt(Gt(_r.ComponentDefWithMeta,t))}function zh(e,t){switch(t){case 0:return e;case 1:return tn([],[new Tt(e)]);case 2:var n=e.callMethod("map",[Gt(_r.resolveForwardRef)]);return tn([],[new Tt(n)])}}function Kh(e,t){var n=[Ea(e,t),an(Qh(e))];return e.read&&n.push(e.read),n}function Qh(e){return(e.descendants?1:0)|(e.static?2:0)|(e.emitDistinctChangesOnly?4:0)}function Xh(e){return Yt(en(Object.keys(e).map(function(t){return{key:t,value:an(Array.isArray(e[t])?e[t][0]:e[t]),quoted:!0}})))}function Gh(e){return e.length>0?Yt(Zt(e.map(function(e){return an(e)}))):je}function $h(e){var t,n=null!==e.selector?e.selector.replace(/\n/g,""):null;return[Dr(e.type.type,e.typeArgumentCount),null!==n?(t=n,Yt(an(t))):je,null!==e.exportAs?Gh(e.exportAs):je,Xh(e.inputs),Xh(e.outputs),Gh(e.queries.map(function(e){return e.propertyName}))]}function Yh(e){var t=$h(e);return Yt(Gt(_r.DirectiveDefWithMeta,t))}function Jh(e,t){return ro(null,e,t,"b",eo.Expression,function(){return An("Unexpected interpolation")})}function Zh(e){return{hostAttributes:{},hostListeners:e.listeners,hostProperties:e.properties}}var ep=/^(?:\[([^\]]+)\])|(?:\(([^\)]+)\))$/;function tp(e){for(var t={},n={},r={},i={},a=0,s=Object.keys(e);a<s.length;a++){var o=s[a],u=e[o],c=o.match(ep);if(null===c)switch(o){case"class":if("string"!=typeof u)throw new Error("Class binding must be string");i.classAttr=u;break;case"style":if("string"!=typeof u)throw new Error("Style binding must be string");i.styleAttr=u;break;default:t[o]="string"==typeof u?an(u):u}else if(null!=c[1]){if("string"!=typeof u)throw new Error("Property binding must be string");r[c[1]]=u}else if(null!=c[2]){if("string"!=typeof u)throw new Error("Event binding must be string");n[c[2]]=u}}return{attributes:t,listeners:n,properties:r,specialAttributes:i}}function np(e,t){var n=Zh(e),r=Mh();return r.createDirectiveHostEventAsts(n,t),r.createBoundHostProperties(n,t),r.errors}var rp=function(){function e(){Object(b.a)(this,e)}return Object(k.a)(e,[{key:"get",value:function(e){return""}}]),e}(),ip=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Wa;Object(b.a)(this,e),this.jitEvaluator=t,this.R3ResolvedDependencyType=xa,this.R3FactoryTarget=Sa,this.ResourceLoader=rp,this.elementSchemaRegistry=new Tl}return Object(k.a)(e,[{key:"compilePipe",value:function(e,t,n){var r=cs({name:n.name,type:cp(n.type),internalType:new Le(n.type),typeArgumentCount:n.typeArgumentCount,deps:_p(n.deps),pipeName:n.pipeName,pure:n.pure});return this.jitExpression(r.expression,e,t,[])}},{key:"compilePipeDeclaration",value:function(e,t,n){var r=cs(function(e){var t;return{name:e.type.name,type:cp(e.type),internalType:new Le(e.type),typeArgumentCount:0,pipeName:e.name,deps:null,pure:null===(t=e.pure)||void 0===t||t}}(n));return this.jitExpression(r.expression,e,t,[])}},{key:"compileInjectable",value:function(e,t,n){var r=Aa({name:n.name,type:cp(n.type),internalType:new Le(n.type),typeArgumentCount:n.typeArgumentCount,providedIn:kp(n.providedIn),useClass:bp(n,ap),useFactory:bp(n,sp),useValue:bp(n,op),useExisting:bp(n,up),userDeps:_p(n.userDeps)||void 0}),i=r.expression,a=r.statements;return this.jitExpression(i,e,t,a)}},{key:"compileInjector",value:function(e,t,n){var r=ss({name:n.name,type:cp(n.type),internalType:new Le(n.type),providers:new Le(n.providers),imports:n.imports.map(function(e){return new Le(e)})});return this.jitExpression(r.expression,e,t,[])}},{key:"compileNgModule",value:function(e,t,n){var r=as({type:cp(n.type),internalType:new Le(n.type),adjacentType:new Le(n.type),bootstrap:n.bootstrap.map(cp),declarations:n.declarations.map(cp),imports:n.imports.map(cp),exports:n.exports.map(cp),emitInline:!0,containsForwardDecls:!1,schemas:n.schemas?n.schemas.map(cp):null,id:n.id?new Le(n.id):null});return this.jitExpression(r.expression,e,t,[])}},{key:"compileDirective",value:function(e,t,n){var r=pp(n);return this.compileDirectiveFromMeta(e,t,r)}},{key:"compileDirectiveDeclaration",value:function(e,t,n){var r=vp(n,this.createParseSourceSpan("Directive",n.type.name,t));return this.compileDirectiveFromMeta(e,t,r)}},{key:"compileDirectiveFromMeta",value:function(e,t,n){var r=new hn,i=Hh(n,r,Mh());return this.jitExpression(i.expression,e,t,r.statements)}},{key:"compileComponent",value:function(e,t,n){var r=gp(n.template,n.name,t,n.preserveWhitespaces,n.interpolation),i=r.template,a=r.interpolation,s=Object.assign(Object.assign(Object.assign({},n),pp(n)),{selector:n.selector||this.elementSchemaRegistry.getDefaultComponentElementName(),template:i,declarationListEmitMode:0,styles:[].concat(Object(g.a)(n.styles),Object(g.a)(i.styles)),encapsulation:n.encapsulation,interpolation:a,changeDetection:n.changeDetection,animations:null!=n.animations?new Le(n.animations):null,viewProviders:null!=n.viewProviders?new Le(n.viewProviders):null,relativeContextFilePath:"",i18nUseExternalIds:!0}),o="ng:///".concat(n.name,".js");return this.compileComponentFromMeta(e,o,s)}},{key:"compileComponentDeclaration",value:function(e,t,n){var r=function(e,t,n){var r,i,a,s,o,u=gp(e.template,e.type.name,n,null!==(r=e.preserveWhitespaces)&&void 0!==r&&r,e.interpolation),c=u.template,l=u.interpolation;return Object.assign(Object.assign({},vp(e,t)),{template:c,styles:null!==(i=e.styles)&&void 0!==i?i:[],directives:(null!==(a=e.directives)&&void 0!==a?a:[]).map(mp),pipes:yp(e.pipes),viewProviders:void 0!==e.viewProviders?new Le(e.viewProviders):null,animations:void 0!==e.animations?new Le(e.animations):null,changeDetection:null!==(s=e.changeDetection)&&void 0!==s?s:I.Default,encapsulation:null!==(o=e.encapsulation)&&void 0!==o?o:P.Emulated,interpolation:l,declarationListEmitMode:2,relativeContextFilePath:"",i18nUseExternalIds:!0})}(n,this.createParseSourceSpan("Component",n.type.name,t),t);return this.compileComponentFromMeta(e,t,r)}},{key:"compileComponentFromMeta",value:function(e,t,n){var r=new hn,i=qh(n,r,Mh(n.interpolation));return this.jitExpression(i.expression,e,t,r.statements)}},{key:"compileFactory",value:function(e,t,n){var r=ja({name:n.name,type:cp(n.type),internalType:new Le(n.type),typeArgumentCount:n.typeArgumentCount,deps:_p(n.deps),injectFn:"directiveInject"===n.injectFn?yn.directiveInject:yn.inject,target:n.target});return this.jitExpression(r.factory,e,t,r.statements)}},{key:"createParseSourceSpan",value:function(e,t,n){return rs(e,t,n)}},{key:"jitExpression",value:function(e,t,n,r){var i=[].concat(Object(g.a)(r),[new wt("$def",e,void 0,[rt.Exported])]);return this.jitEvaluator.evaluateStatements(n,i,new is(t),!0).$def}}]),e}(),ap=Object.keys({useClass:null})[0],sp=Object.keys({useFactory:null})[0],op=Object.keys({useValue:null})[0],up=Object.keys({useExisting:null})[0],cp=function(e){var t=new Le(e);return{value:t,type:t}};function lp(e){return Object.assign(Object.assign({},e),{predicate:Array.isArray(e.predicate)?e.predicate:new Le(e.predicate),read:e.read?new Le(e.read):null,static:e.static,emitDistinctChangesOnly:e.emitDistinctChangesOnly})}function hp(e){var t,n,r,i;return{propertyName:e.propertyName,first:null!==(t=e.first)&&void 0!==t&&t,predicate:Array.isArray(e.predicate)?e.predicate:new Le(e.predicate),descendants:null!==(n=e.descendants)&&void 0!==n&&n,read:e.read?new Le(e.read):null,static:null!==(r=e.static)&&void 0!==r&&r,emitDistinctChangesOnly:null===(i=e.emitDistinctChangesOnly)||void 0===i||i}}function pp(e){var t=xp(e.inputs||[]),n=xp(e.outputs||[]),r=e.propMetadata,i={},a={},s=function(e){r.hasOwnProperty(e)&&r[e].forEach(function(t){"Input"===t.ngMetadataName?i[e]=t.bindingPropertyName?[t.bindingPropertyName,e]:e:function(e){return"Output"===e.ngMetadataName}(t)&&(a[e]=t.bindingPropertyName||e)})};for(var o in r)s(o);return Object.assign(Object.assign({},e),{typeSourceSpan:e.typeSourceSpan,type:cp(e.type),internalType:new Le(e.type),deps:_p(e.deps),host:Sp(e.propMetadata,e.typeSourceSpan,e.host),inputs:Object.assign(Object.assign({},t),i),outputs:Object.assign(Object.assign({},n),a),queries:e.queries.map(lp),providers:null!=e.providers?new Le(e.providers):null,viewQueries:e.viewQueries.map(lp),fullInheritance:!1})}function vp(e,t){var n,r,i,a,s,o,u,c;return{name:e.type.name,type:cp(e.type),typeSourceSpan:t,internalType:new Le(e.type),selector:null!==(n=e.selector)&&void 0!==n?n:null,inputs:null!==(r=e.inputs)&&void 0!==r?r:{},outputs:null!==(i=e.outputs)&&void 0!==i?i:{},host:fp(e.host),queries:(null!==(a=e.queries)&&void 0!==a?a:[]).map(hp),viewQueries:(null!==(s=e.viewQueries)&&void 0!==s?s:[]).map(hp),providers:void 0!==e.providers?new Le(e.providers):null,exportAs:null!==(o=e.exportAs)&&void 0!==o?o:null,usesInheritance:null!==(u=e.usesInheritance)&&void 0!==u&&u,lifecycle:{usesOnChanges:null!==(c=e.usesOnChanges)&&void 0!==c&&c},deps:null,typeArgumentCount:0,fullInheritance:!1}}function fp(){var e,t,n,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{attributes:dp(null!==(e=r.attributes)&&void 0!==e?e:{}),listeners:null!==(t=r.listeners)&&void 0!==t?t:{},properties:null!==(n=r.properties)&&void 0!==n?n:{},specialAttributes:{classAttr:r.classAttribute,styleAttr:r.styleAttribute}}}function dp(e){for(var t={},n=0,r=Object.keys(e);n<r.length;n++){var i=r[n];t[i]=new Le(e[i])}return t}function mp(e){var t,n,r;return{selector:e.selector,type:new Le(e.type),inputs:null!==(t=e.inputs)&&void 0!==t?t:[],outputs:null!==(n=e.outputs)&&void 0!==n?n:[],exportAs:null!==(r=e.exportAs)&&void 0!==r?r:null}}function yp(e){var t=new Map;if(void 0===e)return t;for(var n=0,r=Object.keys(e);n<r.length;n++){var i=r[n],a=e[i];t.set(i,new Le(a))}return t}function gp(e,t,n,r,i){var a=i?La.fromArray(i):Ba,s=jh(e,n,{preserveWhitespaces:r,interpolationConfig:a});if(null!==s.errors){var o=s.errors.map(function(e){return e.toString()}).join(", ");throw new Error("Errors during JIT compilation of template for ".concat(t,": ").concat(o))}return{template:s,interpolation:a}}function bp(e,t){return e.hasOwnProperty(t)?new Le(e[t]):void 0}function kp(e){return null==e||"string"==typeof e?new Ke(e):new Le(e)}function Ep(e){return{token:null===e.token?new Ke(null):e.resolved===xa.Attribute?new Ke(e.token):new Le(e.token),attribute:null,resolved:e.resolved,host:e.host,optional:e.optional,self:e.self,skipSelf:e.skipSelf}}function _p(e){return null==e?null:e.map(Ep)}function Sp(e,t,n){var r=tp(n||{}),i=np(r,t);if(i.length)throw new Error(i.map(function(e){return e.msg}).join("\n"));var a=function(t){e.hasOwnProperty(t)&&e[t].forEach(function(e){"HostBinding"===e.ngMetadataName?r.properties[e.hostPropertyName||t]=Br("this",t):function(e){return"HostListener"===e.ngMetadataName}(e)&&(r.listeners[e.eventName||t]="".concat(t,"(").concat((e.args||[]).join(","),")"))})};for(var s in e)a(s);return r}function xp(e){return e.reduce(function(e,t){var n=t.split(",").map(function(e){return e.trim()}),r=Object(h.a)(n,2),i=r[0],a=r[1];return e[i]=a||i,e},{})}function wp(e){(e.ng||(e.ng={})).\u0275compilerFacade=new ip}var Cp=new qn("11.2.14"),Op=function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.defaultEncapsulation,r=void 0===n?P.Emulated:n,i=t.useJit,a=void 0===i||i,s=t.jitDevMode,o=void 0!==s&&s,u=t.missingTranslation,c=void 0===u?null:u,l=t.preserveWhitespaces,h=t.strictInjectionParameters;Object(b.a)(this,e),this.defaultEncapsulation=r,this.useJit=!!a,this.jitDevMode=!!o,this.missingTranslation=c,this.preserveWhitespaces=Tp(On(l)),this.strictInjectionParameters=!0===h};function Tp(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return null===e?t:e}var jp=function(){function e(t,n,r,i){Object(b.a)(this,e),this._resourceLoader=t,this._urlResolver=n,this._htmlParser=r,this._config=i,this._resourceLoaderCache=new Map}return Object(k.a)(e,[{key:"clearCache",value:function(){this._resourceLoaderCache.clear()}},{key:"clearCacheFor",value:function(e){var t=this;if(e.isComponent){var n=e.template;this._resourceLoaderCache.delete(n.templateUrl),n.externalStylesheets.forEach(function(e){t._resourceLoaderCache.delete(e.moduleUrl)})}}},{key:"_fetch",value:function(e){var t=this._resourceLoaderCache.get(e);return t||(t=this._resourceLoader.get(e),this._resourceLoaderCache.set(e,t)),t}},{key:"normalizeTemplate",value:function(e){var t=this;if(Cn(e.template)){if(Cn(e.templateUrl))throw Pn("'".concat(Vn(e.componentType),"' component cannot define both template and templateUrl"));if("string"!=typeof e.template)throw Pn("The template specified for component ".concat(Vn(e.componentType)," is not a string"))}else{if(!Cn(e.templateUrl))throw Pn("No template specified for component ".concat(Vn(e.componentType)));if("string"!=typeof e.templateUrl)throw Pn("The templateUrl specified for component ".concat(Vn(e.componentType)," is not a string"))}if(Cn(e.preserveWhitespaces)&&"boolean"!=typeof e.preserveWhitespaces)throw Pn("The preserveWhitespaces option for component ".concat(Vn(e.componentType)," must be a boolean"));return Nn(this._preParseTemplate(e),function(n){return t._normalizeTemplateMetadata(e,n)})}},{key:"_preParseTemplate",value:function(e){var t,n,r=this;return null!=e.template?(t=e.template,n=e.moduleUrl):(n=this._urlResolver.resolve(e.moduleUrl,e.templateUrl),t=this._fetch(n)),Nn(t,function(t){return r._preparseLoadedTemplate(e,t,n)})}},{key:"_preparseLoadedTemplate",value:function(e,t,n){var r=!!e.template,i=La.fromArray(e.interpolation),a=yr({reference:e.ngModuleType},{type:{reference:e.componentType}},{isInline:r,templateUrl:n}),s=this._htmlParser.parse(t,a,{tokenizeExpansionForms:!0,interpolationConfig:i});if(s.errors.length>0){var o=s.errors.join("\n");throw Pn("Template parse errors:\n".concat(o))}var u=this._normalizeStylesheet(new sr({styles:e.styles,moduleUrl:e.moduleUrl})),c=new Np;su(c,s.rootNodes);var l=this._normalizeStylesheet(new sr({styles:c.styles,styleUrls:c.styleUrls,moduleUrl:n}));return{template:t,templateUrl:n,isInline:r,htmlAst:s,styles:u.styles.concat(l.styles),inlineStyleUrls:u.styleUrls.concat(l.styleUrls),styleUrls:this._normalizeStylesheet(new sr({styleUrls:e.styleUrls,moduleUrl:e.moduleUrl})).styleUrls,ngContentSelectors:c.ngContentSelectors}}},{key:"_normalizeTemplateMetadata",value:function(e,t){var n=this;return Nn(this._loadMissingExternalStylesheets(t.styleUrls.concat(t.inlineStyleUrls)),function(r){return n._normalizeLoadedTemplateMetadata(e,t,r)})}},{key:"_normalizeLoadedTemplateMetadata",value:function(e,t,n){var r=this,i=Object(g.a)(t.styles);this._inlineStyles(t.inlineStyleUrls,n,i);var a=t.styleUrls,s=a.map(function(e){var t=n.get(e),i=Object(g.a)(t.styles);return r._inlineStyles(t.styleUrls,n,i),new sr({moduleUrl:e,styles:i})}),o=e.encapsulation;return null==o&&(o=this._config.defaultEncapsulation),o===P.Emulated&&0===i.length&&0===a.length&&(o=P.None),new or({encapsulation:o,template:t.template,templateUrl:t.templateUrl,htmlAst:t.htmlAst,styles:i,styleUrls:a,ngContentSelectors:t.ngContentSelectors,animations:e.animations,interpolation:e.interpolation,isInline:t.isInline,externalStylesheets:s,preserveWhitespaces:Tp(e.preserveWhitespaces,this._config.preserveWhitespaces)})}},{key:"_inlineStyles",value:function(e,t,n){var r=this;e.forEach(function(e){var i=t.get(e);i.styles.forEach(function(e){return n.push(e)}),r._inlineStyles(i.styleUrls,t,n)})}},{key:"_loadMissingExternalStylesheets",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Map;return Nn(Mn(e.filter(function(e){return!n.has(e)}).map(function(e){return Nn(t._fetch(e),function(r){var i=t._normalizeStylesheet(new sr({styles:[r],moduleUrl:e}));return n.set(e,i),t._loadMissingExternalStylesheets(i.styleUrls,n)})})),function(e){return n})}},{key:"_normalizeStylesheet",value:function(e){var t=this,n=e.moduleUrl,r=e.styleUrls.filter(yc).map(function(e){return t._urlResolver.resolve(n,e)}),i=e.styles.map(function(e){var i,a,s,o,u=(i=t._urlResolver,a=n,s=[],o=e.replace(bc,"").replace(gc,function(){var e=(arguments.length<=1?void 0:arguments[1])||(arguments.length<=2?void 0:arguments[2]);return yc(e)?(s.push(i.resolve(a,e)),""):arguments.length<=0?void 0:arguments[0]}),new mc(o,s));return r.push.apply(r,Object(g.a)(u.styleUrls)),u.style});return new sr({styles:i,styleUrls:r,moduleUrl:n})}}]),e}(),Np=function(){function e(){Object(b.a)(this,e),this.ngContentSelectors=[],this.styles=[],this.styleUrls=[],this.ngNonBindableStackCount=0}return Object(k.a)(e,[{key:"visitElement",value:function(e,t){var n=Oc(e);switch(n.type){case Cc.NG_CONTENT:0===this.ngNonBindableStackCount&&this.ngContentSelectors.push(n.selectAttr);break;case Cc.STYLE:var r="";e.children.forEach(function(e){e instanceof eu&&(r+=e.value)}),this.styles.push(r);break;case Cc.STYLESHEET:this.styleUrls.push(n.hrefAttr)}return n.nonBindable&&this.ngNonBindableStackCount++,su(this,e.children),n.nonBindable&&this.ngNonBindableStackCount--,null}},{key:"visitExpansion",value:function(e,t){su(this,e.cases)}},{key:"visitExpansionCase",value:function(e,t){su(this,e.expression)}},{key:"visitComment",value:function(e,t){return null}},{key:"visitAttribute",value:function(e,t){return null}},{key:"visitText",value:function(e,t){return null}}]),e}(),Mp=[K,z,W,q],Ap=function(){function e(t){Object(b.a)(this,e),this._reflector=t}return Object(k.a)(e,[{key:"isDirective",value:function(e){var t=this._reflector.annotations(Un(e));return t&&t.some(Pp)}},{key:"resolve",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=this._reflector.annotations(Un(e));if(n){var r=Ip(n,Pp);if(r){var i=this._reflector.propMetadata(e),a=this._reflector.guards(e);return this._mergeWithPropertyMetadata(r,i,a,e)}}if(t)throw new Error("No Directive annotation found on ".concat(Vn(e)));return null}},{key:"_mergeWithPropertyMetadata",value:function(e,t,n,r){var i=[],a=[],s={},o={};return Object.keys(t).forEach(function(e){var n=Ip(t[e],function(e){return J.isTypeOf(e)});n&&(n.bindingPropertyName?i.push("".concat(e,": ").concat(n.bindingPropertyName)):i.push(e));var r=Ip(t[e],function(e){return Z.isTypeOf(e)});r&&(r.bindingPropertyName?a.push("".concat(e,": ").concat(r.bindingPropertyName)):a.push(e)),t[e].filter(function(e){return ee.isTypeOf(e)}).forEach(function(t){if(t.hostPropertyName){var n=t.hostPropertyName[0];if("("===n)throw new Error("@HostBinding can not bind to events. Use @HostListener instead.");if("["===n)throw new Error("@HostBinding parameter should be a property name, 'class.<name>', or 'attr.<name>'.");s["[".concat(t.hostPropertyName,"]")]=e}else s["[".concat(e,"]")]=e}),t[e].filter(function(e){return te.isTypeOf(e)}).forEach(function(t){var n=t.args||[];s["(".concat(t.eventName,")")]="".concat(e,"(").concat(n.join(","),")")});var u=Ip(t[e],function(e){return Mp.some(function(t){return t.isTypeOf(e)})});u&&(o[e]=u)}),this._merge(e,i,a,s,o,n,r)}},{key:"_extractPublicName",value:function(e){return Sn(e,[null,e])[1].trim()}},{key:"_dedupeBindings",value:function(e){for(var t=new Set,n=new Set,r=[],i=e.length-1;i>=0;i--){var a=e[i],s=this._extractPublicName(a);n.add(s),t.has(s)||(t.add(s),r.push(a))}return r.reverse()}},{key:"_merge",value:function(e,t,n,r,i,a,s){var o=this._dedupeBindings(e.inputs?e.inputs.concat(t):t),u=this._dedupeBindings(e.outputs?e.outputs.concat(n):n),c=e.host?Object.assign(Object.assign({},e.host),r):r,l=e.queries?Object.assign(Object.assign({},e.queries),i):i;if($.isTypeOf(e)){var h=e;return $({selector:h.selector,inputs:o,outputs:u,host:c,exportAs:h.exportAs,moduleId:h.moduleId,queries:l,changeDetection:h.changeDetection,providers:h.providers,viewProviders:h.viewProviders,entryComponents:h.entryComponents,template:h.template,templateUrl:h.templateUrl,styles:h.styles,styleUrls:h.styleUrls,encapsulation:h.encapsulation,animations:h.animations,interpolation:h.interpolation,preserveWhitespaces:e.preserveWhitespaces})}return Q({selector:e.selector,inputs:o,outputs:u,host:c,exportAs:e.exportAs,queries:l,providers:e.providers,guards:a})}}]),e}();function Pp(e){return Q.isTypeOf(e)||$.isTypeOf(e)}function Ip(e,t){for(var n=e.length-1;n>=0;n--)if(t(e[n]))return e[n];return null}var Rp=/^i18n:?/,Dp=!1;function Fp(e,t,n,r,i){return new Vp(r,i).merge(e,t,n)}var Lp,Bp=function e(t,n){Object(b.a)(this,e),this.messages=t,this.errors=n};!function(e){e[e.Extract=0]="Extract",e[e.Merge=1]="Merge"}(Lp||(Lp={}));var Vp=function(){function e(t,n){Object(b.a)(this,e),this._implicitTags=t,this._implicitAttrs=n}return Object(k.a)(e,[{key:"extract",value:function(e,t){var n=this;return this._init(Lp.Extract,t),e.forEach(function(e){return e.visit(n,null)}),this._inI18nBlock&&this._reportError(e[e.length-1],"Unclosed block"),new Bp(this._messages,this._errors)}},{key:"merge",value:function(e,t,n){this._init(Lp.Merge,n),this._translations=t;var r=new iu("wrapper",[],e,void 0,void 0,void 0).visit(this,null);return this._inI18nBlock&&this._reportError(e[e.length-1],"Unclosed block"),new ju(r.children,this._errors)}},{key:"visitExpansionCase",value:function(e,t){var n=su(this,e.expression,t);if(this._mode===Lp.Merge)return new nu(e.value,n,e.sourceSpan,e.valueSourceSpan,e.expSourceSpan)}},{key:"visitExpansion",value:function(e,t){this._mayBeAddBlockChildren(e);var n=this._inIcu;this._inIcu||(this._isInTranslatableSection&&this._addMessage([e]),this._inIcu=!0);var r=su(this,e.cases,t);return this._mode===Lp.Merge&&(e=new tu(e.switchValue,e.type,r,e.sourceSpan,e.switchValueSourceSpan)),this._inIcu=n,e}},{key:"visitComment",value:function(e,t){var n,r=!!((n=e)instanceof au&&n.value&&n.value.startsWith("i18n"));if(r&&this._isInTranslatableSection)return this._reportError(e,"Could not start a block inside a translatable section"),void 0;var i=function(e){return!!(e instanceof au&&e.value&&"/i18n"===e.value)}(e);if(i&&!this._inI18nBlock)return this._reportError(e,"Trying to close an unopened block"),void 0;if(!this._inI18nNode&&!this._inIcu)if(this._inI18nBlock){if(i){if(this._depth==this._blockStartDepth){this._closeTranslatableSection(e,this._blockChildren),this._inI18nBlock=!1;var a=this._addMessage(this._blockChildren,this._blockMeaningAndDesc);return su(this,this._translateMessage(e,a))}return this._reportError(e,"I18N blocks should not cross element boundaries"),void 0}}else if(r){if(!Dp&&console&&console.warn){Dp=!0;var s=e.sourceSpan.details?", ".concat(e.sourceSpan.details):"";console.warn("I18n comments are deprecated, use an <ng-container> element instead (".concat(e.sourceSpan.start).concat(s,")"))}this._inI18nBlock=!0,this._blockStartDepth=this._depth,this._blockChildren=[],this._blockMeaningAndDesc=e.value.replace(Rp,"").trim(),this._openTranslatableSection(e)}}},{key:"visitText",value:function(e,t){return this._isInTranslatableSection&&this._mayBeAddBlockChildren(e),e}},{key:"visitElement",value:function(e,t){var n=this;this._mayBeAddBlockChildren(e),this._depth++;var r=this._inI18nNode,i=this._inImplicitNode,a=[],s=void 0,o=e.attrs.find(function(e){return"i18n"===e.name})||null,u=o?o.value:"",c=this._implicitTags.some(function(t){return e.name===t})&&!this._inIcu&&!this._isInTranslatableSection,l=!i&&c;if(this._inImplicitNode=i||c,this._isInTranslatableSection||this._inIcu)(o||l)&&this._reportError(e,"Could not mark an element as translatable inside a translatable section"),this._mode==Lp.Extract&&su(this,e.children);else{if(o||l){this._inI18nNode=!0;var h=this._addMessage(e.children,u);s=this._translateMessage(e,h)}if(this._mode==Lp.Extract){var p=o||l;p&&this._openTranslatableSection(e),su(this,e.children),p&&this._closeTranslatableSection(e,e.children)}}this._mode===Lp.Merge&&(s||e.children).forEach(function(e){var r=e.visit(n,t);r&&!n._isInTranslatableSection&&(a=a.concat(r))});if(this._visitAttributesOf(e),this._depth--,this._inI18nNode=r,this._inImplicitNode=i,this._mode===Lp.Merge){var v=this._translateAttributes(e);return new iu(e.name,v,a,e.sourceSpan,e.startSourceSpan,e.endSourceSpan)}return null}},{key:"visitAttribute",value:function(e,t){throw new Error("unreachable code")}},{key:"_init",value:function(e,t){this._mode=e,this._inI18nBlock=!1,this._inI18nNode=!1,this._depth=0,this._inIcu=!1,this._msgCountAtSectionStart=void 0,this._errors=[],this._messages=[],this._inImplicitNode=!1,this._createI18nMessage=Jl(t)}},{key:"_visitAttributesOf",value:function(e){var t=this,n={},r=this._implicitAttrs[e.name]||[];e.attrs.filter(function(e){return e.name.startsWith("i18n-")}).forEach(function(e){return n[e.name.slice("i18n-".length)]=e.value}),e.attrs.forEach(function(e){e.name in n?t._addMessage([e],n[e.name]):r.some(function(t){return e.name===t})&&t._addMessage([e])})}},{key:"_addMessage",value:function(e,t){if(0==e.length||1==e.length&&e[0]instanceof ru&&!e[0].value)return null;var n=Up(t),r=n.meaning,i=n.description,a=n.id,s=this._createI18nMessage(e,r,i,a);return this._messages.push(s),s}},{key:"_translateMessage",value:function(e,t){if(t&&this._mode===Lp.Merge){var n=this._translations.get(t);if(n)return n;this._reportError(e,'Translation unavailable for message id="'.concat(this._translations.digest(t),'"'))}return[]}},{key:"_translateAttributes",value:function(e){var t=this,n=e.attrs,r={};n.forEach(function(e){e.name.startsWith("i18n-")&&(r[e.name.slice("i18n-".length)]=Up(e.value))});var i=[];return n.forEach(function(n){if("i18n"!==n.name&&!n.name.startsWith("i18n-"))if(n.value&&""!=n.value&&r.hasOwnProperty(n.name)){var a=r[n.name],s=a.meaning,o=a.description,u=a.id,c=t._createI18nMessage([n],s,o,u),l=t._translations.get(c);if(l)if(0==l.length)i.push(new ru(n.name,"",n.sourceSpan,void 0,void 0,void 0));else if(l[0]instanceof eu){var h=l[0].value;i.push(new ru(n.name,h,n.sourceSpan,void 0,void 0,void 0))}else t._reportError(e,'Unexpected translation for attribute "'.concat(n.name,'" (id="').concat(u||t._translations.digest(c),'")'));else t._reportError(e,'Translation unavailable for attribute "'.concat(n.name,'" (id="').concat(u||t._translations.digest(c),'")'))}else i.push(n)}),i}},{key:"_mayBeAddBlockChildren",value:function(e){this._inI18nBlock&&!this._inIcu&&this._depth==this._blockStartDepth&&this._blockChildren.push(e)}},{key:"_openTranslatableSection",value:function(e){this._isInTranslatableSection?this._reportError(e,"Unexpected section start"):this._msgCountAtSectionStart=this._messages.length}},{key:"_isInTranslatableSection",get:function(){return void 0!==this._msgCountAtSectionStart}},{key:"_closeTranslatableSection",value:function(e,t){if(!this._isInTranslatableSection)return this._reportError(e,"Unexpected section end"),void 0;var n=this._msgCountAtSectionStart;if(1==t.reduce(function(e,t){return e+(t instanceof au?0:1)},0))for(var r=this._messages.length-1;r>=n;r--){var i=this._messages[r].nodes;if(!(1==i.length&&i[0]instanceof ii)){this._messages.splice(r,1);break}}this._msgCountAtSectionStart=void 0}},{key:"_reportError",value:function(e,t){this._errors.push(new rh(e.sourceSpan,t))}}]),e}();function Up(e){if(!e)return{meaning:"",description:"",id:""};var t=e.indexOf("@@"),n=e.indexOf("|"),r=t>-1?[e.slice(0,t),e.slice(t+2)]:[e,""],i=Object(h.a)(r,2),a=i[0],s=i[1],o=n>-1?[a.slice(0,n),a.slice(n+1)]:["",a],u=Object(h.a)(o,2);return{meaning:u[0],description:u[1],id:s.trim()}}var Hp=new(function(){function e(){Object(b.a)(this,e),this.closedByParent=!1,this.isVoid=!1,this.ignoreFirstLf=!1,this.canSelfClose=!0,this.preventNamespaceInheritance=!1}return Object(k.a)(e,[{key:"requireExtraParent",value:function(e){return!1}},{key:"isClosedByChild",value:function(e){return!1}},{key:"getContentType",value:function(){return i.PARSABLE_DATA}}]),e}());function qp(e){return Hp}var Wp=function(e){Object(m.a)(n,e);var t=Object(y.a)(n);function n(){return Object(b.a)(this,n),t.call(this,qp)}return Object(k.a)(n,[{key:"parse",value:function(e,t,r){return Object(f.a)(Object(d.a)(n.prototype),"parse",this).call(this,e,t,r)}}]),n}(Nu),zp=function(e){Object(m.a)(n,e);var t=Object(y.a)(n);function n(){return Object(b.a)(this,n),t.apply(this,arguments)}return Object(k.a)(n,[{key:"write",value:function(e,t){var n=new Kp,r=[];e.forEach(function(e){var t,i=[];e.sources.forEach(function(e){var t=new Wi("context-group",{purpose:"location"});t.children.push(new Ki(10),new Wi("context",{"context-type":"sourcefile"},[new zi(e.filePath)]),new Ki(10),new Wi("context",{"context-type":"linenumber"},[new zi("".concat(e.startLine))]),new Ki(8)),i.push(new Ki(8),t)});var a=new Wi("trans-unit",{id:e.id,datatype:"html"});(t=a.children).push.apply(t,[new Ki(8),new Wi("source",{},n.serialize(e.nodes))].concat(i)),e.description&&a.children.push(new Ki(8),new Wi("note",{priority:"1",from:"description"},[new zi(e.description)])),e.meaning&&a.children.push(new Ki(8),new Wi("note",{priority:"1",from:"meaning"},[new zi(e.meaning)])),a.children.push(new Ki(6)),r.push(new Ki(6),a)});var i=new Wi("body",{},[].concat(r,[new Ki(4)])),a=new Wi("file",{"source-language":t||"en",datatype:"plaintext",original:"ng2.template"},[new Ki(4),i,new Ki(2)]),s=new Wi("xliff",{version:"1.2",xmlns:"urn:oasis:names:tc:xliff:document:1.2"},[new Ki(2),a,new Ki]);return Ui([new Hi({version:"1.0",encoding:"UTF-8"}),new Ki,s,new Ki])}},{key:"load",value:function(e,t){var n=(new Qp).parse(e,t),r=n.locale,i=n.msgIdToHtml,a=n.errors,s={},o=new Xp;if(Object.keys(i).forEach(function(e){var n=o.convert(i[e],t),r=n.i18nNodes,u=n.errors;a.push.apply(a,Object(g.a)(u)),s[e]=r}),a.length)throw new Error("xliff parse errors:\n".concat(a.join("\n")));return{locale:r,i18nNodesByMsgId:s}}},{key:"digest",value:function(e){return di(e)}}]),n}(Li),Kp=function(){function e(){Object(b.a)(this,e)}return Object(k.a)(e,[{key:"visitText",value:function(e,t){return[new zi(e.value)]}},{key:"visitContainer",value:function(e,t){var n=this,r=[];return e.children.forEach(function(e){return r.push.apply(r,Object(g.a)(e.visit(n)))}),r}},{key:"visitIcu",value:function(e,t){var n=this,r=[new zi("{".concat(e.expressionPlaceholder,", ").concat(e.type,", "))];return Object.keys(e.cases).forEach(function(t){r.push.apply(r,[new zi("".concat(t," {"))].concat(Object(g.a)(e.cases[t].visit(n)),[new zi("} ")]))}),r.push(new zi("}")),r}},{key:"visitTagPlaceholder",value:function(e,t){var n=function(e){switch(e.toLowerCase()){case"br":return"lb";case"img":return"image";default:return"x-".concat(e)}}(e.tag);if(e.isVoid)return[new Wi("x",{id:e.startName,ctype:n,"equiv-text":"<".concat(e.tag,"/>")})];var r=new Wi("x",{id:e.startName,ctype:n,"equiv-text":"<".concat(e.tag,">")}),i=new Wi("x",{id:e.closeName,ctype:n,"equiv-text":"</".concat(e.tag,">")});return[r].concat(Object(g.a)(this.serialize(e.children)),[i])}},{key:"visitPlaceholder",value:function(e,t){return[new Wi("x",{id:e.name,"equiv-text":"{{".concat(e.value,"}}")})]}},{key:"visitIcuPlaceholder",value:function(e,t){var n="{".concat(e.value.expression,", ").concat(e.value.type,", ").concat(Object.keys(e.value.cases).map(function(e){return e+" {...}"}).join(" "),"}");return[new Wi("x",{id:e.name,"equiv-text":n})]}},{key:"serialize",value:function(e){var t,n=this;return(t=[]).concat.apply(t,Object(g.a)(e.map(function(e){return e.visit(n)})))}}]),e}(),Qp=function(){function e(){Object(b.a)(this,e),this._locale=null}return Object(k.a)(e,[{key:"parse",value:function(e,t){this._unitMlString=null,this._msgIdToHtml={};var n=(new Wp).parse(e,t);return this._errors=n.errors,su(this,n.rootNodes,null),{msgIdToHtml:this._msgIdToHtml,errors:this._errors,locale:this._locale}}},{key:"visitElement",value:function(e,t){switch(e.name){case"trans-unit":this._unitMlString=null;var n=e.attrs.find(function(e){return"id"===e.name});if(n){var r=n.value;this._msgIdToHtml.hasOwnProperty(r)?this._addError(e,"Duplicated translations for msg ".concat(r)):(su(this,e.children,null),"string"==typeof this._unitMlString?this._msgIdToHtml[r]=this._unitMlString:this._addError(e,"Message ".concat(r," misses a translation")))}else this._addError(e,"<".concat("trans-unit",'> misses the "id" attribute'));break;case"source":case"seg-source":case"alt-trans":break;case"target":var i=e.startSourceSpan.end.offset,a=e.endSourceSpan.start.offset,s=e.startSourceSpan.start.file.content.slice(i,a);this._unitMlString=s;break;case"file":var o=e.attrs.find(function(e){return"target-language"===e.name});o&&(this._locale=o.value),su(this,e.children,null);break;default:su(this,e.children,null)}}},{key:"visitAttribute",value:function(e,t){}},{key:"visitText",value:function(e,t){}},{key:"visitComment",value:function(e,t){}},{key:"visitExpansion",value:function(e,t){}},{key:"visitExpansionCase",value:function(e,t){}},{key:"_addError",value:function(e,t){this._errors.push(new rh(e.sourceSpan,t))}}]),e}(),Xp=function(){function e(){Object(b.a)(this,e)}return Object(k.a)(e,[{key:"convert",value:function(e,t){var n,r=(new Wp).parse(e,t,{tokenizeExpansionForms:!0});return this._errors=r.errors,{i18nNodes:this._errors.length>0||0==r.rootNodes.length?[]:(n=[]).concat.apply(n,Object(g.a)(su(this,r.rootNodes))),errors:this._errors}}},{key:"visitText",value:function(e,t){return new ii(e.value,e.sourceSpan)}},{key:"visitElement",value:function(e,t){if("x"===e.name){var n=e.attrs.find(function(e){return"id"===e.name});return n?new ui("",n.value,e.sourceSpan):(this._addError(e,"<".concat("x",'> misses the "id" attribute')),null)}var r;return"mrk"===e.name?(r=[]).concat.apply(r,Object(g.a)(su(this,e.children))):(this._addError(e,"Unexpected tag"),null)}},{key:"visitExpansion",value:function(e,t){var n={};return su(this,e.cases).forEach(function(t){n[t.value]=new ai(t.nodes,e.sourceSpan)}),new si(e.switchValue,e.type,n,e.sourceSpan)}},{key:"visitExpansionCase",value:function(e,t){return{value:e.value,nodes:su(this,e.expression)}}},{key:"visitComment",value:function(e,t){}},{key:"visitAttribute",value:function(e,t){}},{key:"_addError",value:function(e,t){this._errors.push(new rh(e.sourceSpan,t))}}]),e}();var Gp=function(e){Object(m.a)(n,e);var t=Object(y.a)(n);function n(){return Object(b.a)(this,n),t.apply(this,arguments)}return Object(k.a)(n,[{key:"write",value:function(e,t){var n=new $p,r=[];e.forEach(function(e){var t=new Wi("unit",{id:e.id}),i=new Wi("notes");(e.description||e.meaning)&&(e.description&&i.children.push(new Ki(8),new Wi("note",{category:"description"},[new zi(e.description)])),e.meaning&&i.children.push(new Ki(8),new Wi("note",{category:"meaning"},[new zi(e.meaning)]))),e.sources.forEach(function(e){i.children.push(new Ki(8),new Wi("note",{category:"location"},[new zi("".concat(e.filePath,":").concat(e.startLine).concat(e.endLine!==e.startLine?","+e.endLine:""))]))}),i.children.push(new Ki(6)),t.children.push(new Ki(6),i);var a=new Wi("segment");a.children.push(new Ki(8),new Wi("source",{},n.serialize(e.nodes)),new Ki(6)),t.children.push(new Ki(6),a,new Ki(4)),r.push(new Ki(4),t)});var i=new Wi("file",{original:"ng.template",id:"ngi18n"},[].concat(r,[new Ki(2)])),a=new Wi("xliff",{version:"2.0",xmlns:"urn:oasis:names:tc:xliff:document:2.0",srcLang:t||"en"},[new Ki(2),i,new Ki]);return Ui([new Hi({version:"1.0",encoding:"UTF-8"}),new Ki,a,new Ki])}},{key:"load",value:function(e,t){var n=(new Yp).parse(e,t),r=n.locale,i=n.msgIdToHtml,a=n.errors,s={},o=new Jp;if(Object.keys(i).forEach(function(e){var n=o.convert(i[e],t),r=n.i18nNodes,u=n.errors;a.push.apply(a,Object(g.a)(u)),s[e]=r}),a.length)throw new Error("xliff2 parse errors:\n".concat(a.join("\n")));return{locale:r,i18nNodesByMsgId:s}}},{key:"digest",value:function(e){return yi(e)}}]),n}(Li),$p=function(){function e(){Object(b.a)(this,e)}return Object(k.a)(e,[{key:"visitText",value:function(e,t){return[new zi(e.value)]}},{key:"visitContainer",value:function(e,t){var n=this,r=[];return e.children.forEach(function(e){return r.push.apply(r,Object(g.a)(e.visit(n)))}),r}},{key:"visitIcu",value:function(e,t){var n=this,r=[new zi("{".concat(e.expressionPlaceholder,", ").concat(e.type,", "))];return Object.keys(e.cases).forEach(function(t){r.push.apply(r,[new zi("".concat(t," {"))].concat(Object(g.a)(e.cases[t].visit(n)),[new zi("} ")]))}),r.push(new zi("}")),r}},{key:"visitTagPlaceholder",value:function(e,t){var n,r=this,i=function(e){switch(e.toLowerCase()){case"br":case"b":case"i":case"u":return"fmt";case"img":return"image";case"a":return"link";default:return"other"}}(e.tag);if(e.isVoid)return[new Wi("ph",{id:(this._nextPlaceholderId++).toString(),equiv:e.startName,type:i,disp:"<".concat(e.tag,"/>")})];var a=new Wi("pc",{id:(this._nextPlaceholderId++).toString(),equivStart:e.startName,equivEnd:e.closeName,type:i,dispStart:"<".concat(e.tag,">"),dispEnd:"</".concat(e.tag,">")}),s=(n=[]).concat.apply(n,Object(g.a)(e.children.map(function(e){return e.visit(r)})));return s.length?s.forEach(function(e){return a.children.push(e)}):a.children.push(new zi("")),[a]}},{key:"visitPlaceholder",value:function(e,t){var n=(this._nextPlaceholderId++).toString();return[new Wi("ph",{id:n,equiv:e.name,disp:"{{".concat(e.value,"}}")})]}},{key:"visitIcuPlaceholder",value:function(e,t){var n=Object.keys(e.value.cases).map(function(e){return e+" {...}"}).join(" "),r=(this._nextPlaceholderId++).toString();return[new Wi("ph",{id:r,equiv:e.name,disp:"{".concat(e.value.expression,", ").concat(e.value.type,", ").concat(n,"}")})]}},{key:"serialize",value:function(e){var t,n=this;return this._nextPlaceholderId=0,(t=[]).concat.apply(t,Object(g.a)(e.map(function(e){return e.visit(n)})))}}]),e}(),Yp=function(){function e(){Object(b.a)(this,e),this._locale=null}return Object(k.a)(e,[{key:"parse",value:function(e,t){this._unitMlString=null,this._msgIdToHtml={};var n=(new Wp).parse(e,t);return this._errors=n.errors,su(this,n.rootNodes,null),{msgIdToHtml:this._msgIdToHtml,errors:this._errors,locale:this._locale}}},{key:"visitElement",value:function(e,t){switch(e.name){case"unit":this._unitMlString=null;var n=e.attrs.find(function(e){return"id"===e.name});if(n){var r=n.value;this._msgIdToHtml.hasOwnProperty(r)?this._addError(e,"Duplicated translations for msg ".concat(r)):(su(this,e.children,null),"string"==typeof this._unitMlString?this._msgIdToHtml[r]=this._unitMlString:this._addError(e,"Message ".concat(r," misses a translation")))}else this._addError(e,"<".concat("unit",'> misses the "id" attribute'));break;case"source":break;case"target":var i=e.startSourceSpan.end.offset,a=e.endSourceSpan.start.offset,s=e.startSourceSpan.start.file.content.slice(i,a);this._unitMlString=s;break;case"xliff":var o=e.attrs.find(function(e){return"trgLang"===e.name});o&&(this._locale=o.value);var u=e.attrs.find(function(e){return"version"===e.name});if(u){var c=u.value;"2.0"!==c?this._addError(e,"The XLIFF file version ".concat(c," is not compatible with XLIFF 2.0 serializer")):su(this,e.children,null)}break;default:su(this,e.children,null)}}},{key:"visitAttribute",value:function(e,t){}},{key:"visitText",value:function(e,t){}},{key:"visitComment",value:function(e,t){}},{key:"visitExpansion",value:function(e,t){}},{key:"visitExpansionCase",value:function(e,t){}},{key:"_addError",value:function(e,t){this._errors.push(new rh(e.sourceSpan,t))}}]),e}(),Jp=function(){function e(){Object(b.a)(this,e)}return Object(k.a)(e,[{key:"convert",value:function(e,t){var n,r=(new Wp).parse(e,t,{tokenizeExpansionForms:!0});return this._errors=r.errors,{i18nNodes:this._errors.length>0||0==r.rootNodes.length?[]:(n=[]).concat.apply(n,Object(g.a)(su(this,r.rootNodes))),errors:this._errors}}},{key:"visitText",value:function(e,t){return new ii(e.value,e.sourceSpan)}},{key:"visitElement",value:function(e,t){var n,r=this;switch(e.name){case"ph":var i=e.attrs.find(function(e){return"equiv"===e.name});if(i)return[new ui("",i.value,e.sourceSpan)];this._addError(e,"<".concat("ph",'> misses the "equiv" attribute'));break;case"pc":var a=e.attrs.find(function(e){return"equivStart"===e.name}),s=e.attrs.find(function(e){return"equivEnd"===e.name});if(a){if(s){var o=a.value,u=s.value,c=[];return c.concat.apply(c,[new ui("",o,e.sourceSpan)].concat(Object(g.a)(e.children.map(function(e){return e.visit(r,null)})),[new ui("",u,e.sourceSpan)]))}this._addError(e,"<".concat("ph",'> misses the "equivEnd" attribute'))}else this._addError(e,"<".concat("ph",'> misses the "equivStart" attribute'));break;case"mrk":return(n=[]).concat.apply(n,Object(g.a)(su(this,e.children)));default:this._addError(e,"Unexpected tag")}return null}},{key:"visitExpansion",value:function(e,t){var n={};return su(this,e.cases).forEach(function(t){n[t.value]=new ai(t.nodes,e.sourceSpan)}),new si(e.switchValue,e.type,n,e.sourceSpan)}},{key:"visitExpansionCase",value:function(e,t){var n;return{value:e.value,nodes:(n=[]).concat.apply(n,Object(g.a)(su(this,e.expression)))}}},{key:"visitComment",value:function(e,t){}},{key:"visitAttribute",value:function(e,t){}},{key:"_addError",value:function(e,t){this._errors.push(new rh(e.sourceSpan,t))}}]),e}();var Zp=function(e){Object(m.a)(n,e);var t=Object(y.a)(n);function n(){return Object(b.a)(this,n),t.apply(this,arguments)}return Object(k.a)(n,[{key:"write",value:function(e,t){throw new Error("Unsupported")}},{key:"load",value:function(e,t){var n=(new ev).parse(e,t),r=n.locale,i=n.msgIdToHtml,a=n.errors,s={},o=new tv;if(Object.keys(i).forEach(function(e){!function(e,t,n){Object.defineProperty(e,t,{configurable:!0,enumerable:!0,get:function(){var r=n();return Object.defineProperty(e,t,{enumerable:!0,value:r}),r},set:function(e){throw new Error("Could not overwrite an XTB translation")}})}(s,e,function(){var n=o.convert(i[e],t),r=n.i18nNodes,a=n.errors;if(a.length)throw new Error("xtb parse errors:\n".concat(a.join("\n")));return r})}),a.length)throw new Error("xtb parse errors:\n".concat(a.join("\n")));return{locale:r,i18nNodesByMsgId:s}}},{key:"digest",value:function(e){return Yi(e)}},{key:"createNameMapper",value:function(e){return new Bi(e,Zi)}}]),n}(Li);var ev=function(){function e(){Object(b.a)(this,e),this._locale=null}return Object(k.a)(e,[{key:"parse",value:function(e,t){this._bundleDepth=0,this._msgIdToHtml={};var n=(new Wp).parse(e,t);return this._errors=n.errors,su(this,n.rootNodes),{msgIdToHtml:this._msgIdToHtml,errors:this._errors,locale:this._locale}}},{key:"visitElement",value:function(e,t){switch(e.name){case"translationbundle":this._bundleDepth++,this._bundleDepth>1&&this._addError(e,"<".concat("translationbundle","> elements can not be nested"));var n=e.attrs.find(function(e){return"lang"===e.name});n&&(this._locale=n.value),su(this,e.children,null),this._bundleDepth--;break;case"translation":var r=e.attrs.find(function(e){return"id"===e.name});if(r){var i=r.value;if(this._msgIdToHtml.hasOwnProperty(i))this._addError(e,"Duplicated translations for msg ".concat(i));else{var a=e.startSourceSpan.end.offset,s=e.endSourceSpan.start.offset,o=e.startSourceSpan.start.file.content.slice(a,s);this._msgIdToHtml[i]=o}}else this._addError(e,"<".concat("translation",'> misses the "id" attribute'));break;default:this._addError(e,"Unexpected tag")}}},{key:"visitAttribute",value:function(e,t){}},{key:"visitText",value:function(e,t){}},{key:"visitComment",value:function(e,t){}},{key:"visitExpansion",value:function(e,t){}},{key:"visitExpansionCase",value:function(e,t){}},{key:"_addError",value:function(e,t){this._errors.push(new rh(e.sourceSpan,t))}}]),e}(),tv=function(){function e(){Object(b.a)(this,e)}return Object(k.a)(e,[{key:"convert",value:function(e,t){var n=(new Wp).parse(e,t,{tokenizeExpansionForms:!0});return this._errors=n.errors,{i18nNodes:this._errors.length>0||0==n.rootNodes.length?[]:su(this,n.rootNodes),errors:this._errors}}},{key:"visitText",value:function(e,t){return new ii(e.value,e.sourceSpan)}},{key:"visitExpansion",value:function(e,t){var n={};return su(this,e.cases).forEach(function(t){n[t.value]=new ai(t.nodes,e.sourceSpan)}),new si(e.switchValue,e.type,n,e.sourceSpan)}},{key:"visitExpansionCase",value:function(e,t){return{value:e.value,nodes:su(this,e.expression)}}},{key:"visitElement",value:function(e,t){if("ph"===e.name){var n=e.attrs.find(function(e){return"name"===e.name});if(n)return new ui("",n.value,e.sourceSpan);this._addError(e,"<".concat("ph",'> misses the "name" attribute'))}else this._addError(e,"Unexpected tag");return null}},{key:"visitComment",value:function(e,t){}},{key:"visitAttribute",value:function(e,t){}},{key:"_addError",value:function(e,t){this._errors.push(new rh(e.sourceSpan,t))}}]),e}(),nv=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0,r=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:G.Warning,s=arguments.length>5?arguments[5]:void 0;Object(b.a)(this,e),this._i18nNodesByMsgId=t,this.digest=r,this.mapperFactory=i,this._i18nToHtml=new rv(t,n,r,i,a,s)}return Object(k.a)(e,[{key:"get",value:function(e){var t=this._i18nToHtml.convert(e);if(t.errors.length)throw new Error(t.errors.join("\n"));return t.nodes}},{key:"has",value:function(e){return this.digest(e)in this._i18nNodesByMsgId}}],[{key:"load",value:function(t,n,r,i,a){var s=r.load(t,n),o=s.locale;return new e(s.i18nNodesByMsgId,o,function(e){return r.digest(e)},function(e){return r.createNameMapper(e)},i,a)}}]),e}(),rv=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0,r=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0,a=arguments.length>4?arguments[4]:void 0,s=arguments.length>5?arguments[5]:void 0;Object(b.a)(this,e),this._i18nNodesByMsgId=t,this._locale=n,this._digest=r,this._mapperFactory=i,this._missingTranslationStrategy=a,this._console=s,this._contextStack=[],this._errors=[]}return Object(k.a)(e,[{key:"convert",value:function(e){this._contextStack.length=0,this._errors.length=0;var t=this._convertToText(e),n=e.nodes[0].sourceSpan.start.file.url,r=(new Pu).parse(t,n,{tokenizeExpansionForms:!0});return{nodes:r.rootNodes,errors:[].concat(Object(g.a)(this._errors),Object(g.a)(r.errors))}}},{key:"visitText",value:function(e,t){return Xi(e.value)}},{key:"visitContainer",value:function(e,t){var n=this;return e.children.map(function(e){return e.visit(n)}).join("")}},{key:"visitIcu",value:function(e,t){var n=this,r=Object.keys(e.cases).map(function(t){return"".concat(t," {").concat(e.cases[t].visit(n),"}")}),i=this._srcMsg.placeholders.hasOwnProperty(e.expression)?this._srcMsg.placeholders[e.expression].text:e.expression;return"{".concat(i,", ").concat(e.type,", ").concat(r.join(" "),"}")}},{key:"visitPlaceholder",value:function(e,t){var n=this._mapper(e.name);return this._srcMsg.placeholders.hasOwnProperty(n)?this._srcMsg.placeholders[n].text:this._srcMsg.placeholderToMessage.hasOwnProperty(n)?this._convertToText(this._srcMsg.placeholderToMessage[n]):(this._addError(e,'Unknown placeholder "'.concat(e.name,'"')),"")}},{key:"visitTagPlaceholder",value:function(e,t){var n=this,r="".concat(e.tag),i=Object.keys(e.attrs).map(function(t){return"".concat(t,'="').concat(e.attrs[t],'"')}).join(" ");if(e.isVoid)return"<".concat(r," ").concat(i,"/>");var a=e.children.map(function(e){return e.visit(n)}).join("");return"<".concat(r," ").concat(i,">").concat(a,"</").concat(r,">")}},{key:"visitIcuPlaceholder",value:function(e,t){return this._convertToText(this._srcMsg.placeholderToMessage[e.name])}},{key:"_convertToText",value:function(e){var t,n=this,r=this._digest(e),i=this._mapperFactory?this._mapperFactory(e):null;if(this._contextStack.push({msg:this._srcMsg,mapper:this._mapper}),this._srcMsg=e,this._i18nNodesByMsgId.hasOwnProperty(r))t=this._i18nNodesByMsgId[r],this._mapper=function(e){return i?i.toInternalName(e):e};else{if(this._missingTranslationStrategy===G.Error){var a=this._locale?' for locale "'.concat(this._locale,'"'):"";this._addError(e.nodes[0],'Missing translation for message "'.concat(r,'"').concat(a))}else if(this._console&&this._missingTranslationStrategy===G.Warning){var s=this._locale?' for locale "'.concat(this._locale,'"'):"";this._console.warn('Missing translation for message "'.concat(r,'"').concat(s))}t=e.nodes,this._mapper=function(e){return e}}var o=t.map(function(e){return e.visit(n)}).join(""),u=this._contextStack.pop();return this._srcMsg=u.msg,this._mapper=u.mapper,o}},{key:"_addError",value:function(e,t){this._errors.push(new rh(e.sourceSpan,t))}}]),e}(),iv=function(){function e(t,n,r){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:G.Warning,a=arguments.length>4?arguments[4]:void 0;if(Object(b.a)(this,e),this._htmlParser=t,n){var s=av(r);this._translationBundle=nv.load(n,"i18n",s,i,a)}else this._translationBundle=new nv({},null,di,void 0,i,a)}return Object(k.a)(e,[{key:"parse",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.interpolationConfig||Ba,i=this._htmlParser.parse(e,t,Object.assign({interpolationConfig:r},n));return i.errors.length?new ju(i.rootNodes,i.errors):Fp(i.rootNodes,this._translationBundle,r,[],{})}}]),e}();function av(e){switch(e=(e||"xlf").toLowerCase()){case"xmb":return new Gi;case"xtb":return new Zp;case"xliff2":case"xlf2":return new Gp;case"xliff":case"xlf":default:return new zp}}function sv(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return wn(t,new ov(e),n)}var ov=function(){function e(t){Object(b.a)(this,e),this.ctx=t}return Object(k.a)(e,[{key:"visitArray",value:function(e,t){for(var n=[],r=0;r<e.length;++r)n.push(wn(e[r],this,null));return Zt(n,t)}},{key:"visitStringMap",value:function(e,t){var n=this,r=[],i=new Set(e&&e.$quoted$);return Object.keys(e).forEach(function(t){r.push(new yt(t,wn(e[t],n,null),i.has(t)))}),new gt(r,t)}},{key:"visitPrimitive",value:function(e,t){return an(e,t)}},{key:"visitOther",value:function(e,t){return e instanceof Ie?e:this.ctx.importExpr(e)}}]),e}();function uv(e,t){return{key:e,value:t,quoted:!1}}var cv=function(){function e(t,n){Object(b.a)(this,e),this.reflector=t,this.alwaysGenerateDef=n,this.tokenInjector=t.resolveExternalReference(yn.Injector)}return Object(k.a)(e,[{key:"depsArray",value:function(e,t){var n=this;return e.map(function(e){var r,i=e,a=[i],s=0;if(Array.isArray(e))for(var o=0;o<e.length;o++){var u=e[o];u&&("Optional"===u.ngMetadataName?s|=8:"SkipSelf"===u.ngMetadataName?s|=4:"Self"===u.ngMetadataName?s|=2:i="Inject"===u.ngMetadataName?u.token:u)}return r="string"==typeof i?an(i):i===n.tokenInjector?Gt(yn.INJECTOR):t.importExpr(i),a=0!==s?[r,an(s)]:[r],Gt(yn.inject).callFn(a)})}},{key:"factoryFor",value:function(e,t){var n;if(e.useExisting)n=Gt(yn.inject).callFn([t.importExpr(e.useExisting)]);else if(e.useFactory){var r=e.deps||[];if(!(r.length>0))return t.importExpr(e.useFactory);n=t.importExpr(e.useFactory).callFn(this.depsArray(r,t))}else if(e.useValue)n=sv(t,e.useValue);else{var i=e.useClass||e.symbol,a=this.depsArray(this.reflector.parameters(i),t);n=new ze(t.importExpr(i),a)}return tn([],[new Tt(n)],void 0,void 0,e.symbol.name+"_Factory")}},{key:"injectableDef",value:function(e,t){var n=kt;void 0!==e.providedIn&&(n=null===e.providedIn?kt:"string"==typeof e.providedIn?an(e.providedIn):t.importExpr(e.providedIn));var r=[uv("factory",this.factoryFor(e,t)),uv("token",t.importExpr(e.type.reference)),uv("providedIn",n)];return Gt(yn.\u0275\u0275defineInjectable).callFn([en(r)])}},{key:"compile",value:function(e,t){if(this.alwaysGenerateDef||void 0!==e.providedIn){var n=Jn(e.type),r=new Pt(n,null,[new Nt("\u0275prov",we,[rt.Static],this.injectableDef(e,t))],[],new Mt(null,[],[]),[]);t.statements.push(r)}}}]),e}(),lv=/(\.ts|\.d\.ts|\.js|\.jsx|\.tsx)$/,hv=/\.ngfactory\.|\.ngsummary\./,pv=/\.ngsummary\./,vv=/NgSummary$/;function fv(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=mv(e,t);return"".concat(n[0],".ngfactory").concat(yv(n[1]))}function dv(e){return e.replace(hv,".")}function mv(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e.endsWith(".d.ts"))return[e.slice(0,-5),t?".ts":".d.ts"];var n=e.lastIndexOf(".");return-1!==n?[e.substring(0,n),e.substring(n)]:[e,""]}function yv(e){return".tsx"===e?".ts":e}function gv(e){var t=e.replace(lv,"");return"".concat(t,".ngsummary.json")}function bv(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=mv(dv(e),t);return"".concat(n[0],".ngsummary").concat(n[1])}function kv(e){return e.replace(pv,".")}function Ev(e){return"".concat(e,"NgSummary")}function _v(e){return e.replace(vv,"")}var Sv,xv=/\u0275\d+/;function wv(e){return xv.test(e)}function Cv(e){return"\u0275".concat(e)}!function(e){e[e.OnInit=0]="OnInit",e[e.OnDestroy=1]="OnDestroy",e[e.DoCheck=2]="DoCheck",e[e.OnChanges=3]="OnChanges",e[e.AfterContentInit=4]="AfterContentInit",e[e.AfterContentChecked=5]="AfterContentChecked",e[e.AfterViewInit=6]="AfterViewInit",e[e.AfterViewChecked=7]="AfterViewChecked"}(Sv||(Sv={}));var Ov=[Sv.OnInit,Sv.OnDestroy,Sv.DoCheck,Sv.OnChanges,Sv.AfterContentInit,Sv.AfterContentChecked,Sv.AfterViewInit,Sv.AfterViewChecked];function Tv(e,t,n){return e.hasLifecycleHook(n,function(e){switch(e){case Sv.OnInit:return"ngOnInit";case Sv.OnDestroy:return"ngOnDestroy";case Sv.DoCheck:return"ngDoCheck";case Sv.OnChanges:return"ngOnChanges";case Sv.AfterContentInit:return"ngAfterContentInit";case Sv.AfterContentChecked:return"ngAfterContentChecked";case Sv.AfterViewInit:return"ngAfterViewInit";case Sv.AfterViewChecked:return"ngAfterViewChecked";default:var t=e;throw new Error("unexpected ".concat(t))}}(t))}function jv(e,t){return Ov.filter(function(n){return Tv(e,n,t)})}var Nv="ngComponentType";function Mv(e){var t;return null!==(t=e.ngMissingNgModuleMetadataErrorData)&&void 0!==t?t:null}var Av=function(){function e(t,n,r,i,a,s,o,u,c,l,h,p){Object(b.a)(this,e),this._config=t,this._htmlParser=n,this._ngModuleResolver=r,this._directiveResolver=i,this._pipeResolver=a,this._summaryResolver=s,this._schemaRegistry=o,this._directiveNormalizer=u,this._console=c,this._staticSymbolCache=l,this._reflector=h,this._errorCollector=p,this._nonNormalizedDirectiveCache=new Map,this._directiveCache=new Map,this._summaryCache=new Map,this._pipeCache=new Map,this._ngModuleCache=new Map,this._ngModuleOfTypes=new Map,this._shallowModuleCache=new Map}return Object(k.a)(e,[{key:"getReflector",value:function(){return this._reflector}},{key:"clearCacheFor",value:function(e){var t=this._directiveCache.get(e);this._directiveCache.delete(e),this._nonNormalizedDirectiveCache.delete(e),this._summaryCache.delete(e),this._pipeCache.delete(e),this._ngModuleOfTypes.delete(e),this._ngModuleCache.clear(),t&&this._directiveNormalizer.clearCacheFor(t)}},{key:"clearCache",value:function(){this._directiveCache.clear(),this._nonNormalizedDirectiveCache.clear(),this._summaryCache.clear(),this._pipeCache.clear(),this._ngModuleCache.clear(),this._ngModuleOfTypes.clear(),this._directiveNormalizer.clearCache()}},{key:"_createProxyClass",value:function(e,t){var n=null,r=function(){if(!n)throw new Error("Illegal state: Class ".concat(t," for type ").concat(Vn(e)," is not compiled yet!"));return n.apply(this,arguments)};return r.setDelegate=function(e){n=e,r.prototype=e.prototype},r.overriddenName=t,r}},{key:"getGeneratedClass",value:function(e,t){return e instanceof kn?this._staticSymbolCache.get(fv(e.filePath),t):this._createProxyClass(e,t)}},{key:"getComponentViewClass",value:function(e){return this.getGeneratedClass(e,er(e,0))}},{key:"getHostComponentViewClass",value:function(e){return this.getGeneratedClass(e,nr(e))}},{key:"getHostComponentType",value:function(e){var t="".concat(Jn({reference:e}),"_Host");return e instanceof kn?this._staticSymbolCache.get(e.filePath,t):this._createProxyClass(e,t)}},{key:"getRendererType",value:function(e){return e instanceof kn?this._staticSymbolCache.get(fv(e.filePath),tr(e)):{}}},{key:"getComponentFactory",value:function(e,t,n,r){if(t instanceof kn)return this._staticSymbolCache.get(fv(t.filePath),rr(t));var i=this.getHostComponentViewClass(t);return this._reflector.resolveExternalReference(yn.createComponentFactory)(e,t,i,n,r,[])}},{key:"initComponentFactory",value:function(e,t){var n;e instanceof kn||(n=e.ngContentSelectors).push.apply(n,Object(g.a)(t))}},{key:"_loadSummary",value:function(e,t){var n=this._summaryCache.get(e);if(!n){var r=this._summaryResolver.resolveSummary(e);n=r?r.type:null,this._summaryCache.set(e,n||null)}return n&&n.summaryKind===t?n:null}},{key:"getHostComponentMetadata",value:function(e,t){var n=this.getHostComponentType(e.type.reference);t||(t=this.getHostComponentViewClass(n));var r=D.parse(e.selector)[0].getMatchingElementTemplate(),i=this._htmlParser.parse(r,"");return ur.create({isHost:!0,type:{reference:n,diDeps:[],lifecycleHooks:[]},template:new or({encapsulation:P.None,template:r,templateUrl:"",htmlAst:i,styles:[],styleUrls:[],ngContentSelectors:[],animations:[],isInline:!0,externalStylesheets:[],interpolation:null,preserveWhitespaces:!1}),exportAs:null,changeDetection:I.Default,inputs:[],outputs:[],host:{},isComponent:!0,selector:"*",providers:[],viewProviders:[],queries:[],guards:{},viewQueries:[],componentViewType:t,rendererType:{id:"__Host__",encapsulation:P.None,styles:[],data:{}},entryComponents:[],componentFactory:null})}},{key:"loadDirectiveMetadata",value:function(e,t,n){var r=this;if(this._directiveCache.has(t))return null;t=Un(t);var i=this.getNonNormalizedDirectiveMetadata(t),a=i.annotation,s=i.metadata,o=function(e){var n=new ur({isHost:!1,type:s.type,isComponent:s.isComponent,selector:s.selector,exportAs:s.exportAs,changeDetection:s.changeDetection,inputs:s.inputs,outputs:s.outputs,hostListeners:s.hostListeners,hostProperties:s.hostProperties,hostAttributes:s.hostAttributes,providers:s.providers,viewProviders:s.viewProviders,queries:s.queries,guards:s.guards,viewQueries:s.viewQueries,entryComponents:s.entryComponents,componentViewType:s.componentViewType,rendererType:s.rendererType,componentFactory:s.componentFactory,template:e});return e&&r.initComponentFactory(s.componentFactory,e.ngContentSelectors),r._directiveCache.set(t,n),r._summaryCache.set(t,n.toSummary()),null};if(s.isComponent){var u=s.template,c=this._directiveNormalizer.normalizeTemplate({ngModuleType:e,componentType:t,moduleUrl:this._reflector.componentModuleUrl(t,a),encapsulation:u.encapsulation,template:u.template,templateUrl:u.templateUrl,styles:u.styles,styleUrls:u.styleUrls,animations:u.animations,interpolation:u.interpolation,preserveWhitespaces:u.preserveWhitespaces});return Hn(c)&&n?(this._reportError(function(e){var t=Error("Can't compile synchronously as ".concat(Vn(e)," is still being loaded!"));return t[Nv]=e,t}(t),t),null):Nn(c,o)}return o(null),null}},{key:"getNonNormalizedDirectiveMetadata",value:function(e){var t=this;if(!(e=Un(e)))return null;var n=this._nonNormalizedDirectiveCache.get(e);if(n)return n;var r=this._directiveResolver.resolve(e,!1);if(!r)return null;var i=void 0;if($.isTypeOf(r)){var a=r;Ia("styles",a.styles),Ia("styleUrls",a.styleUrls),Da("interpolation",a.interpolation);var s=a.animations;i=new or({encapsulation:On(a.encapsulation),template:On(a.template),templateUrl:On(a.templateUrl),htmlAst:null,styles:a.styles||[],styleUrls:a.styleUrls||[],animations:s||[],interpolation:On(a.interpolation),isInline:!!a.template,externalStylesheets:[],ngContentSelectors:[],preserveWhitespaces:On(r.preserveWhitespaces)})}var o=null,u=[],c=[],l=r.selector;if($.isTypeOf(r)){var h=r;o=h.changeDetection,h.viewProviders&&(u=this._getProvidersMetadata(h.viewProviders,c,'viewProviders for "'.concat(Dv(e),'"'),[],e)),h.entryComponents&&(c=Pv(h.entryComponents).map(function(e){return t._getEntryComponentMetadata(e)}).concat(c)),l||(l=this._schemaRegistry.getDefaultComponentElementName())}else l||(l=null);var p=[];null!=r.providers&&(p=this._getProvidersMetadata(r.providers,c,'providers for "'.concat(Dv(e),'"'),[],e));var v=[],f=[];null!=r.queries&&(v=this._getQueriesMetadata(r.queries,!1,e),f=this._getQueriesMetadata(r.queries,!0,e));var d=ur.create({isHost:!1,selector:l,exportAs:On(r.exportAs),isComponent:!!i,type:this._getTypeMetadata(e),template:i,changeDetection:o,inputs:r.inputs||[],outputs:r.outputs||[],host:r.host||{},providers:p||[],viewProviders:u||[],queries:v||[],guards:r.guards||{},viewQueries:f||[],entryComponents:c,componentViewType:i?this.getComponentViewClass(e):null,rendererType:i?this.getRendererType(e):null,componentFactory:null});return i&&(d.componentFactory=this.getComponentFactory(l,e,d.inputs,d.outputs)),n={metadata:d,annotation:r},this._nonNormalizedDirectiveCache.set(e,n),n}},{key:"getDirectiveMetadata",value:function(e){var t=this._directiveCache.get(e);return t||this._reportError(Pn("Illegal state: getDirectiveMetadata can only be called after loadNgModuleDirectiveAndPipeMetadata for a module that declares it. Directive ".concat(Dv(e),".")),e),t}},{key:"getDirectiveSummary",value:function(e){var t=this._loadSummary(e,$n.Directive);return t||this._reportError(Pn("Illegal state: Could not load the summary for directive ".concat(Dv(e),".")),e),t}},{key:"isDirective",value:function(e){return!!this._loadSummary(e,$n.Directive)||this._directiveResolver.isDirective(e)}},{key:"isAbstractDirective",value:function(e){var t=this._loadSummary(e,$n.Directive);if(t&&!t.isComponent)return!t.selector;var n=this._directiveResolver.resolve(e,!1);return!(!n||$.isTypeOf(n))&&!n.selector}},{key:"isPipe",value:function(e){return!!this._loadSummary(e,$n.Pipe)||this._pipeResolver.isPipe(e)}},{key:"isNgModule",value:function(e){return!!this._loadSummary(e,$n.NgModule)||this._ngModuleResolver.isNgModule(e)}},{key:"getNgModuleSummary",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=this._loadSummary(e,$n.NgModule);if(!n){var r=this.getNgModuleMetadata(e,!1,t);(n=r?r.toSummary():null)&&this._summaryCache.set(e,n)}return n}},{key:"loadNgModuleDirectiveAndPipeMetadata",value:function(e,t){var n=this,r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],i=this.getNgModuleMetadata(e,r),a=[];return i&&(i.declaredDirectives.forEach(function(r){var i=n.loadDirectiveMetadata(e,r.reference,t);i&&a.push(i)}),i.declaredPipes.forEach(function(e){return n._loadPipeMetadata(e.reference)})),Promise.all(a)}},{key:"getShallowModuleMetadata",value:function(e){var t=this._shallowModuleCache.get(e);if(t)return t;var n=Ip(this._reflector.shallowAnnotations(e),ne.isTypeOf);return t={type:this._getTypeMetadata(e),rawExports:n.exports,rawImports:n.imports,rawProviders:n.providers},this._shallowModuleCache.set(e,t),t}},{key:"getNgModuleMetadata",value:function(e){var t=this,n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e=Un(e);var i=this._ngModuleCache.get(e);if(i)return i;var a=this._ngModuleResolver.resolve(e,n);if(!a)return null;var s=[],o=[],u=[],c=[],l=[],h=[],p=[],v=[],f=[];a.imports&&Pv(a.imports).forEach(function(n){var i=void 0;if(Iv(n))i=n;else if(n&&n.ngModule){var a=n;i=a.ngModule,a.providers&&h.push.apply(h,Object(g.a)(t._getProvidersMetadata(a.providers,p,"provider for the NgModule '".concat(Dv(i),"'"),[],n)))}if(!i)return t._reportError(Pn("Unexpected value '".concat(Dv(n),"' imported by the module '").concat(Dv(e),"'")),e),void 0;if(!t._checkSelfImport(e,i)){if(r||(r=new Set),r.has(i))return t._reportError(Pn("".concat(t._getTypeDescriptor(i)," '").concat(Dv(n),"' is imported recursively by the module '").concat(Dv(e),"'.")),e),void 0;r.add(i);var s=t.getNgModuleSummary(i,r);if(r.delete(i),!s){var o=Pn("Unexpected ".concat(t._getTypeDescriptor(n)," '").concat(Dv(n),"' imported by the module '").concat(Dv(e),"'. Please add a @NgModule annotation."));return n instanceof kn&&(o.ngMissingNgModuleMetadataErrorData={fileName:n.filePath,className:n.name}),t._reportError(o,e),void 0}c.push(s)}}),a.exports&&Pv(a.exports).forEach(function(n){if(!Iv(n))return t._reportError(Pn("Unexpected value '".concat(Dv(n),"' exported by the module '").concat(Dv(e),"'")),e),void 0;if(r||(r=new Set),r.has(n))return t._reportError(Pn("".concat(t._getTypeDescriptor(n)," '").concat(Vn(n),"' is exported recursively by the module '").concat(Dv(e),"'")),e),void 0;r.add(n);var i=t.getNgModuleSummary(n,r);r.delete(n),i?l.push(i):o.push(t._getIdentifierMetadata(n))});var d=this._getTransitiveNgModuleMetadata(c,l);a.declarations&&Pv(a.declarations).forEach(function(n){if(!Iv(n))return t._reportError(Pn("Unexpected value '".concat(Dv(n),"' declared by the module '").concat(Dv(e),"'")),e),void 0;var r=t._getIdentifierMetadata(n);if(t.isDirective(n))t.isAbstractDirective(n)&&t._reportError(Pn("Directive ".concat(Dv(n)," has no selector, please add it!")),n),d.addDirective(r),s.push(r),t._addTypeToModule(n,e);else{if(!t.isPipe(n))return t._reportError(Pn("Unexpected ".concat(t._getTypeDescriptor(n)," '").concat(Dv(n),"' declared by the module '").concat(Dv(e),"'. Please add a @Pipe/@Directive/@Component annotation.")),e),void 0;d.addPipe(r),d.pipes.push(r),u.push(r),t._addTypeToModule(n,e)}});var m=[],y=[];return o.forEach(function(n){if(d.directivesSet.has(n.reference))m.push(n),d.addExportedDirective(n);else{if(!d.pipesSet.has(n.reference))return t._reportError(Pn("Can't export ".concat(t._getTypeDescriptor(n.reference)," ").concat(Dv(n.reference)," from ").concat(Dv(e)," as it was neither declared nor imported!")),e),void 0;y.push(n),d.addExportedPipe(n)}}),a.providers&&h.push.apply(h,Object(g.a)(this._getProvidersMetadata(a.providers,p,"provider for the NgModule '".concat(Dv(e),"'"),[],e))),a.entryComponents&&p.push.apply(p,Object(g.a)(Pv(a.entryComponents).map(function(e){return t._getEntryComponentMetadata(e)}))),a.bootstrap&&Pv(a.bootstrap).forEach(function(n){if(!Iv(n))return t._reportError(Pn("Unexpected value '".concat(Dv(n),"' used in the bootstrap property of module '").concat(Dv(e),"'")),e),void 0;v.push(t._getIdentifierMetadata(n))}),p.push.apply(p,Object(g.a)(v.map(function(e){return t._getEntryComponentMetadata(e.reference)}))),a.schemas&&f.push.apply(f,Object(g.a)(Pv(a.schemas))),i=new hr({type:this._getTypeMetadata(e),providers:h,entryComponents:p,bootstrapComponents:v,schemas:f,declaredDirectives:s,exportedDirectives:m,declaredPipes:u,exportedPipes:y,importedModules:c,exportedModules:l,transitiveModule:d,id:a.id||null}),p.forEach(function(e){return d.addEntryComponent(e)}),h.forEach(function(e){return d.addProvider(e,i.type)}),d.addModule(i.type),this._ngModuleCache.set(e,i),i}},{key:"_checkSelfImport",value:function(e,t){return e===t&&(this._reportError(Pn("'".concat(Dv(e),"' module can't import itself")),e),!0)}},{key:"_getTypeDescriptor",value:function(e){if(Iv(e)){if(this.isDirective(e))return"directive";if(this.isPipe(e))return"pipe";if(this.isNgModule(e))return"module"}return e.provide?"provider":"value"}},{key:"_addTypeToModule",value:function(e,t){var n=this._ngModuleOfTypes.get(e);if(n&&n!==t)return this._reportError(Pn("Type ".concat(Dv(e)," is part of the declarations of 2 modules: ").concat(Dv(n)," and ").concat(Dv(t),"! ")+"Please consider moving ".concat(Dv(e)," to a higher module that imports ").concat(Dv(n)," and ").concat(Dv(t),". ")+"You can also create a new NgModule that exports and includes ".concat(Dv(e)," then import that NgModule in ").concat(Dv(n)," and ").concat(Dv(t),".")),t),void 0;this._ngModuleOfTypes.set(e,t)}},{key:"_getTransitiveNgModuleMetadata",value:function(e,t){var n=new pr,r=new Map;return e.concat(t).forEach(function(e){e.modules.forEach(function(e){return n.addModule(e)}),e.entryComponents.forEach(function(e){return n.addEntryComponent(e)});var t=new Set;e.providers.forEach(function(e){var i=ar(e.provider.token),a=r.get(i);a||(a=new Set,r.set(i,a));var s=e.module.reference;!t.has(i)&&a.has(s)||(a.add(s),t.add(i),n.addProvider(e.provider,e.module))})}),t.forEach(function(e){e.exportedDirectives.forEach(function(e){return n.addExportedDirective(e)}),e.exportedPipes.forEach(function(e){return n.addExportedPipe(e)})}),e.forEach(function(e){e.exportedDirectives.forEach(function(e){return n.addDirective(e)}),e.exportedPipes.forEach(function(e){return n.addPipe(e)})}),n}},{key:"_getIdentifierMetadata",value:function(e){return{reference:e=Un(e)}}},{key:"isInjectable",value:function(e){return this._reflector.tryAnnotations(e).some(function(e){return re.isTypeOf(e)})}},{key:"getInjectableSummary",value:function(e){return{summaryKind:$n.Injectable,type:this._getTypeMetadata(e,null,!1)}}},{key:"getInjectableMetadata",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=this._loadSummary(e,$n.Injectable),i=r?r.type:this._getTypeMetadata(e,t,n),a=this._reflector.annotations(e).filter(function(e){return re.isTypeOf(e)});if(0===a.length)return null;var s=a[a.length-1];return{symbol:e,type:i,providedIn:s.providedIn,useValue:s.useValue,useClass:s.useClass,useExisting:s.useExisting,useFactory:s.useFactory,deps:s.deps}}},{key:"_getTypeMetadata",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=this._getIdentifierMetadata(e);return{reference:r.reference,diDeps:this._getDependenciesMetadata(r.reference,t,n),lifecycleHooks:jv(this._reflector,r.reference)}}},{key:"_getFactoryMetadata",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return{reference:e=Un(e),diDeps:this._getDependenciesMetadata(e,t)}}},{key:"getPipeMetadata",value:function(e){var t=this._pipeCache.get(e);return t||this._reportError(Pn("Illegal state: getPipeMetadata can only be called after loadNgModuleDirectiveAndPipeMetadata for a module that declares it. Pipe ".concat(Dv(e),".")),e),t||null}},{key:"getPipeSummary",value:function(e){var t=this._loadSummary(e,$n.Pipe);return t||this._reportError(Pn("Illegal state: Could not load the summary for pipe ".concat(Dv(e),".")),e),t}},{key:"getOrLoadPipeMetadata",value:function(e){var t=this._pipeCache.get(e);return t||(t=this._loadPipeMetadata(e)),t}},{key:"_loadPipeMetadata",value:function(e){e=Un(e);var t=this._pipeResolver.resolve(e),n=new cr({type:this._getTypeMetadata(e),name:t.name,pure:!!t.pure});return this._pipeCache.set(e,n),this._summaryCache.set(e,n.toSummary()),n}},{key:"_getDependenciesMetadata",value:function(e,t){var n=this,r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],i=!1,a=t||this._reflector.parameters(e)||[],s=a.map(function(e){var t=!1,r=!1,a=!1,s=!1,o=!1,u=null;return Array.isArray(e)?e.forEach(function(e){ce.isTypeOf(e)?r=!0:oe.isTypeOf(e)?a=!0:ue.isTypeOf(e)?s=!0:se.isTypeOf(e)?o=!0:H.isTypeOf(e)?(t=!0,u=e.attributeName):V.isTypeOf(e)?u=e.token:(U.isTypeOf(e)||e instanceof kn||Iv(e)&&null==u)&&(u=e)}):u=e,null==u?(i=!0,{}):{isAttribute:t,isHost:r,isSelf:a,isSkipSelf:s,isOptional:o,token:n._getTokenMetadata(u)}});if(i){var o=s.map(function(e){return e.token?Dv(e.token):"?"}).join(", "),u="Can't resolve all parameters for ".concat(Dv(e),": (").concat(o,").");(r||this._config.strictInjectionParameters)&&this._reportError(Pn(u),e)}return s}},{key:"_getTokenMetadata",value:function(e){return"string"==typeof(e=Un(e))?{value:e}:{identifier:{reference:e}}}},{key:"_getProvidersMetadata",value:function(e,t,n){var r=this,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4?arguments[4]:void 0;return e.forEach(function(s,o){if(Array.isArray(s))r._getProvidersMetadata(s,t,n,i);else{var u=void 0;if((s=Un(s))&&"object"==typeof s&&s.hasOwnProperty("provide"))r._validateProvider(s),u=new fr(s.provide,s);else{if(!Iv(s)){if(void 0===s)return r._reportError(Pn("Encountered undefined provider! Usually this means you have a circular dependencies. This might be caused by using 'barrel' index.ts files.")),void 0;var c=e.reduce(function(e,t,n){return n<o?e.push("".concat(Dv(t))):n==o?e.push("?".concat(Dv(t),"?")):n==o+1&&e.push("..."),e},[]).join(", ");return r._reportError(Pn("Invalid ".concat(n||"provider"," - only instances of Provider and Type are allowed, got: [").concat(c,"]")),a),void 0}u=new fr(s,{useClass:s})}u.token===r._reflector.resolveExternalReference(yn.ANALYZE_FOR_ENTRY_COMPONENTS)?t.push.apply(t,Object(g.a)(r._getEntryComponentsFromProvider(u,a))):i.push(r.getProviderMetadata(u))}}),i}},{key:"_validateProvider",value:function(e){e.hasOwnProperty("useClass")&&null==e.useClass&&this._reportError(Pn("Invalid provider for ".concat(Dv(e.provide),". useClass cannot be ").concat(e.useClass,".\n           Usually it happens when:\n           1. There's a circular dependency (might be caused by using index.ts (barrel) files).\n           2. Class was used before it was declared. Use forwardRef in this case.")))}},{key:"_getEntryComponentsFromProvider",value:function(e,t){var n,r,i=this,a=[],s=[];return e.useFactory||e.useExisting||e.useClass?(this._reportError(Pn("The ANALYZE_FOR_ENTRY_COMPONENTS token only supports useValue!"),t),[]):e.multi?(n=e.useValue,r=s,void wn(n,new Rv,r),s.forEach(function(e){var t=i._getEntryComponentMetadata(e.reference,!1);t&&a.push(t)}),a):(this._reportError(Pn("The ANALYZE_FOR_ENTRY_COMPONENTS token only supports 'multi = true'!"),t),[])}},{key:"_getEntryComponentMetadata",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=this.getNonNormalizedDirectiveMetadata(e);if(n&&n.metadata.isComponent)return{componentType:e,componentFactory:n.metadata.componentFactory};var r=this._loadSummary(e,$n.Directive);if(r&&r.isComponent)return{componentType:e,componentFactory:r.componentFactory};if(t)throw Pn("".concat(e.name," cannot be used as an entry component."));return null}},{key:"_getInjectableTypeMetadata",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=this._loadSummary(e,$n.Injectable);return n?n.type:this._getTypeMetadata(e,t)}},{key:"getProviderMetadata",value:function(e){var t=void 0,n=null,r=null,i=this._getTokenMetadata(e.token);return e.useClass?(t=(n=this._getInjectableTypeMetadata(e.useClass,e.dependencies)).diDeps,e.token===e.useClass&&(i={identifier:n})):e.useFactory&&(t=(r=this._getFactoryMetadata(e.useFactory,e.dependencies)).diDeps),{token:i,useClass:n,useValue:e.useValue,useFactory:r,useExisting:e.useExisting?this._getTokenMetadata(e.useExisting):void 0,deps:t,multi:e.multi}}},{key:"_getQueriesMetadata",value:function(e,t,n){var r=this,i=[];return Object.keys(e).forEach(function(a){var s=e[a];s.isViewQuery===t&&i.push(r._getQueryMetadata(s,a,n))}),i}},{key:"_queryVarBindings",value:function(e){return e.split(/\s*,\s*/)}},{key:"_getQueryMetadata",value:function(e,t,n){var r,i=this;return"string"==typeof e.selector?r=this._queryVarBindings(e.selector).map(function(e){return i._getTokenMetadata(e)}):e.selector?r=[this._getTokenMetadata(e.selector)]:(this._reportError(Pn("Can't construct a query for the property \"".concat(t,'" of "').concat(Dv(n),"\" since the query selector wasn't defined.")),n),r=[]),{selectors:r,first:e.first,descendants:e.descendants,emitDistinctChangesOnly:e.emitDistinctChangesOnly,propertyName:t,read:e.read?this._getTokenMetadata(e.read):null,static:e.static}}},{key:"_reportError",value:function(e,t,n){if(!this._errorCollector)throw e;this._errorCollector(e,t),n&&this._errorCollector(e,n)}}]),e}();function Pv(e){return(t=function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];if(t)for(var r=0;r<t.length;r++){var i=Un(t[r]);Array.isArray(i)?e(i,n):n.push(i)}return n}(e))?Array.from(new Set(t)):[];var t}function Iv(e){return e instanceof kn||e instanceof le}var Rv=function(e){Object(m.a)(n,e);var t=Object(y.a)(n);function n(){return Object(b.a)(this,n),t.apply(this,arguments)}return Object(k.a)(n,[{key:"visitOther",value:function(e,t){t.push({reference:e})}}]),n}(Tn);function Dv(e){return e instanceof kn?"".concat(e.name," in ").concat(e.filePath):Vn(e)}function Fv(e,t){var n=0;t.eager||(n|=4096),t.providerType===Wu.PrivateService&&(n|=8192),t.isModule&&(n|=1073741824),t.lifecycleHooks.forEach(function(e){e!==Sv.OnDestroy&&t.providerType!==Wu.Directive&&t.providerType!==Wu.Component||(n|=Uv(e))});var r=t.multiProvider?function(e,t,n){var r=[],i=[],a=n.map(function(t,n){var r;if(t.useClass){var i=s(n,t.deps||t.useClass.diDeps);r=e.importExpr(t.useClass.reference).instantiate(i)}else if(t.useFactory){var a=s(n,t.deps||t.useFactory.diDeps);r=e.importExpr(t.useFactory.reference).callFn(a)}else if(t.useExisting){r=s(n,[{token:t.useExisting}])[0]}else r=sv(e,t.useValue);return r});return{providerExpr:tn(i,[new Tt(Zt(a))],we),flags:1024|t,depsExpr:Zt(r)};function s(t,n){return n.map(function(n,a){var s="p".concat(t,"_").concat(a);return i.push(new lt(s,xe)),r.push(Vv(e,n)),Xt(s)})}}(e,n,t.providers):Lv(e,n,t.providerType,t.providers[0]);return{providerExpr:r.providerExpr,flags:r.flags,depsExpr:r.depsExpr,tokenExpr:Bv(e,t.token)}}function Lv(e,t,n,r){var i,a;return n===Wu.Directive||n===Wu.Component?(i=e.importExpr(r.useClass.reference),t|=16384,a=r.deps||r.useClass.diDeps):r.useClass?(i=e.importExpr(r.useClass.reference),t|=512,a=r.deps||r.useClass.diDeps):r.useFactory?(i=e.importExpr(r.useFactory.reference),t|=1024,a=r.deps||r.useFactory.diDeps):r.useExisting?(i=kt,t|=2048,a=[{token:r.useExisting}]):(i=sv(e,r.useValue),t|=256,a=[]),{providerExpr:i,flags:t,depsExpr:Zt(a.map(function(t){return Vv(e,t)}))}}function Bv(e,t){return t.identifier?e.importExpr(t.identifier.reference):an(t.value)}function Vv(e,t){var n=t.isValue?sv(e,t.value):Bv(e,t.token),r=0;return t.isSkipSelf&&(r|=1),t.isOptional&&(r|=2),t.isSelf&&(r|=4),t.isValue&&(r|=8),0===r?n:Zt([an(r),n])}function Uv(e){var t=0;switch(e){case Sv.AfterContentChecked:t=2097152;break;case Sv.AfterContentInit:t=1048576;break;case Sv.AfterViewChecked:t=8388608;break;case Sv.AfterViewInit:t=4194304;break;case Sv.DoCheck:t=262144;break;case Sv.OnChanges:t=524288;break;case Sv.OnDestroy:t=131072;break;case Sv.OnInit:t=65536}return t}function Hv(e,t,n,r){var i=r.map(function(e){return t.importExpr(e.componentFactory)}),a=bn(e,yn.ComponentFactoryResolver),s={diDeps:[{isValue:!0,value:Zt(i)},{token:a,isSkipSelf:!0,isOptional:!0},{token:bn(e,yn.NgModuleRef)}],lifecycleHooks:[],reference:e.resolveExternalReference(yn.CodegenComponentFactoryResolver)},o=Lv(t,n,Wu.PrivateService,{token:a,multi:!1,useClass:s});return{providerExpr:o.providerExpr,flags:o.flags,depsExpr:o.depsExpr,tokenExpr:Bv(t,a)}}var qv=function e(t){Object(b.a)(this,e),this.ngModuleFactoryVar=t},Wv=Xt("_l"),zv=function(){function e(t){Object(b.a)(this,e),this.reflector=t}return Object(k.a)(e,[{key:"compile",value:function(e,t,n){var r=ns("NgModule",t.type),i=t.transitiveModule.entryComponents,a=t.bootstrapComponents,s=new hc(this.reflector,t,n,r),o=[Hv(this.reflector,e,0,i)].concat(s.parse().map(function(t){return Fv(e,t)})).map(function(e){var t=e.providerExpr,n=e.depsExpr,r=e.flags,i=e.tokenExpr;return Gt(yn.moduleProviderDef).callFn([an(r),i,t,n])}),u=Gt(yn.moduleDef).callFn([Zt(o)]),c=tn([new lt(Wv.name)],[new Tt(u)],we),l="".concat(Jn(t.type),"NgFactory");if(this._createNgModuleFactory(e,t.type.reference,Gt(yn.createModuleFactory).callFn([e.importExpr(t.type.reference),Zt(a.map(function(t){return e.importExpr(t.reference)})),c])),t.id){var h="string"==typeof t.id?an(t.id):e.importExpr(t.id),p=Gt(yn.RegisterModuleFactoryFn).callFn([h,Xt(l)]).toStmt();e.statements.push(p)}return new qv(l)}},{key:"createStub",value:function(e,t){this._createNgModuleFactory(e,t,kt)}},{key:"_createNgModuleFactory",value:function(e,t,n){var r=Xt("".concat(Jn({reference:t}),"NgFactory")).set(n).toDeclStmt($t(yn.NgModuleFactory,[Yt(e.importExpr(t))],[fe.Const]),[rt.Final,rt.Exported]);e.statements.push(r)}}]),e}(),Kv=function(){function e(t){Object(b.a)(this,e),this._reflector=t}return Object(k.a)(e,[{key:"isNgModule",value:function(e){return this._reflector.annotations(e).some(ne.isTypeOf)}},{key:"resolve",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=Ip(this._reflector.annotations(e),ne.isTypeOf);if(n)return n;if(t)throw new Error("No NgModule metadata found for '".concat(Vn(e),"'."));return null}}]),e}();function Qv(e){var t=new Gv,n=Mr.createRoot();return(Array.isArray(e)?e:[e]).forEach(function(e){if(e instanceof xt)e.visitStatement(t,n);else if(e instanceof Ie)e.visitExpression(t,n);else{if(!(e instanceof ye))throw new Error("Don't know how to print debug info for ".concat(e));e.visitType(t,n)}}),n.toSource()}var Xv=function(){function e(){Object(b.a)(this,e)}return Object(k.a)(e,[{key:"emitStatementsAndContext",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],i=arguments.length>4?arguments[4]:void 0,a=arguments.length>5?arguments[5]:void 0,s=new Gv(i,a),o=Mr.createRoot();s.visitAllStatements(t,o);var u=n?n.split("\n"):[];s.reexports.forEach(function(e,t){var n=e.map(function(e){return"".concat(e.name," as ").concat(e.as)}).join(",");u.push("export {".concat(n,"} from '").concat(t,"';"))}),s.importsWithPrefixes.forEach(function(e,t){u.push("imp"+"ort * as ".concat(e," from '").concat(t,"';"))});var c=r?o.toSourceMapGenerator(e,u.length).toJsComment():"",l=[].concat(Object(g.a)(u),[o.toSource(),c]);return c&&l.push(""),o.setPreambleLineCount(u.length),{sourceText:l.join("\n"),context:o}}},{key:"emitStatements",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";return this.emitStatementsAndContext(e,t,n).sourceText}}]),e}(),Gv=function(e){Object(m.a)(n,e);var t=Object(y.a)(n);function n(e,r){var i;return Object(b.a)(this,n),(i=t.call(this,!1)).referenceFilter=e,i.importFilter=r,i.typeExpression=0,i.importsWithPrefixes=new Map,i.reexports=new Map,i}return Object(k.a)(n,[{key:"visitType",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"any";e?(this.typeExpression++,e.visitType(this,t),this.typeExpression--):t.print(null,n)}},{key:"visitLiteralExpr",value:function(e,t){var r=e.value;return null==r&&e.type!=we?(t.print(e,"(".concat(r," as any)")),null):Object(f.a)(Object(d.a)(n.prototype),"visitLiteralExpr",this).call(this,e,t)}},{key:"visitLiteralArrayExpr",value:function(e,t){0===e.entries.length&&t.print(e,"(");var r=Object(f.a)(Object(d.a)(n.prototype),"visitLiteralArrayExpr",this).call(this,e,t);return 0===e.entries.length&&t.print(e," as any[])"),r}},{key:"visitExternalExpr",value:function(e,t){return this._visitIdentifier(e.value,e.typeParams,t),null}},{key:"visitAssertNotNullExpr",value:function(e,t){var r=Object(f.a)(Object(d.a)(n.prototype),"visitAssertNotNullExpr",this).call(this,e,t);return t.print(e,"!"),r}},{key:"visitDeclareVarStmt",value:function(e,t){if(e.hasModifier(rt.Exported)&&e.value instanceof it&&!e.type){var n=e.value.value,r=n.name,i=n.moduleName;if(i){var a=this.reexports.get(i);return a||(a=[],this.reexports.set(i,a)),a.push({name:r,as:e.name}),null}}return e.hasModifier(rt.Exported)&&t.print(e,"export "),e.hasModifier(rt.Final)?t.print(e,"const"):t.print(e,"var"),t.print(e," ".concat(e.name)),this._printColonType(e.type,t),e.value&&(t.print(e," = "),e.value.visitExpression(this,t)),t.println(e,";"),null}},{key:"visitWrappedNodeExpr",value:function(e,t){throw new Error("Cannot visit a WrappedNodeExpr when outputting Typescript.")}},{key:"visitCastExpr",value:function(e,t){return t.print(e,"(<"),e.type.visitType(this,t),t.print(e,">"),e.value.visitExpression(this,t),t.print(e,")"),null}},{key:"visitInstantiateExpr",value:function(e,t){return t.print(e,"new "),this.typeExpression++,e.classExpr.visitExpression(this,t),this.typeExpression--,t.print(e,"("),this.visitAllExpressions(e.args,t,","),t.print(e,")"),null}},{key:"visitDeclareClassStmt",value:function(e,t){var n=this;return t.pushClass(e),e.hasModifier(rt.Exported)&&t.print(e,"export "),t.print(e,"class ".concat(e.name)),null!=e.parent&&(t.print(e," extends "),this.typeExpression++,e.parent.visitExpression(this,t),this.typeExpression--),t.println(e," {"),t.incIndent(),e.fields.forEach(function(e){return n._visitClassField(e,t)}),null!=e.constructorMethod&&this._visitClassConstructor(e,t),e.getters.forEach(function(e){return n._visitClassGetter(e,t)}),e.methods.forEach(function(e){return n._visitClassMethod(e,t)}),t.decIndent(),t.println(e,"}"),t.popClass(),null}},{key:"_visitClassField",value:function(e,t){e.hasModifier(rt.Private)&&t.print(null,"/*private*/ "),e.hasModifier(rt.Static)&&t.print(null,"static "),t.print(null,e.name),this._printColonType(e.type,t),e.initializer&&(t.print(null," = "),e.initializer.visitExpression(this,t)),t.println(null,";")}},{key:"_visitClassGetter",value:function(e,t){e.hasModifier(rt.Private)&&t.print(null,"private "),t.print(null,"get ".concat(e.name,"()")),this._printColonType(e.type,t),t.println(null," {"),t.incIndent(),this.visitAllStatements(e.body,t),t.decIndent(),t.println(null,"}")}},{key:"_visitClassConstructor",value:function(e,t){t.print(e,"constructor("),this._visitParams(e.constructorMethod.params,t),t.println(e,") {"),t.incIndent(),this.visitAllStatements(e.constructorMethod.body,t),t.decIndent(),t.println(e,"}")}},{key:"_visitClassMethod",value:function(e,t){e.hasModifier(rt.Private)&&t.print(null,"private "),t.print(null,"".concat(e.name,"(")),this._visitParams(e.params,t),t.print(null,")"),this._printColonType(e.type,t,"void"),t.println(null," {"),t.incIndent(),this.visitAllStatements(e.body,t),t.decIndent(),t.println(null,"}")}},{key:"visitFunctionExpr",value:function(e,t){return e.name&&(t.print(e,"function "),t.print(e,e.name)),t.print(e,"("),this._visitParams(e.params,t),t.print(e,")"),this._printColonType(e.type,t,"void"),e.name||t.print(e," => "),t.println(e,"{"),t.incIndent(),this.visitAllStatements(e.statements,t),t.decIndent(),t.print(e,"}"),null}},{key:"visitDeclareFunctionStmt",value:function(e,t){return e.hasModifier(rt.Exported)&&t.print(e,"export "),t.print(e,"function ".concat(e.name,"(")),this._visitParams(e.params,t),t.print(e,")"),this._printColonType(e.type,t,"void"),t.println(e," {"),t.incIndent(),this.visitAllStatements(e.statements,t),t.decIndent(),t.println(e,"}"),null}},{key:"visitTryCatchStmt",value:function(e,t){t.println(e,"try {"),t.incIndent(),this.visitAllStatements(e.bodyStmts,t),t.decIndent(),t.println(e,"} catch (".concat(Tr.name,") {")),t.incIndent();var n=[jr.set(Tr.prop("stack",null)).toDeclStmt(null,[rt.Final])].concat(e.catchStmts);return this.visitAllStatements(n,t),t.decIndent(),t.println(e,"}"),null}},{key:"visitBuiltinType",value:function(e,t){var n;switch(e.name){case me.Bool:n="boolean";break;case me.Dynamic:n="any";break;case me.Function:n="Function";break;case me.Number:case me.Int:n="number";break;case me.String:n="string";break;case me.None:n="never";break;default:throw new Error("Unsupported builtin type ".concat(e.name))}return t.print(null,n),null}},{key:"visitExpressionType",value:function(e,t){var n=this;return e.value.visitExpression(this,t),null!==e.typeParams&&(t.print(null,"<"),this.visitAllObjects(function(e){return n.visitType(e,t)},e.typeParams,t,","),t.print(null,">")),null}},{key:"visitArrayType",value:function(e,t){return this.visitType(e.of,t),t.print(null,"[]"),null}},{key:"visitMapType",value:function(e,t){return t.print(null,"{[key: string]:"),this.visitType(e.valueType,t),t.print(null,"}"),null}},{key:"getBuiltinMethodName",value:function(e){var t;switch(e){case Re.ConcatArray:t="concat";break;case Re.SubscribeObservable:t="subscribe";break;case Re.Bind:t="bind";break;default:throw new Error("Unknown builtin method: ".concat(e))}return t}},{key:"_visitParams",value:function(e,t){var n=this;this.visitAllObjects(function(e){t.print(null,e.name),n._printColonType(e.type,t)},e,t,",")}},{key:"_visitIdentifier",value:function(e,t,n){var r=this,i=e.name,a=e.moduleName;if(this.referenceFilter&&this.referenceFilter(e))return n.print(null,"(null as any)"),void 0;if(a&&(!this.importFilter||!this.importFilter(e))){var s=this.importsWithPrefixes.get(a);null==s&&(s="i".concat(this.importsWithPrefixes.size),this.importsWithPrefixes.set(a,s)),n.print(null,"".concat(s,"."))}(n.print(null,i),this.typeExpression>0)&&((t||[]).length>0&&(n.print(null,"<"),this.visitAllObjects(function(e){return e.visitType(r,n)},t,n,","),n.print(null,">")))}},{key:"_printColonType",value:function(e,t,n){e!==we&&(t.print(null,":"),this.visitType(e,t,n))}}]),n}(Ar),$v=function(){function e(t){Object(b.a)(this,e),this._reflector=t}return Object(k.a)(e,[{key:"isPipe",value:function(e){var t=this._reflector.annotations(Un(e));return t&&t.some(Y.isTypeOf)}},{key:"resolve",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=this._reflector.annotations(Un(e));if(n){var r=Ip(n,Y.isTypeOf);if(r)return r}if(t)throw new Error("No Pipe decorator found on ".concat(Vn(e)));return null}}]),e}(),Yv=function(){function e(t,n){Object(b.a)(this,e),this.options=t,this.reflector=n}return Object(k.a)(e,[{key:"compileComponent",value:function(e,t,n,r,i,a){var s=this,o=new Map;r.forEach(function(e){return o.set(e.name,e.type.reference)});var u=0,c=function e(n,r){var c=u++;return new Zv(s.options,s.reflector,i,n,t.type.reference,t.isHost,c,o,r,a,e)}(null,[]);return c.visitAll([],n),c.build(e)}}]),e}(),Jv=new(function(){function e(){Object(b.a)(this,e)}return Object(k.a)(e,[{key:"notifyImplicitReceiverUse",value:function(){}},{key:"getLocal",value:function(e){return e===$s.event.name?Xt("_any"):null}}]),e}()),Zv=function(){function e(t,n,r,i,a,s,o,u,c,l,h){Object(b.a)(this,e),this.options=t,this.reflector=n,this.externalReferenceVars=r,this.parent=i,this.component=a,this.isHostComponent=s,this.embeddedViewIndex=o,this.pipes=u,this.guards=c,this.ctx=l,this.viewBuilderFactory=h,this.refOutputVars=new Map,this.variables=[],this.children=[],this.updates=[],this.actions=[]}return Object(k.a)(e,[{key:"getOutputVar",value:function(e){var t;if(!(t=e===this.component&&this.isHostComponent?"_any":e instanceof kn?this.externalReferenceVars.get(e):"_any"))throw new Error("Illegal State: referring to a type without a variable ".concat(JSON.stringify(e)));return t}},{key:"getTypeGuardExpressions",value:function(e){var t,n=Object(g.a)(this.guards),r=Object(v.a)(e.directives);try{for(r.s();!(t=r.n()).done;){var i,a=t.value,s=Object(v.a)(a.inputs);try{for(s.s();!(i=s.n()).done;){var o=i.value,u=a.directive.guards[o.directiveName];if(u){var c="UseIf"===u;n.push({guard:u,useIf:c,expression:{context:this.component,value:o.value,sourceSpan:o.sourceSpan}})}}}catch(l){s.e(l)}finally{s.f()}}}catch(l){r.e(l)}finally{r.f()}return n}},{key:"visitAll",value:function(e,t){this.variables=e,oc(this,t)}},{key:"build",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];this.children.forEach(function(t){return t.build(e,n)});var r=[Xt("_any").set(kt).toDeclStmt(xe)],i=0;if(this.updates.forEach(function(e){var n,a=t.preprocessUpdateExpression(e),s=a.sourceSpan,o=a.context,u=a.value,c="".concat(i++),l=ro(o===t.component?t:Jv,Xt(t.getOutputVar(o)),u,c,eo.General),h=l.stmts,p=l.currValExpr;h.push(new Ot(p)),(n=r).push.apply(n,Object(g.a)(h.map(function(e){return qt(e,s)})))}),this.actions.forEach(function(e){var n,a=e.sourceSpan,s=e.context,o=e.value,u="".concat(i++),c=Js(s===t.component?t:Jv,Xt(t.getOutputVar(s)),o,u).stmts;(n=r).push.apply(n,Object(g.a)(c.map(function(e){return qt(e,a)})))}),this.guards.length){var a,s=void 0,o=Object(v.a)(this.guards);try{for(o.s();!(a=o.n()).done;){var u=a.value,c=this.preprocessUpdateExpression(u.expression),l=c.context,h=c.value,p="".concat(i++),f=l===this.component?this:Jv,d=ro(f,Xt(this.getOutputVar(l)),h,p,eo.TrySimple),m=d.stmts,y=d.currValExpr;if(0==m.length){var b=u.useIf?y:this.ctx.importExpr(u.guard).callFn([y]);s=s?s.and(b):b}}}catch(_){o.e(_)}finally{o.f()}s&&(r=[new It(s,r)])}var k="_View_".concat(e,"_").concat(this.embeddedViewIndex),E=new Ct(k,[],r);return n.push(E),n}},{key:"visitBoundText",value:function(e,t){var n=this;e.value.ast.expressions.forEach(function(t){return n.updates.push({context:n.component,value:t,sourceSpan:e.sourceSpan})})}},{key:"visitEmbeddedTemplate",value:function(e,t){if(this.visitElementOrTemplate(e),this.options.fullTemplateTypeCheck){var n=this.getTypeGuardExpressions(e),r=this.viewBuilderFactory(this,n);this.children.push(r),r.visitAll(e.variables,e.children)}}},{key:"visitElement",value:function(e,t){var n=this;this.visitElementOrTemplate(e);e.inputs.forEach(function(e){n.updates.push({context:n.component,value:e.value,sourceSpan:e.sourceSpan})}),oc(this,e.children)}},{key:"visitElementOrTemplate",value:function(e){var t=this;e.directives.forEach(function(e){t.visitDirective(e)}),e.references.forEach(function(e){var n=null;n=e.value&&e.value.identifier&&t.options.fullTemplateTypeCheck?e.value.identifier.reference:me.Dynamic,t.refOutputVars.set(e.name,n)}),e.outputs.forEach(function(e){t.actions.push({context:t.component,value:e.handler,sourceSpan:e.sourceSpan})})}},{key:"visitDirective",value:function(e){var t=this,n=e.directive.type.reference;e.inputs.forEach(function(e){return t.updates.push({context:t.component,value:e.value,sourceSpan:e.sourceSpan})}),this.options.fullTemplateTypeCheck&&(e.hostProperties.forEach(function(e){return t.updates.push({context:n,value:e.value,sourceSpan:e.sourceSpan})}),e.hostEvents.forEach(function(e){return t.actions.push({context:n,value:e.handler,sourceSpan:e.sourceSpan})}))}},{key:"notifyImplicitReceiverUse",value:function(){}},{key:"getLocal",value:function(e){if(e==$s.event.name)return Xt(this.getOutputVar(me.Dynamic));for(var t=this;t;t=t.parent){var n=void 0;if(null==(n=t.refOutputVars.get(e)))t.variables.find(function(t){return t.name===e})&&(n=me.Dynamic);if(null!=n)return Xt(this.getOutputVar(n))}return null}},{key:"pipeOutputVar",value:function(e){var t=this.pipes.get(e);if(!t)throw new Error("Illegal State: Could not find pipe ".concat(e," in template of ").concat(this.component));return this.getOutputVar(t)}},{key:"preprocessUpdateExpression",value:function(e){var t=this;return{sourceSpan:e.sourceSpan,context:e.context,value:Zs({createLiteralArrayConverter:function(e){return function(e){var n=Zt(e);return t.options.fullTemplateTypeCheck?n:n.cast(xe)}},createLiteralMapConverter:function(e){return function(n){var r=en(e.map(function(e,t){return{key:e.key,value:n[t],quoted:e.quoted}}));return t.options.fullTemplateTypeCheck?r:r.cast(xe)}},createPipeConverter:function(e,n){return function(n){return(t.options.fullTemplateTypeCheck?Xt(t.pipeOutputVar(e)):Xt(t.getOutputVar(me.Dynamic))).callMethod("transform",n)}}},e.value)}}},{key:"visitNgContent",value:function(e,t){}},{key:"visitText",value:function(e,t){}},{key:"visitDirectiveProperty",value:function(e,t){}},{key:"visitReference",value:function(e,t){}},{key:"visitVariable",value:function(e,t){}},{key:"visitEvent",value:function(e,t){}},{key:"visitElementProperty",value:function(e,t){}},{key:"visitAttr",value:function(e,t){}}]),e}(),ef=function e(t,n){Object(b.a)(this,e),this.viewClassVar=t,this.rendererTypeVar=n},tf=function(){function e(t){Object(b.a)(this,e),this._reflector=t}return Object(k.a)(e,[{key:"compileComponent",value:function(e,t,n,r,i){var a,s=this,o=0,u=void 0;if(!t.isHost){var c=t.template,l=[];c.animations&&c.animations.length&&l.push(new yt("animation",sv(e,c.animations),!0));var h=Xt(tr(t.type.reference));u=h.name,e.statements.push(h.set(Gt(yn.createRendererType2).callFn([new gt([new yt("encapsulation",an(c.encapsulation),!1),new yt("styles",r,!1),new yt("data",new gt(l),!1)])])).toDeclStmt($t(yn.RendererType2),[rt.Final,rt.Exported]))}var p=function n(r){var a=o++;return new cf(s._reflector,e,r,t,a,i,n)}(null);return p.visitAll([],n),(a=e.statements).push.apply(a,Object(g.a)(p.build())),new ef(p.viewName,u)}}]),e}(),nf=Xt("_l"),rf=Xt("_v"),af=Xt("_ck"),sf=Xt("_co"),of=Xt("en"),uf=Xt("ad"),cf=function(){function e(t,n,r,i,a,s,o){Object(b.a)(this,e),this.reflector=t,this.outputCtx=n,this.parent=r,this.component=i,this.embeddedViewIndex=a,this.usedPipes=s,this.viewBuilderFactory=o,this.nodes=[],this.purePipeNodeIndices=Object.create(null),this.refNodeIndices=Object.create(null),this.variables=[],this.children=[],this.compType=this.embeddedViewIndex>0?xe:Yt(n.importExpr(this.component.type.reference)),this.viewName=er(this.component.type.reference,this.embeddedViewIndex)}return Object(k.a)(e,[{key:"visitAll",value:function(e,t){var n=this;this.variables=e,this.parent||this.usedPipes.forEach(function(e){e.pure&&(n.purePipeNodeIndices[e.name]=n._createPipe(null,e))}),this.parent||this.component.viewQueries.forEach(function(e,t){var r=t+1,i=e.first?0:1,a=134217728|ff(e);n.nodes.push(function(){return{sourceSpan:null,nodeFlags:a,nodeDef:Gt(yn.queryDef).callFn([an(a),an(r),new gt([new yt(e.propertyName,an(i),!1)])])}})}),oc(this,t),this.parent&&(0===t.length||function e(t){var n=t[t.length-1];if(n instanceof ec)return n.hasViewContainer;if(n instanceof Zu)return _(n.name)&&n.children.length?e(n.children):n.hasViewContainer;return n instanceof ic}(t))&&this.nodes.push(function(){return{sourceSpan:null,nodeFlags:1,nodeDef:Gt(yn.anchorDef).callFn([an(0),kt,kt,an(0)])}})}},{key:"build",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];this.children.forEach(function(t){return t.build(e)});var t=this._createNodeExpressions(),n=t.updateRendererStmts,r=t.updateDirectivesStmts,i=t.nodeDefExprs,a=this._createUpdateFn(n),s=this._createUpdateFn(r),o=0;this.parent||this.component.changeDetection!==I.OnPush||(o|=2);var u=new Ct(this.viewName,[new lt(nf.name)],[new Tt(Gt(yn.viewDef).callFn([an(o),Zt(i),s,a]))],$t(yn.ViewDefinition),0===this.embeddedViewIndex?[rt.Exported]:[]);return e.push(u),e}},{key:"_createUpdateFn",value:function(e){var t;if(e.length>0){var n=[];!this.component.isHost&&Bt(e).has(sf.name)&&n.push(sf.set(rf.prop("component")).toDeclStmt(this.compType)),t=tn([new lt(af.name,we),new lt(rf.name,we)],[].concat(n,Object(g.a)(e)),we)}else t=kt;return t}},{key:"visitNgContent",value:function(e,t){this.nodes.push(function(){return{sourceSpan:e.sourceSpan,nodeFlags:8,nodeDef:Gt(yn.ngContentDef).callFn([an(e.ngContentIndex),an(e.index)])}})}},{key:"visitText",value:function(e,t){this.nodes.push(function(){return{sourceSpan:e.sourceSpan,nodeFlags:2,nodeDef:Gt(yn.textDef).callFn([an(-1),an(e.ngContentIndex),Zt([an(e.value)])])}})}},{key:"visitBoundText",value:function(e,t){var n=this,r=this.nodes.length;this.nodes.push(null);var i=e.value.ast,a=i.expressions.map(function(t,i){return n._preprocessUpdateExpression({nodeIndex:r,bindingIndex:i,sourceSpan:e.sourceSpan,context:sf,value:t})}),s=r;this.nodes[r]=function(){return{sourceSpan:e.sourceSpan,nodeFlags:2,nodeDef:Gt(yn.textDef).callFn([an(s),an(e.ngContentIndex),Zt(i.strings.map(function(e){return an(e)}))]),updateRenderer:a}}}},{key:"visitEmbeddedTemplate",value:function(e,t){var n=this,r=this.nodes.length;this.nodes.push(null);var i=this._visitElementOrTemplate(r,e),a=i.flags,s=i.queryMatchesExpr,o=i.hostEvents,u=this.viewBuilderFactory(this);this.children.push(u),u.visitAll(e.variables,e.children);var c=this.nodes.length-r-1;this.nodes[r]=function(){return{sourceSpan:e.sourceSpan,nodeFlags:1|a,nodeDef:Gt(yn.anchorDef).callFn([an(a),s,an(e.ngContentIndex),an(c),n._createElementHandleEventFn(r,o),Xt(u.viewName)])}}}},{key:"visitElement",value:function(e,t){var n=this,r=this.nodes.length;this.nodes.push(null);var i=_(e.name)?null:e.name,a=this._visitElementOrTemplate(r,e),s=a.flags,o=a.usedEvents,u=a.queryMatchesExpr,c=a.hostBindings,l=a.hostEvents,p=[],v=[],f=[];if(i){var d=e.inputs.map(function(e){return{context:sf,inputAst:e,dirAst:null}}).concat(c);d.length&&(v=d.map(function(e,t){return n._preprocessUpdateExpression({context:e.context,nodeIndex:r,bindingIndex:t,sourceSpan:e.inputAst.sourceSpan,value:e.inputAst.value})}),p=d.map(function(e){return function(e,t){var n=e.type;switch(n){case 1:return Zt([an(1),an(e.name),an(e.securityContext)]);case 0:return Zt([an(8),an(e.name),an(e.securityContext)]);case 4:return Zt([an(8|(t&&t.directive.isComponent?32:16)),an("@"+e.name),an(e.securityContext)]);case 2:return Zt([an(2),an(e.name),kt]);case 3:return Zt([an(4),an(e.name),an(e.unit)]);default:var r=n;throw new Error("unexpected ".concat(r))}}(e.inputAst,e.dirAst)})),f=o.map(function(e){var t=Object(h.a)(e,2),n=t[0],r=t[1];return Zt([an(n),an(r)])})}oc(this,e.children);var m=this.nodes.length-r-1,y=e.directives.find(function(e){return e.directive.isComponent}),g=kt,b=kt;y&&(b=this.outputCtx.importExpr(y.directive.componentViewType),g=this.outputCtx.importExpr(y.directive.rendererType));var k=r;this.nodes[r]=function(){return{sourceSpan:e.sourceSpan,nodeFlags:1|s,nodeDef:Gt(yn.elementDef).callFn([an(k),an(s),u,an(e.ngContentIndex),an(m),an(i),i?lf(e):kt,p.length?Zt(p):kt,f.length?Zt(f):kt,n._createElementHandleEventFn(r,l),b,g]),updateRenderer:v}}}},{key:"_visitElementOrTemplate",value:function(e,t){var n=this,r=0;t.hasViewContainer&&(r|=16777216);var i=new Map;t.outputs.forEach(function(e){var t=vf(e,null),n=t.name,r=t.target;i.set(df(r,n),[r,n])}),t.directives.forEach(function(e){e.hostEvents.forEach(function(t){var n=vf(t,e),r=n.name,a=n.target;i.set(df(a,r),[a,r])})});var a=[],s=[];this._visitComponentFactoryResolverProvider(t.directives),t.providers.forEach(function(e){var r=void 0;if(t.directives.forEach(function(t){t.directive.type.reference===ar(e.token)&&(r=t)}),r){var o=n._visitDirective(e,r,t.references,t.queryMatches,i),u=o.hostBindings,c=o.hostEvents;a.push.apply(a,Object(g.a)(u)),s.push.apply(s,Object(g.a)(c))}else n._visitProvider(e,t.queryMatches)});var o=[];return t.queryMatches.forEach(function(e){var t=void 0;ar(e.value)===n.reflector.resolveExternalReference(yn.ElementRef)?t=0:ar(e.value)===n.reflector.resolveExternalReference(yn.ViewContainerRef)?t=3:ar(e.value)===n.reflector.resolveExternalReference(yn.TemplateRef)&&(t=2),null!=t&&o.push(Zt([an(e.queryId),an(t)]))}),t.references.forEach(function(t){var r=void 0;t.value?ar(t.value)===n.reflector.resolveExternalReference(yn.TemplateRef)&&(r=2):r=1,null!=r&&(n.refNodeIndices[t.name]=e,o.push(Zt([an(t.name),an(r)])))}),t.outputs.forEach(function(e){s.push({context:sf,eventAst:e,dirAst:null})}),{flags:r,usedEvents:Array.from(i.values()),queryMatchesExpr:o.length?Zt(o):kt,hostBindings:a,hostEvents:s}}},{key:"_visitDirective",value:function(e,t,n,r,i){var a=this,s=this.nodes.length;this.nodes.push(null),t.directive.queries.forEach(function(e,n){var r=t.contentQueryStartId+n,i=67108864|ff(e),s=e.first?0:1;a.nodes.push(function(){return{sourceSpan:t.sourceSpan,nodeFlags:i,nodeDef:Gt(yn.queryDef).callFn([an(i),an(r),new gt([new yt(e.propertyName,an(s),!1)])])}})});var o=this.nodes.length-s-1,u=this._visitProviderOrDirective(e,r),c=u.flags,l=u.queryMatchExprs,h=u.providerExpr,p=u.depsExpr;n.forEach(function(t){t.value&&ar(t.value)===ar(e.token)&&(a.refNodeIndices[t.name]=s,l.push(Zt([an(t.name),an(4)])))}),t.directive.isComponent&&(c|=32768);var v=t.inputs.map(function(e,t){var n=Zt([an(t),an(e.directiveName)]);return new yt(e.directiveName,n,!1)}),f=[],d=t.directive;Object.keys(d.outputs).forEach(function(e){var t=d.outputs[e];i.has(t)&&f.push(new yt(e,an(t),!1))});var m=[];(t.inputs.length||(327680&c)>0)&&(m=t.inputs.map(function(e,t){return a._preprocessUpdateExpression({nodeIndex:s,bindingIndex:t,sourceSpan:e.sourceSpan,context:sf,value:e.value})}));var y=Gt(yn.nodeValue).callFn([rf,an(s)]),g=t.hostProperties.map(function(e){return{context:y,dirAst:t,inputAst:e}}),b=t.hostEvents.map(function(e){return{context:y,eventAst:e,dirAst:t}}),k=s;return this.nodes[s]=function(){return{sourceSpan:t.sourceSpan,nodeFlags:16384|c,nodeDef:Gt(yn.directiveDef).callFn([an(k),an(c),l.length?Zt(l):kt,an(o),h,p,v.length?new gt(v):kt,f.length?new gt(f):kt]),updateDirectives:m,directive:t.directive.type}},{hostBindings:g,hostEvents:b}}},{key:"_visitProvider",value:function(e,t){this._addProviderNode(this._visitProviderOrDirective(e,t))}},{key:"_visitComponentFactoryResolverProvider",value:function(e){var t=e.find(function(e){return e.directive.isComponent});if(t&&t.directive.entryComponents.length){var n=Hv(this.reflector,this.outputCtx,8192,t.directive.entryComponents),r=n.providerExpr,i=n.depsExpr,a=n.flags,s=n.tokenExpr;this._addProviderNode({providerExpr:r,depsExpr:i,flags:a,tokenExpr:s,queryMatchExprs:[],sourceSpan:t.sourceSpan})}}},{key:"_addProviderNode",value:function(e){this.nodes.push(function(){return{sourceSpan:e.sourceSpan,nodeFlags:e.flags,nodeDef:Gt(yn.providerDef).callFn([an(e.flags),e.queryMatchExprs.length?Zt(e.queryMatchExprs):kt,e.tokenExpr,e.providerExpr,e.depsExpr])}})}},{key:"_visitProviderOrDirective",value:function(e,t){var n=[];t.forEach(function(t){ar(t.value)===ar(e.token)&&n.push(Zt([an(t.queryId),an(4)]))});var r=Fv(this.outputCtx,e),i=r.providerExpr,a=r.depsExpr,s=r.flags,o=r.tokenExpr;return{flags:0|s,queryMatchExprs:n,providerExpr:i,depsExpr:a,tokenExpr:o,sourceSpan:e.sourceSpan}}},{key:"getLocal",value:function(e){if(e==$s.event.name)return $s.event;for(var t=rf,n=this;n;n=n.parent,t=t.prop("parent").cast(xe)){var r=n.refNodeIndices[e];if(null!=r)return Gt(yn.nodeValue).callFn([t,an(r)]);var i=n.variables.find(function(t){return t.name===e});if(i){var a=i.value||"$implicit";return t.prop("context").prop(a)}}return null}},{key:"notifyImplicitReceiverUse",value:function(){}},{key:"_createLiteralArrayConverter",value:function(e,t){if(0===t){var n=Gt(yn.EMPTY_ARRAY);return function(){return n}}var r=this.nodes.length;return this.nodes.push(function(){return{sourceSpan:e,nodeFlags:32,nodeDef:Gt(yn.pureArrayDef).callFn([an(r),an(t)])}}),function(e){return hf(r,e)}}},{key:"_createLiteralMapConverter",value:function(e,t){if(0===t.length){var n=Gt(yn.EMPTY_MAP);return function(){return n}}var r=en(t.map(function(e,t){return Object.assign(Object.assign({},e),{value:an(t)})})),i=this.nodes.length;return this.nodes.push(function(){return{sourceSpan:e,nodeFlags:64,nodeDef:Gt(yn.pureObjectDef).callFn([an(i),r])}}),function(e){return hf(i,e)}}},{key:"_createPipeConverter",value:function(e,t,n){var r=this.usedPipes.find(function(e){return e.name===t});if(r.pure){var i=this.nodes.length;this.nodes.push(function(){return{sourceSpan:e.sourceSpan,nodeFlags:128,nodeDef:Gt(yn.purePipeDef).callFn([an(i),an(n)])}});for(var a=rf,s=this;s.parent;)s=s.parent,a=a.prop("parent").cast(xe);var o=s.purePipeNodeIndices[t],u=Gt(yn.nodeValue).callFn([a,an(o)]);return function(t){return pf(e.nodeIndex,e.bindingIndex,hf(i,[u].concat(t)))}}var c=this._createPipe(e.sourceSpan,r),l=Gt(yn.nodeValue).callFn([rf,an(c)]);return function(t){return pf(e.nodeIndex,e.bindingIndex,l.callMethod("transform",t))}}},{key:"_createPipe",value:function(e,t){var n=this,r=this.nodes.length,i=0;t.type.lifecycleHooks.forEach(function(e){e===Sv.OnDestroy&&(i|=Uv(e))});var a=t.type.diDeps.map(function(e){return Vv(n.outputCtx,e)});return this.nodes.push(function(){return{sourceSpan:e,nodeFlags:16,nodeDef:Gt(yn.pipeDef).callFn([an(i),n.outputCtx.importExpr(t.type.reference),Zt(a)])}}),r}},{key:"_preprocessUpdateExpression",value:function(e){var t=this;return{nodeIndex:e.nodeIndex,bindingIndex:e.bindingIndex,sourceSpan:e.sourceSpan,context:e.context,value:Zs({createLiteralArrayConverter:function(n){return t._createLiteralArrayConverter(e.sourceSpan,n)},createLiteralMapConverter:function(n){return t._createLiteralMapConverter(e.sourceSpan,n)},createPipeConverter:function(n,r){return t._createPipeConverter(e,n,r)}},e.value)}}},{key:"_createNodeExpressions",value:function(){var e=this,t=0,n=[],r=[],i=this.nodes.map(function(e,t){var i=e(),s=i.nodeDef,o=i.nodeFlags,u=i.updateDirectives,c=i.updateRenderer,l=i.sourceSpan;return c&&n.push.apply(n,Object(g.a)(a(t,l,c,!1))),u&&r.push.apply(r,Object(g.a)(a(t,l,u,(327680&o)>0))),Wt(3&o?new bt([nf.callFn([]).callFn([]),s]):s,l)});return{updateRendererStmts:n,updateDirectivesStmts:r,nodeDefExprs:i};function a(n,r,i,a){var s=[],o=i.map(function(n){var r=n.sourceSpan,i=n.context,a=n.value,o="".concat(t++),u=ro(i===sf?e:null,i,a,o,eo.General),c=u.stmts,l=u.currValExpr;return s.push.apply(s,Object(g.a)(c.map(function(e){return qt(e,r)}))),Wt(l,r)});return(i.length||a)&&s.push(qt(hf(n,o).toStmt(),r)),s}}},{key:"_createElementHandleEventFn",value:function(e,t){var n,r=this,i=[],a=0;if(t.forEach(function(e){var t=e.context,n=e.eventAst,s=e.dirAst,o="".concat(a++),u=Js(t===sf?r:null,t,n.handler,o),c=u.stmts,l=u.allowDefault,h=c;l&&h.push(uf.set(l.and(uf)).toStmt());var p=vf(n,s),v=df(p.target,p.name);i.push(qt(new It(an(v).identical(of),h),n.sourceSpan))}),i.length>0){var s=[uf.set(an(!0)).toDeclStmt(Ce)];!this.component.isHost&&Bt(i).has(sf.name)&&s.push(sf.set(rf.prop("component")).toDeclStmt(this.compType)),n=tn([new lt(rf.name,we),new lt(of.name,we),new lt($s.event.name,we)],[].concat(s,i,[new Tt(uf)]),we)}else n=kt;return n}},{key:"visitDirective",value:function(e,t){}},{key:"visitDirectiveProperty",value:function(e,t){}},{key:"visitReference",value:function(e,t){}},{key:"visitVariable",value:function(e,t){}},{key:"visitEvent",value:function(e,t){}},{key:"visitElementProperty",value:function(e,t){}},{key:"visitAttr",value:function(e,t){}}]),e}();function lf(e){var t=Object.create(null);return e.attrs.forEach(function(e){t[e.name]=e.value}),e.directives.forEach(function(e){Object.keys(e.directive.hostAttributes).forEach(function(n){var r,i,a,s=e.directive.hostAttributes[n],o=t[n];t[n]=null!=o?(i=o,a=s,"class"==(r=n)||"style"==r?"".concat(i," ").concat(a):a):s})}),Zt(Object.keys(t).sort().map(function(e){return Zt([an(e),an(t[e])])}))}function hf(e,t){return t.length>10?af.callFn([rf,an(e),an(1),Zt(t)]):af.callFn([rf,an(e),an(0)].concat(Object(g.a)(t)))}function pf(e,t,n){return Gt(yn.unwrapValue).callFn([rf,an(e),an(t),n])}function vf(e,t){return e.isAnimation?{name:"@".concat(e.name,".").concat(e.phase),target:t&&t.directive.isComponent?"component":null}:e}function ff(e){var t=0;return e.first&&e.static?t|=268435456:t|=536870912,e.emitDistinctChangesOnly&&(t|=-2147483648),t}function df(e,t){return e?"".concat(e,":").concat(t):t}var mf=function(){function e(t,n,r){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;Object(b.a)(this,e),this._htmlParser=t,this._implicitTags=n,this._implicitAttrs=r,this._locale=i,this._messages=[]}return Object(k.a)(e,[{key:"updateFromTemplate",value:function(e,t,n){var r,i=this._htmlParser.parse(e,t,{tokenizeExpansionForms:!0,interpolationConfig:n});if(i.errors.length)return i.errors;var a=function(e,t,n,r){return new Vp(n,r).extract(e,t)}(i.rootNodes,n,this._implicitTags,this._implicitAttrs);return a.errors.length?a.errors:((r=this._messages).push.apply(r,Object(g.a)(a.messages)),[])}},{key:"getMessages",value:function(){return this._messages}},{key:"write",value:function(e,t){var n={},r=new yf;this._messages.forEach(function(t){var r,i=e.digest(t);n.hasOwnProperty(i)?(r=n[i].sources).push.apply(r,Object(g.a)(t.sources)):n[i]=t});var i=Object.keys(n).map(function(i){var a=e.createNameMapper(n[i]),s=n[i],o=a?r.convert(s.nodes,a):s.nodes,u=new ri(o,{},{},s.meaning,s.description,i);return u.sources=s.sources,t&&u.sources.forEach(function(e){return e.filePath=t(e.filePath)}),u});return e.write(i,this._locale)}}]),e}(),yf=function(e){Object(m.a)(n,e);var t=Object(y.a)(n);function n(){return Object(b.a)(this,n),t.apply(this,arguments)}return Object(k.a)(n,[{key:"convert",value:function(e,t){var n=this;return t?e.map(function(e){return e.visit(n,t)}):e}},{key:"visitTagPlaceholder",value:function(e,t){var n=this,r=t.toPublicName(e.startName),i=e.closeName?t.toPublicName(e.closeName):e.closeName,a=e.children.map(function(e){return e.visit(n,t)});return new oi(e.tag,e.attrs,r,i,a,e.isVoid,e.sourceSpan,e.startSourceSpan,e.endSourceSpan)}},{key:"visitPlaceholder",value:function(e,t){return new ui(e.value,t.toPublicName(e.name),e.sourceSpan)}},{key:"visitIcuPlaceholder",value:function(e,t){return new ci(e.value,t.toPublicName(e.name),e.sourceSpan)}}]),n}(li),gf=function(){function e(t,n,r){Object(b.a)(this,e),this.srcFileUrl=t,this.genFileUrl=n,"string"==typeof r?(this.source=r,this.stmts=null):(this.source=null,this.stmts=r)}return Object(k.a)(e,[{key:"isEquivalent",value:function(e){return this.genFileUrl===e.genFileUrl&&(this.source?this.source===e.source:null!=e.stmts&&Ae(this.stmts,e.stmts))}}]),e}();function bf(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";if(!e.stmts)throw new Error("Illegal state: No stmts present on GeneratedFile ".concat(e.genFileUrl));return(new Xv).emitStatements(e.genFileUrl,e.stmts,t)}function kf(e,t){var n,r=[],i=Object(v.a)(e.transitiveModule.providers);try{for(i.s();!(n=i.n()).done;){var a=n.value,s=a.provider,o=a.module;if(ar(s.token)===t.ROUTES){var u,c=Ef(s.useValue),l=Object(v.a)(c);try{for(l.s();!(u=l.n()).done;){var h=u.value;r.push(_f(h,t,o.reference))}}catch(p){l.e(p)}finally{l.f()}}}}catch(p){i.e(p)}finally{i.f()}return r}function Ef(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];if("string"==typeof e)t.push(e);else if(Array.isArray(e)){var n,r=Object(v.a)(e);try{for(r.s();!(n=r.n()).done;){var i=n.value;Ef(i,t)}}catch(a){r.e(a)}finally{r.f()}}else e.loadChildren?Ef(e.loadChildren,t):e.children&&Ef(e.children,t);return t}function _f(e,t,n){var r=e.split("#"),i=Object(h.a)(r,2),a=i[0],s=i[1],o=t.resolveExternalReference({moduleName:a,name:s},n?n.filePath:void 0);return{route:e,module:n||o,referencedModule:o}}var Sf=/^(?!.*\.d\.ts$).*\.ts$/,xf=function e(t,n){Object(b.a)(this,e),this.symbol=t,this.metadata=n},wf=function(){function e(t,n,r,i){Object(b.a)(this,e),this.host=t,this.staticSymbolCache=n,this.summaryResolver=r,this.errorRecorder=i,this.metadataCache=new Map,this.resolvedSymbols=new Map,this.importAs=new Map,this.symbolResourcePaths=new Map,this.symbolFromFile=new Map,this.knownFileNameToModuleNames=new Map}return Object(k.a)(e,[{key:"resolveSymbol",value:function(e){if(e.members.length>0)return this._resolveSymbolMembers(e);var t=this._resolveSymbolFromSummary(e);if(t)return t;var n=this.resolvedSymbols.get(e);return n||(this._createSymbolsOf(e.filePath),this.resolvedSymbols.get(e))}},{key:"getImportAs",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(e.members.length){var n=this.getStaticSymbol(e.filePath,e.name),r=this.getImportAs(n,t);return r?this.getStaticSymbol(r.filePath,r.name,e.members):null}var i=kv(e.filePath);if(i!==e.filePath){var a=_v(e.name),s=this.getStaticSymbol(i,a,e.members),o=this.getImportAs(s,t);return o?this.getStaticSymbol(bv(o.filePath),Ev(o.name),s.members):null}var u=t&&this.summaryResolver.getImportAs(e)||null;return u||(u=this.importAs.get(e)),u}},{key:"getResourcePath",value:function(e){return this.symbolResourcePaths.get(e)||e.filePath}},{key:"getTypeArity",value:function(e){if(t=e.filePath,hv.test(t))return null;for(var t,n=Of(this.resolveSymbol(e));n&&n.metadata instanceof kn;)n=Of(this.resolveSymbol(n.metadata));return n&&n.metadata&&n.metadata.arity||null}},{key:"getKnownModuleName",value:function(e){return this.knownFileNameToModuleNames.get(e)||null}},{key:"recordImportAs",value:function(e,t){e.assertNoMembers(),t.assertNoMembers(),this.importAs.set(e,t)}},{key:"recordModuleNameForFileName",value:function(e,t){this.knownFileNameToModuleNames.set(e,t)}},{key:"invalidateFile",value:function(e){this.metadataCache.delete(e);var t=this.symbolFromFile.get(e);if(!t)return[];this.symbolFromFile.delete(e);var n,r=Object(v.a)(t);try{for(r.s();!(n=r.n()).done;){var i=n.value;this.resolvedSymbols.delete(i),this.importAs.delete(i),this.symbolResourcePaths.delete(i)}}catch(a){r.e(a)}finally{r.f()}return t}},{key:"ignoreErrorsFor",value:function(e){var t=this.errorRecorder;this.errorRecorder=function(){};try{return e()}finally{this.errorRecorder=t}}},{key:"_resolveSymbolMembers",value:function(e){var t=e.members,n=this.resolveSymbol(this.getStaticSymbol(e.filePath,e.name));if(!n)return null;var r=Of(n.metadata);if(r instanceof kn)return new xf(e,this.getStaticSymbol(r.filePath,r.name,t));if(!r||"class"!==r.__symbolic){for(var i=r,a=0;a<t.length&&i;a++)i=i[t[a]];return new xf(e,i)}return r.statics&&1===t.length?new xf(e,r.statics[t[0]]):null}},{key:"_resolveSymbolFromSummary",value:function(e){var t=this.summaryResolver.resolveSummary(e);return t?new xf(e,t.metadata):null}},{key:"getStaticSymbol",value:function(e,t,n){return this.staticSymbolCache.get(e,t,n)}},{key:"hasDecorators",value:function(e){var t=this.getModuleMetadata(e);return!!t.metadata&&Object.keys(t.metadata).some(function(e){var n=t.metadata[e];return n&&"class"===n.__symbolic&&n.decorators})}},{key:"getSymbolsOf",value:function(e){var t=this.summaryResolver.getSymbolsOf(e);return t||(this._createSymbolsOf(e),this.symbolFromFile.get(e)||[])}},{key:"_createSymbolsOf",value:function(e){var t=this;if(!this.symbolFromFile.has(e)){var n=[],r=this.getModuleMetadata(e);if(r.importAs&&this.knownFileNameToModuleNames.set(e,r.importAs),r.exports){var i,a=Object(v.a)(r.exports);try{var s=function(){var r=i.value;if(r.export)r.export.forEach(function(i){var a,s=a=Cf(a="string"==typeof i?i:i.as);"string"!=typeof i&&(s=Cf(i.name));var o=t.resolveModule(r.from,e);if(o){var u=t.getStaticSymbol(o,s),c=t.getStaticSymbol(e,a);n.push(t.createExport(c,u))}});else{var a=t.resolveModule(r.from,e);if(a&&a!==e)t.getSymbolsOf(a).forEach(function(r){var i=t.getStaticSymbol(e,r.name);n.push(t.createExport(i,r))})}};for(a.s();!(i=a.n()).done;)s()}catch(f){a.e(f)}finally{a.f()}}if(r.metadata){var o=new Set(Object.keys(r.metadata).map(Cf)),u=r.origins||{};Object.keys(r.metadata).forEach(function(i){var a=r.metadata[i],s=Cf(i),c=t.getStaticSymbol(e,s),l=u.hasOwnProperty(i)&&u[i];if(l){var h=t.resolveModule(l,e);h?t.symbolResourcePaths.set(c,h):t.reportError(new Error("Couldn't resolve original symbol for ".concat(l," from ").concat(t.host.getOutputName(e))))}n.push(t.createResolvedSymbol(c,e,o,a))})}for(var c=new Set,l=0,h=n;l<h.length;l++){var p=h[l];this.resolvedSymbols.set(p.symbol,p),c.add(p.symbol)}this.symbolFromFile.set(e,Array.from(c))}}},{key:"createResolvedSymbol",value:function(e,t,n,r){var i,a=this,s=Sf.test(e.filePath);if(this.summaryResolver.isLibraryFile(e.filePath)&&!s&&r&&"class"===r.__symbolic){var o={__symbolic:"class",arity:r.arity};return new xf(e,o)}var u=function(){return i||(i=a.host.getOutputName(t.replace(/((\.ts)|(\.d\.ts)|)$/,".ts").replace(/^.*node_modules[/\\]/,""))),i},c=this,l=wn(r,new(function(r){Object(m.a)(a,r);var i=Object(y.a)(a);function a(){return Object(b.a)(this,a),i.apply(this,arguments)}return Object(k.a)(a,[{key:"visitStringMap",value:function(r,i){var s=r.__symbolic;if("function"===s){var o=i.length;i.push.apply(i,Object(g.a)(r.parameters||[]));var l=Object(f.a)(Object(d.a)(a.prototype),"visitStringMap",this).call(this,r,i);return i.length=o,l}if("reference"!==s)return"error"===s?Object.assign(Object.assign({},r),{fileName:u()}):Object(f.a)(Object(d.a)(a.prototype),"visitStringMap",this).call(this,r,i);var h,p=r.module,v=r.name?Cf(r.name):r.name;return v?p?(h=c.resolveModule(p,e.filePath))?{__symbolic:"resolved",symbol:c.getStaticSymbol(h,v),line:r.line,character:r.character,fileName:u()}:{__symbolic:"error",message:"Could not resolve ".concat(p," relative to ").concat(c.host.getMetadataFor(e.filePath),"."),line:r.line,character:r.character,fileName:u()}:i.indexOf(v)>=0?{__symbolic:"reference",name:v}:n.has(v)?c.getStaticSymbol(t,v):(null,void 0):null}}]),a}(Tn)),[]),h=Of(l);return h instanceof kn?this.createExport(e,h):new xf(e,l)}},{key:"createExport",value:function(e,t){return e.assertNoMembers(),t.assertNoMembers(),this.summaryResolver.isLibraryFile(e.filePath)&&this.summaryResolver.isLibraryFile(t.filePath)&&this.importAs.set(t,this.getImportAs(e)||e),new xf(e,t)}},{key:"reportError",value:function(e,t,n){if(!this.errorRecorder)throw e;this.errorRecorder(e,t&&t.filePath||n)}},{key:"getModuleMetadata",value:function(e){var t=this.metadataCache.get(e);if(!t){var n=this.host.getMetadataFor(e);if(n){var r=-1;n.forEach(function(e){e&&e.version>r&&(r=e.version,t=e)})}if(t||(t={__symbolic:"module",version:4,module:e,metadata:{}}),4!=t.version){var i=2==t.version?"Unsupported metadata version ".concat(t.version," for module ").concat(e,". This module should be compiled with a newer version of ngc"):"Metadata version mismatch for module ".concat(this.host.getOutputName(e),", found version ").concat(t.version,", expected ").concat(4);this.reportError(new Error(i))}this.metadataCache.set(e,t)}return t}},{key:"getSymbolByModule",value:function(e,t,n){var r=this.resolveModule(e,n);return r?this.getStaticSymbol(r,t):(this.reportError(new Error("Could not resolve module ".concat(e).concat(n?" relative to "+this.host.getOutputName(n):""))),this.getStaticSymbol("ERROR:".concat(e),t))}},{key:"resolveModule",value:function(e,t){try{return this.host.moduleNameToFileName(e,t)}catch(n){console.error("Could not resolve module '".concat(e,"' relative to file ").concat(t)),this.reportError(n,void 0,t)}return null}}]),e}();function Cf(e){return e.startsWith("___")?e.substr(1):e}function Of(e){return e&&"resolved"===e.__symbolic?e.symbol:e}function Tf(e,t,n){var r=Ev(t.name);e.statements.push(tn([],[new Tt(n)],new _e(xe)).toDeclStmt(r,[rt.Final,rt.Exported]))}var jf=function(e){Object(m.a)(n,e);var t=Object(y.a)(n);function n(e,r,i){var a;return Object(b.a)(this,n),(a=t.call(this)).symbolResolver=e,a.summaryResolver=r,a.srcFileName=i,a.symbols=[],a.indexBySymbol=new Map,a.reexportedBy=new Map,a.processedSummaryBySymbol=new Map,a.processedSummaries=[],a.unprocessedSymbolSummariesBySymbol=new Map,a.moduleName=e.getKnownModuleName(i),a}return Object(k.a)(n,[{key:"addSummary",value:function(e){var t=this,n=this.unprocessedSymbolSummariesBySymbol.get(e.symbol),r=this.processedSummaryBySymbol.get(e.symbol);if(n||(n={symbol:e.symbol,metadata:void 0},this.unprocessedSymbolSummariesBySymbol.set(e.symbol,n),r={symbol:this.processValue(e.symbol,0)},this.processedSummaries.push(r),this.processedSummaryBySymbol.set(e.symbol,r)),!n.metadata&&e.metadata){var i=e.metadata||{};if("class"===i.__symbolic){var a={};Object.keys(i).forEach(function(e){"decorators"!==e&&(a[e]=i[e])}),i=a}else Af(i)&&(function(e){return Af(e)&&Of(e.expression)instanceof kn}(i)||function(e){return Af(e)&&e.expression&&"select"===e.expression.__symbolic&&Of(e.expression.expression)instanceof kn}(i)||(i={__symbolic:"error",message:"Complex function calls are not supported."}));if(n.metadata=i,r.metadata=this.processValue(i,1),i instanceof kn&&this.summaryResolver.isLibraryFile(i.filePath)){var s=this.symbols[this.indexBySymbol.get(i)];wv(s.name)||this.reexportedBy.set(s,e.symbol)}}if(!n.type&&e.type&&(n.type=e.type,r.type=this.processValue(e.type,0),e.type.summaryKind===$n.NgModule)){var o=e.type;o.exportedDirectives.concat(o.exportedPipes).forEach(function(e){var n=e.reference;if(t.summaryResolver.isLibraryFile(n.filePath)&&!t.unprocessedSymbolSummariesBySymbol.has(n)){var r=t.summaryResolver.resolveSummary(n);r&&t.addSummary(r)}})}}},{key:"serialize",value:function(e){var t=this,n=[];return{json:JSON.stringify({moduleName:this.moduleName,summaries:this.processedSummaries,symbols:this.symbols.map(function(r,i){r.assertNoMembers();var a=void 0;if(t.summaryResolver.isLibraryFile(r.filePath)){var s=t.reexportedBy.get(r);if(s)a=t.indexBySymbol.get(s);else if(e){var o=t.unprocessedSymbolSummariesBySymbol.get(r);o&&o.metadata&&"interface"===o.metadata.__symbolic||(a="".concat(r.name,"_").concat(i),n.push({symbol:r,exportAs:a}))}}return{__symbol:i,name:r.name,filePath:t.summaryResolver.toSummaryFileName(r.filePath,t.srcFileName),importAs:a}})}),exportAs:n}}},{key:"processValue",value:function(e,t){return wn(e,this,t)}},{key:"visitOther",value:function(e,t){if(e instanceof kn){var n=this.symbolResolver.getStaticSymbol(e.filePath,e.name);return{__symbol:this.visitStaticSymbol(n,t),members:e.members}}}},{key:"visitStringMap",value:function(e,t){return"resolved"===e.__symbolic?wn(e.symbol,this,t):("error"===e.__symbolic&&(delete e.line,delete e.character),Object(f.a)(Object(d.a)(n.prototype),"visitStringMap",this).call(this,e,t))}},{key:"visitStaticSymbol",value:function(e,t){var n=this.indexBySymbol.get(e),r=null;if(1&t&&this.summaryResolver.isLibraryFile(e.filePath)){if(this.unprocessedSymbolSummariesBySymbol.has(e))return n;(r=this.loadSummary(e))&&r.metadata instanceof kn&&(n=this.visitStaticSymbol(r.metadata,t),r=null)}else if(null!=n)return n;return null==n&&(n=this.symbols.length,this.symbols.push(e)),this.indexBySymbol.set(e,n),r&&this.addSummary(r),n}},{key:"loadSummary",value:function(e){var t=this.summaryResolver.resolveSummary(e);if(!t){var n=this.symbolResolver.resolveSymbol(e);n&&(t={symbol:n.symbol,metadata:n.metadata})}return t}}]),n}(Tn),Nf=function(){function e(t,n,r){Object(b.a)(this,e),this.outputCtx=t,this.symbolResolver=n,this.summaryResolver=r,this.data=[]}return Object(k.a)(e,[{key:"addSourceType",value:function(e,t){this.data.push({summary:e,metadata:t,isLibrary:!1})}},{key:"addLibType",value:function(e){this.data.push({summary:e,metadata:null,isLibrary:!0})}},{key:"serialize",value:function(e){var t,n=this,r=new Map,i=Object(v.a)(e);try{for(i.s();!(t=i.n()).done;){var a=t.value,s=a.symbol,o=a.exportAs;r.set(s,o)}}catch(k){i.e(k)}finally{i.f()}var u,c=new Set,l=Object(v.a)(this.data);try{for(l.s();!(u=l.n()).done;){var h=u.value,p=h.summary,f=h.metadata,d=h.isLibrary;if(p.summaryKind===$n.NgModule){c.add(p.type.reference);var m,y=p,g=Object(v.a)(y.modules);try{for(g.s();!(m=g.n()).done;){var b=m.value;c.add(b.reference)}}catch(k){g.e(k)}finally{g.f()}}if(!d){Ev(p.type.reference.name);Tf(this.outputCtx,p.type.reference,this.serializeSummaryWithDeps(p,f))}}}catch(k){l.e(k)}finally{l.f()}c.forEach(function(e){if(n.summaryResolver.isLibraryFile(e.filePath)){var t=Ev(r.get(e)||e.name);n.outputCtx.statements.push(Xt(t).set(n.serializeSummaryRef(e)).toDeclStmt(null,[rt.Exported]))}})}},{key:"serializeSummaryWithDeps",value:function(e,t){var n=this,r=[this.serializeSummary(e)],i=[];if(t instanceof hr)r.push.apply(r,Object(g.a)(t.declaredDirectives.concat(t.declaredPipes).map(function(e){return e.reference}).concat(t.transitiveModule.modules.map(function(e){return e.reference}).filter(function(e){return e!==t.type.reference})).map(function(e){return n.serializeSummaryRef(e)}))),i=t.providers;else if(e.summaryKind===$n.Directive){var a=e;i=a.providers.concat(a.viewProviders)}return r.push.apply(r,Object(g.a)(i.filter(function(e){return!!e.useClass}).map(function(e){return n.serializeSummary({summaryKind:$n.Injectable,type:e.useClass})}))),Zt(r)}},{key:"serializeSummaryRef",value:function(e){var t=this.symbolResolver.getStaticSymbol(bv(e.filePath),Ev(e.name));return this.outputCtx.importExpr(t)}},{key:"serializeSummary",value:function(e){var t=this.outputCtx,n=function(){function e(){Object(b.a)(this,e)}return Object(k.a)(e,[{key:"visitArray",value:function(e,t){var n=this;return Zt(e.map(function(e){return wn(e,n,t)}))}},{key:"visitStringMap",value:function(e,t){var n=this;return new gt(Object.keys(e).map(function(r){return new yt(r,wn(e[r],n,t),!1)}))}},{key:"visitPrimitive",value:function(e,t){return an(e)}},{key:"visitOther",value:function(e,n){if(e instanceof kn)return t.importExpr(e);throw new Error("Illegal State: Encountered value ".concat(e))}}]),e}();return wn(e,new n,null)}}]),e}(),Mf=function(e){Object(m.a)(n,e);var t=Object(y.a)(n);function n(e,r){var i;return Object(b.a)(this,n),(i=t.call(this)).symbolCache=e,i.summaryResolver=r,i}return Object(k.a)(n,[{key:"deserialize",value:function(e,t){var n=this,r=JSON.parse(t),i=[];this.symbols=r.symbols.map(function(t){return n.symbolCache.get(n.summaryResolver.fromSummaryFileName(t.filePath,e),t.name)}),r.symbols.forEach(function(t,r){var a=n.symbols[r],s=t.importAs;"number"==typeof s?i.push({symbol:a,importAs:n.symbols[s]}):"string"==typeof s&&i.push({symbol:a,importAs:n.symbolCache.get(fv(e),s)})});var a=wn(r.summaries,this,null);return{moduleName:r.moduleName,summaries:a,importAs:i}}},{key:"visitStringMap",value:function(e,t){if("__symbol"in e){var r=this.symbols[e.__symbol],i=e.members;return i.length?this.symbolCache.get(r.filePath,r.name,i):r}return Object(f.a)(Object(d.a)(n.prototype),"visitStringMap",this).call(this,e,t)}}]),n}(Tn);function Af(e){return e&&"call"===e.__symbolic}var Pf=function(){function e(t,n,r,i,a,s,o,u,c,l,h,p,v,f){Object(b.a)(this,e),this._config=t,this._options=n,this._host=r,this.reflector=i,this._metadataResolver=a,this._templateParser=s,this._styleCompiler=o,this._viewCompiler=u,this._typeCheckCompiler=c,this._ngModuleCompiler=l,this._injectableCompiler=h,this._outputEmitter=p,this._summaryResolver=v,this._symbolResolver=f,this._templateAstCache=new Map,this._analyzedFiles=new Map,this._analyzedFilesForInjectables=new Map}return Object(k.a)(e,[{key:"clearCache",value:function(){this._metadataResolver.clearCache()}},{key:"analyzeModulesSync",value:function(e){var t=this,n=Lf(e,this._host,this._symbolResolver,this._metadataResolver);return n.ngModules.forEach(function(e){return t._metadataResolver.loadNgModuleDirectiveAndPipeMetadata(e.type.reference,!0)}),n}},{key:"analyzeModulesAsync",value:function(e){var t=this,n=Lf(e,this._host,this._symbolResolver,this._metadataResolver);return Promise.all(n.ngModules.map(function(e){return t._metadataResolver.loadNgModuleDirectiveAndPipeMetadata(e.type.reference,!1)})).then(function(){return n})}},{key:"_analyzeFile",value:function(e){var t=this._analyzedFiles.get(e);return t||(t=Vf(this._host,this._symbolResolver,this._metadataResolver,e),this._analyzedFiles.set(e,t)),t}},{key:"_analyzeFileForInjectables",value:function(e){var t=this._analyzedFilesForInjectables.get(e);return t||(t=Uf(this._host,this._symbolResolver,this._metadataResolver,e),this._analyzedFilesForInjectables.set(e,t)),t}},{key:"findGeneratedFileNames",value:function(e){var t=this,n=[],r=this._analyzeFile(e);(this._options.allowEmptyCodegenFiles||r.directives.length||r.pipes.length||r.injectables.length||r.ngModules.length||r.exportsNonSourceFiles)&&(n.push(fv(r.fileName,!0)),this._options.enableSummariesForJit&&n.push(bv(r.fileName,!0)));var i=yv(mv(r.fileName,!0)[1]);return r.directives.forEach(function(e){var a=t._metadataResolver.getNonNormalizedDirectiveMetadata(e).metadata;a.isComponent&&a.template.styleUrls.forEach(function(e){var s=t._host.resourceNameToFileName(e,r.fileName);if(!s)throw Pn("Couldn't resolve resource ".concat(e," relative to ").concat(r.fileName));var o=(a.template.encapsulation||t._config.defaultEncapsulation)===P.Emulated;n.push(Df(s,o,i)),t._options.allowEmptyCodegenFiles&&n.push(Df(s,!o,i))})}),n}},{key:"emitBasicStub",value:function(e,t){var n=this._createOutputContext(e);if(e.endsWith(".ngfactory.ts")){if(!t)throw new Error("Assertion error: require the original file for .ngfactory.ts stubs. File: ".concat(e));var r=this._analyzeFile(t);this._createNgFactoryStub(n,r,1)}else if(e.endsWith(".ngsummary.ts")){if(this._options.enableSummariesForJit){if(!t)throw new Error("Assertion error: require the original file for .ngsummary.ts stubs. File: ".concat(e));var i=this._analyzeFile(t);If(n),i.ngModules.forEach(function(e){!function(e,t){return Tf(e,t,kt)}(n,e.type.reference)})}}else e.endsWith(".ngstyle.ts")&&If(n);return this._codegenSourceModule("unknown",n)}},{key:"emitTypeCheckStub",value:function(e,t){var n=this._analyzeFile(t),r=this._createOutputContext(e);return e.endsWith(".ngfactory.ts")&&this._createNgFactoryStub(r,n,2),r.statements.length>0?this._codegenSourceModule(n.fileName,r):null}},{key:"loadFilesAsync",value:function(e,t){var n=this,r=e.map(function(e){return n._analyzeFile(e)}),i=[];r.forEach(function(e){return e.ngModules.forEach(function(e){return i.push(n._metadataResolver.loadNgModuleDirectiveAndPipeMetadata(e.type.reference,!1))})});var a=t.map(function(e){return n._analyzeFileForInjectables(e)});return Promise.all(i).then(function(e){return{analyzedModules:qf(r),analyzedInjectables:a}})}},{key:"loadFilesSync",value:function(e,t){var n=this,r=e.map(function(e){return n._analyzeFile(e)});r.forEach(function(e){return e.ngModules.forEach(function(e){return n._metadataResolver.loadNgModuleDirectiveAndPipeMetadata(e.type.reference,!0)})});var i=t.map(function(e){return n._analyzeFileForInjectables(e)});return{analyzedModules:qf(r),analyzedInjectables:i}}},{key:"_createNgFactoryStub",value:function(e,t,n){var r=this,i=0;t.ngModules.forEach(function(t,a){r._ngModuleCompiler.createStub(e,t.type.reference);var s=[].concat(Object(g.a)(t.transitiveModule.directives.map(function(e){return e.reference})),Object(g.a)(t.transitiveModule.pipes.map(function(e){return e.reference})),Object(g.a)(t.importedModules.map(function(e){return e.type.reference})),Object(g.a)(t.exportedModules.map(function(e){return e.type.reference})),Object(g.a)(r._externalIdentifierReferences([yn.TemplateRef,yn.ElementRef]))),o=new Map;s.forEach(function(e,t){o.set(e,"_decl".concat(a,"_").concat(t))}),o.forEach(function(t,n){e.statements.push(Xt(t).set(kt.cast(xe)).toDeclStmt(Yt(e.importExpr(n,null,!1))))}),2&n&&t.declaredDirectives.forEach(function(n){var a=r._metadataResolver.getDirectiveMetadata(n.reference);a.isComponent&&(i++,r._createTypeCheckBlock(e,"".concat(a.type.reference.name,"_Host_").concat(i),t,r._metadataResolver.getHostComponentMetadata(a),[a.type],o),r._createTypeCheckBlock(e,"".concat(a.type.reference.name,"_").concat(i),t,a,t.transitiveModule.directives,o))})}),0===e.statements.length&&If(e)}},{key:"_externalIdentifierReferences",value:function(e){var t,n=[],r=Object(v.a)(e);try{for(r.s();!(t=r.n()).done;){var i=t.value,a=bn(this.reflector,i);a.identifier&&n.push(a.identifier.reference)}}catch(s){r.e(s)}finally{r.f()}return n}},{key:"_createTypeCheckBlock",value:function(e,t,n,r,i,a){var s,o=this._parseTemplate(r,n,i),u=o.template,c=o.pipes;(s=e.statements).push.apply(s,Object(g.a)(this._typeCheckCompiler.compileComponent(t,r,u,c,a,e)))}},{key:"emitMessageBundle",value:function(e,t){var n=this,r=[],i=new Pu,a=new mf(i,[],{},t);if(e.files.forEach(function(e){var t=[];e.directives.forEach(function(e){var r=n._metadataResolver.getDirectiveMetadata(e);r&&r.isComponent&&t.push(r)}),t.forEach(function(e){var t=e.template.template,n=e.template.templateUrl,i=La.fromArray(e.template.interpolation);r.push.apply(r,Object(g.a)(a.updateFromTemplate(t,n,i)))})}),r.length)throw new Error(r.map(function(e){return e.toString()}).join("\n"));return a}},{key:"emitAllPartialModules2",value:function(e){var t=this;return e.reduce(function(e,n){return e.push.apply(e,Object(g.a)(t._emitPartialModule2(n.fileName,n.injectables))),e},[])}},{key:"_emitPartialModule2",value:function(e,t){var n=this,r=this._createOutputContext(e);return t.forEach(function(e){return n._injectableCompiler.compile(e,r)}),r.statements&&r.statements.length>0?[{fileName:e,statements:[].concat(Object(g.a)(r.constantPool.statements),Object(g.a)(r.statements))}]:[]}},{key:"emitAllImpls",value:function(e){var t=this,n=e.ngModuleByPipeOrDirective;return dr(e.files.map(function(e){return t._compileImplFile(e.fileName,n,e.directives,e.pipes,e.ngModules,e.injectables)}))}},{key:"_compileImplFile",value:function(e,t,n,r,i,a){var s=this,o=yv(mv(e,!0)[1]),u=[],c=this._createOutputContext(fv(e,!0));if(u.push.apply(u,Object(g.a)(this._createSummary(e,n,r,i,a,c))),i.forEach(function(e){return s._compileModule(c,e)}),n.forEach(function(n){var r=s._metadataResolver.getDirectiveMetadata(n);if(r.isComponent){var i=t.get(n);if(!i)throw new Error("Internal Error: cannot determine the module for component ".concat(Jn(r.type),"!"));var a=s._styleCompiler.compileComponent(c,r);r.template.externalStylesheets.forEach(function(t){var n=s._styleCompiler.needsStyleShim(r);u.push(s._codegenStyles(e,r,t,n,o)),s._options.allowEmptyCodegenFiles&&u.push(s._codegenStyles(e,r,t,!n,o))});s._compileComponent(c,r,i,i.transitiveModule.directives,a,o);s._compileComponentFactory(c,r,i,o)}}),c.statements.length>0||this._options.allowEmptyCodegenFiles){var l=this._codegenSourceModule(e,c);u.unshift(l)}return u}},{key:"_createSummary",value:function(e,t,n,r,i,a){var s=this,o=this._symbolResolver.getSymbolsOf(e).map(function(e){return s._symbolResolver.resolveSymbol(e)}),u=[].concat(Object(g.a)(r.map(function(e){return{summary:s._metadataResolver.getNgModuleSummary(e.type.reference),metadata:s._metadataResolver.getNgModuleMetadata(e.type.reference)}})),Object(g.a)(t.map(function(e){return{summary:s._metadataResolver.getDirectiveSummary(e),metadata:s._metadataResolver.getDirectiveMetadata(e)}})),Object(g.a)(n.map(function(e){return{summary:s._metadataResolver.getPipeSummary(e),metadata:s._metadataResolver.getPipeMetadata(e)}})),Object(g.a)(i.map(function(e){return{summary:s._metadataResolver.getInjectableSummary(e.symbol),metadata:s._metadataResolver.getInjectableSummary(e.symbol).type}}))),c=this._options.enableSummariesForJit?this._createOutputContext(bv(e,!0)):null,l=function(e,t,n,r,i,a){var s=arguments.length>6&&void 0!==arguments[6]&&arguments[6],o=new jf(r,n,e);i.forEach(function(e){return o.addSummary({symbol:e.symbol,metadata:e.metadata})}),a.forEach(function(e){var t=e.summary;e.metadata;o.addSummary({symbol:t.type.reference,metadata:void 0,type:t})});var u=o.serialize(s),c=u.json,l=u.exportAs;if(t){var h=new Nf(t,r,n);a.forEach(function(e){var t=e.summary,n=e.metadata;h.addSourceType(t,n)}),o.unprocessedSymbolSummariesBySymbol.forEach(function(e){n.isLibraryFile(e.symbol.filePath)&&e.type&&h.addLibType(e.type)}),h.serialize(l)}return{json:c,exportAs:l}}(e,c,this._summaryResolver,this._symbolResolver,o,u,this._options.createExternalSymbolFactoryReexports),h=l.json;l.exportAs.forEach(function(e){a.statements.push(Xt(e.exportAs).set(a.importExpr(e.symbol)).toDeclStmt(null,[rt.Exported]))});var p=[new gf(e,gv(e),h)];return c&&p.push(this._codegenSourceModule(e,c)),p}},{key:"_compileModule",value:function(e,t){var n=[];if(this._options.locale){var r=this._options.locale.replace(/_/g,"-");n.push({token:bn(this.reflector,yn.LOCALE_ID),useValue:r})}this._options.i18nFormat&&n.push({token:bn(this.reflector,yn.TRANSLATIONS_FORMAT),useValue:this._options.i18nFormat}),this._ngModuleCompiler.compile(e,t,n)}},{key:"_compileComponentFactory",value:function(e,t,n,r){var i=this._metadataResolver.getHostComponentMetadata(t),a=this._compileComponent(e,i,n,[t.type],null,r).viewClassVar,s=rr(t.type.reference),o=[];for(var u in t.inputs){var c=t.inputs[u];o.push(new yt(u,an(c),!1))}var l=[];for(var h in t.outputs){var p=t.outputs[h];l.push(new yt(h,an(p),!1))}e.statements.push(Xt(s).set(Gt(yn.createComponentFactory).callFn([an(t.selector),e.importExpr(t.type.reference),Xt(a),new gt(o),new gt(l),Zt(t.template.ngContentSelectors.map(function(e){return an(e)}))])).toDeclStmt($t(yn.ComponentFactory,[Yt(e.importExpr(t.type.reference))],[fe.Const]),[rt.Final,rt.Exported]))}},{key:"_compileComponent",value:function(e,t,n,r,i,a){var s=this._parseTemplate(t,n,r),o=s.template,u=s.pipes,c=i?Xt(i.stylesVar):Zt([]),l=this._viewCompiler.compileComponent(e,t,o,c,u);return i&&Rf(this._symbolResolver,i,this._styleCompiler.needsStyleShim(t),a),l}},{key:"_parseTemplate",value:function(e,t,n){var r=this;if(this._templateAstCache.has(e.type.reference))return this._templateAstCache.get(e.type.reference);var i=e.template.preserveWhitespaces,a=n.map(function(e){return r._metadataResolver.getDirectiveSummary(e.reference)}),s=t.transitiveModule.pipes.map(function(e){return r._metadataResolver.getPipeSummary(e.reference)}),o=this._templateParser.parse(e,e.template.htmlAst,a,s,t.schemas,yr(t.type,e,e.template),i);return this._templateAstCache.set(e.type.reference,o),o}},{key:"_createOutputContext",value:function(e){var t=this;return{statements:[],genFilePath:e,importExpr:function(n){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(!(n instanceof kn))throw new Error("Internal error: unknown identifier ".concat(JSON.stringify(n)));var a=t._symbolResolver.getTypeArity(n)||0,s=t._symbolResolver.getImportAs(n,i)||n,o=s.filePath,u=s.name,c=s.members,l=t._fileNameToModuleName(o,e),h=t._fileNameToModuleName(e,e),p=l===h?null:l,v=r||[],f=a-v.length,d=v.concat(Qn(f,xe));return c.reduce(function(e,t){return e.prop(t)},Gt(new at(p,u,null),d))},constantPool:new hn}}},{key:"_fileNameToModuleName",value:function(e,t){return this._summaryResolver.getKnownModuleName(e)||this._symbolResolver.getKnownModuleName(e)||this._host.fileNameToModuleName(e,t)}},{key:"_codegenStyles",value:function(e,t,n,r,i){var a=this._createOutputContext(Df(n.moduleUrl,r,i)),s=this._styleCompiler.compileStyles(a,t,n,r);return Rf(this._symbolResolver,s,r,i),this._codegenSourceModule(e,a)}},{key:"_codegenSourceModule",value:function(e,t){return new gf(e,t.genFilePath,t.statements)}},{key:"listLazyRoutes",value:function(e,t){var n=this;if(e)return function e(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Set,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];if(r.has(t)||!t.name)return i;r.add(t);var a,s=kf(n._metadataResolver.getNgModuleMetadata(t,!0),n.reflector),o=Object(v.a)(s);try{for(o.s();!(a=o.n()).done;){var u=a.value;i.push(u),e(u.referencedModule,r,i)}}catch(c){o.e(c)}finally{o.f()}return i}(_f(e,this.reflector).referencedModule);if(t){var r,i=[],a=Object(v.a)(t.ngModules);try{for(a.s();!(r=a.n()).done;){var s,o=kf(r.value,this.reflector),u=Object(v.a)(o);try{for(u.s();!(s=u.n()).done;){var c=s.value;i.push(c)}}catch(l){u.e(l)}finally{u.f()}}}catch(l){a.e(l)}finally{a.f()}return i}throw new Error("Either route or analyzedModules has to be specified!")}}]),e}();function If(e){e.statements.push(Gt(yn.ComponentFactory).toStmt())}function Rf(e,t,n,r){t.dependencies.forEach(function(t){t.setValue(e.getStaticSymbol(Df(t.moduleUrl,n,r),t.name))})}function Df(e,t,n){return"".concat(e).concat(t?".shim":"",".ngstyle").concat(n)}function Ff(e,t,n,r){return Hf(function(e,t,n,r){var i=new Set,a=[];return e.forEach(function(e){return function e(s){if(i.has(s)||!t.isSourceFile(s))return!1;i.add(s);var o=Vf(t,n,r,s);a.push(o),o.ngModules.forEach(function(t){t.transitiveModule.modules.forEach(function(t){return e(t.reference.filePath)})})}(e)}),a}(e,t,n,r))}function Lf(e,t,n,r){return Bf(Ff(e,t,n,r))}function Bf(e){if(e.symbolsMissingModule&&e.symbolsMissingModule.length)throw Pn(e.symbolsMissingModule.map(function(e){return"Cannot determine the module for class ".concat(e.name," in ").concat(e.filePath,"! Add ").concat(e.name," to the NgModule to fix it.")}).join("\n"));return e}function Vf(e,t,n,r){var i=[],a=[],s=[],o=[],u=[],c=t.hasDecorators(r),l=!1;return r.endsWith(".d.ts")&&!c||t.getSymbolsOf(r).forEach(function(r){var c=t.resolveSymbol(r).metadata;if(c&&"error"!==c.__symbolic){var h=!1;if("class"===c.__symbolic)if(n.isDirective(r))h=!0,n.isAbstractDirective(r)?i.push(r):a.push(r);else if(n.isPipe(r))h=!0,s.push(r);else if(n.isNgModule(r)){var p=n.getNgModuleMetadata(r,!1);p&&(h=!0,u.push(p))}else if(n.isInjectable(r)){h=!0;var v=n.getInjectableMetadata(r,null,!1);v&&o.push(v)}h||(l=l||function(e,t){var n=!1,r=function(){function t(){Object(b.a)(this,t)}return Object(k.a)(t,[{key:"visitArray",value:function(e,t){var n=this;e.forEach(function(e){return wn(e,n,t)})}},{key:"visitStringMap",value:function(e,t){var n=this;Object.keys(e).forEach(function(r){return wn(e[r],n,t)})}},{key:"visitPrimitive",value:function(e,t){}},{key:"visitOther",value:function(t,r){t instanceof kn&&!e.isSourceFile(t.filePath)&&(n=!0)}}]),t}();return wn(t,new r,null),n}(e,c))}}),{fileName:r,directives:a,abstractDirectives:i,pipes:s,ngModules:u,injectables:o,exportsNonSourceFiles:l}}function Uf(e,t,n,r){var i=[],a=[];return t.hasDecorators(r)&&t.getSymbolsOf(r).forEach(function(e){var r=t.resolveSymbol(e).metadata;if(r&&"error"!==r.__symbolic&&"class"===r.__symbolic)if(n.isInjectable(e)){var s=n.getInjectableMetadata(e,null,!1);s&&i.push(s)}else if(n.isNgModule(e)){var o=n.getShallowModuleMetadata(e);o&&a.push(o)}}),{fileName:r,injectables:i,shallowModules:a}}function Hf(e){var t=[],n=new Map,r=new Set;e.forEach(function(e){e.ngModules.forEach(function(e){t.push(e),e.declaredDirectives.forEach(function(t){return n.set(t.reference,e)}),e.declaredPipes.forEach(function(t){return n.set(t.reference,e)})}),e.directives.forEach(function(e){return r.add(e)}),e.pipes.forEach(function(e){return r.add(e)})});var i=[];return r.forEach(function(e){n.has(e)||i.push(e)}),{ngModules:t,ngModuleByPipeOrDirective:n,symbolsMissingModule:i,files:e}}function qf(e){return Bf(Hf(e))}function Wf(e){if(e<=0)return"";if(e<6)return[""," ","  ","   ","    ","     "][e];var t=Wf(Math.floor(e/2));return t+t+(e%2==1?" ":"")}function zf(e){var t=Pn(function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(!t)return"";var r=t.position?"".concat(t.position.fileName,"(").concat(t.position.line+1,",").concat(t.position.column+1,")"):"",i=r&&0===n?"".concat(r,": "):"",a=r&&0!==n?" at ".concat(r):"",s="".concat(i).concat(t.message).concat(a);if(t.next){var o,u=Object(v.a)(t.next);try{for(u.s();!(o=u.n()).done;){var c=o.value;s+="\n"+e(c,n+2)}}catch(l){u.e(l)}finally{u.f()}}return"".concat(Wf(n)).concat(s)}(e)+".");return t.ngFormattedMessage=!0,t.chain=e,t.position=e.position,t}function Kf(e){return!!e.ngFormattedMessage}var Qf="@angular/core",Xf=/^\$.*\$$/,Gf={__symbolic:"ignore"},$f=new Set(["useValue","useFactory","data","id","loadChildren"]);function Yf(e){return e&&"ignore"==e.__symbolic}var Jf=function(){function e(t,n){var r=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],s=arguments.length>4?arguments[4]:void 0;Object(b.a)(this,e),this.summaryResolver=t,this.symbolResolver=n,this.errorRecorder=s,this.annotationCache=new Map,this.shallowAnnotationCache=new Map,this.propertyCache=new Map,this.parameterCache=new Map,this.methodCache=new Map,this.staticCache=new Map,this.conversionMap=new Map,this.resolvedExternalReferences=new Map,this.annotationForParentClassWithSummaryKind=new Map,this.initializeConversionMap(),i.forEach(function(e){return r._registerDecoratorOrConstructor(r.getStaticSymbol(e.filePath,e.name),e.ctor)}),a.forEach(function(e){return r._registerFunction(r.getStaticSymbol(e.filePath,e.name),e.fn)}),this.annotationForParentClassWithSummaryKind.set($n.Directive,[Q,$]),this.annotationForParentClassWithSummaryKind.set($n.Pipe,[Y]),this.annotationForParentClassWithSummaryKind.set($n.NgModule,[ne]),this.annotationForParentClassWithSummaryKind.set($n.Injectable,[re,Y,Q,$,ne])}return Object(k.a)(e,[{key:"componentModuleUrl",value:function(e){var t=this.findSymbolDeclaration(e);return this.symbolResolver.getResourcePath(t)}},{key:"invalidateSymbols",value:function(e){var t,n=Object(v.a)(e);try{for(n.s();!(t=n.n()).done;){var r=t.value;this.annotationCache.delete(r),this.shallowAnnotationCache.delete(r),this.propertyCache.delete(r),this.parameterCache.delete(r),this.methodCache.delete(r),this.staticCache.delete(r),this.conversionMap.delete(r)}}catch(i){n.e(i)}finally{n.f()}}},{key:"resolveExternalReference",value:function(e,t){var n=void 0;if(!t){n="".concat(e.moduleName,":").concat(e.name);var r=this.resolvedExternalReferences.get(n);if(r)return r}var i=this.symbolResolver.getSymbolByModule(e.moduleName,e.name,t),a=this.findSymbolDeclaration(i);return t||(this.symbolResolver.recordModuleNameForFileName(i.filePath,e.moduleName),this.symbolResolver.recordImportAs(a,i)),n&&this.resolvedExternalReferences.set(n,a),a}},{key:"findDeclaration",value:function(e,t,n){return this.findSymbolDeclaration(this.symbolResolver.getSymbolByModule(e,t,n))}},{key:"tryFindDeclaration",value:function(e,t,n){var r=this;return this.symbolResolver.ignoreErrorsFor(function(){return r.findDeclaration(e,t,n)})}},{key:"findSymbolDeclaration",value:function(e){var t=this.symbolResolver.resolveSymbol(e);if(t){var n=t.metadata;if(n&&"resolved"===n.__symbolic&&(n=n.symbol),n instanceof kn)return this.findSymbolDeclaration(t.metadata)}return e}},{key:"tryAnnotations",value:function(e){var t=this.errorRecorder;this.errorRecorder=function(e,t){};try{return this.annotations(e)}finally{this.errorRecorder=t}}},{key:"annotations",value:function(e){var t=this;return this._annotations(e,function(e,n){return t.simplify(e,n)},this.annotationCache)}},{key:"shallowAnnotations",value:function(e){var t=this;return this._annotations(e,function(e,n){return t.simplify(e,n,!0)},this.shallowAnnotationCache)}},{key:"_annotations",value:function(e,t,n){var r=n.get(e);if(!r){r=[];var i=this.getTypeMetadata(e),a=this.findParentType(e,i);if(a){var s,o=this.annotations(a);(s=r).push.apply(s,Object(g.a)(o))}var u,c=[];if(i.decorators)if(c=t(e,i.decorators))(u=r).push.apply(u,Object(g.a)(c));if(a&&!this.summaryResolver.isLibraryFile(e.filePath)&&this.summaryResolver.isLibraryFile(a.filePath)){var l=this.summaryResolver.resolveSummary(a);if(l&&l.type){var h=this.annotationForParentClassWithSummaryKind.get(l.type.summaryKind);h.some(function(e){return c.some(function(t){return e.isTypeOf(t)})})||this.reportError(ud(Zf("Class ".concat(e.name," in ").concat(e.filePath," extends from a ").concat($n[l.type.summaryKind]," in another compilation unit without duplicating the decorator"),void 0,"Please add a ".concat(h.map(function(e){return e.ngMetadataName}).join(" or ")," decorator to the class")),e),e)}}n.set(e,r.filter(function(e){return!!e}))}return r}},{key:"propMetadata",value:function(e){var t=this,n=this.propertyCache.get(e);if(!n){var r=this.getTypeMetadata(e);n={};var i=this.findParentType(e,r);if(i){var a=this.propMetadata(i);Object.keys(a).forEach(function(e){n[e]=a[e]})}var s=r.members||{};Object.keys(s).forEach(function(r){var i=s[r].find(function(e){return"property"==e.__symbolic||"method"==e.__symbolic}),a=[];(null==n?void 0:n.hasOwnProperty(r))&&a.push.apply(a,Object(g.a)(n[r])),n[r]=a,i&&i.decorators&&a.push.apply(a,Object(g.a)(t.simplify(e,i.decorators)))}),this.propertyCache.set(e,n)}return n}},{key:"parameters",value:function(e){var t=this;if(!(e instanceof kn))return this.reportError(new Error("parameters received ".concat(JSON.stringify(e)," which is not a StaticSymbol")),e),[];try{var n=this.parameterCache.get(e);if(!n){var r=this.getTypeMetadata(e),i=this.findParentType(e,r),a=r?r.members:null,s=a?a.__ctor__:null;if(s){var o=s.find(function(e){return"constructor"==e.__symbolic}),u=o.parameters||[],c=this.simplify(e,o.parameterDecorators||[]);n=[],u.forEach(function(r,i){var a=[],s=t.trySimplify(e,r);s&&a.push(s);var o=c?c[i]:null;o&&a.push.apply(a,Object(g.a)(o)),n.push(a)})}else i&&(n=this.parameters(i));n||(n=[]),this.parameterCache.set(e,n)}return n}catch(l){throw console.error("Failed on type ".concat(JSON.stringify(e)," with error ").concat(l)),l}}},{key:"_methodNames",value:function(e){var t=this.methodCache.get(e);if(!t){var n=this.getTypeMetadata(e);t={};var r=this.findParentType(e,n);if(r){var i=this._methodNames(r);Object.keys(i).forEach(function(e){t[e]=i[e]})}var a=n.members||{};Object.keys(a).forEach(function(e){var n=a[e].some(function(e){return"method"==e.__symbolic});t[e]=t[e]||n}),this.methodCache.set(e,t)}return t}},{key:"_staticMembers",value:function(e){var t=this.staticCache.get(e);if(!t){var n=this.getTypeMetadata(e).statics||{};t=Object.keys(n),this.staticCache.set(e,t)}return t}},{key:"findParentType",value:function(e,t){var n=this.trySimplify(e,t.extends);if(n instanceof kn)return n}},{key:"hasLifecycleHook",value:function(e,t){e instanceof kn||this.reportError(new Error("hasLifecycleHook received ".concat(JSON.stringify(e)," which is not a StaticSymbol")),e);try{return!!this._methodNames(e)[t]}catch(n){throw console.error("Failed on type ".concat(JSON.stringify(e)," with error ").concat(n)),n}}},{key:"guards",value:function(e){if(!(e instanceof kn))return this.reportError(new Error("guards received ".concat(JSON.stringify(e)," which is not a StaticSymbol")),e),{};var t,n=this._staticMembers(e),r={},i=Object(v.a)(n);try{for(i.s();!(t=i.n()).done;){var a=t.value;if(a.endsWith("TypeGuard")){var s=a.substr(0,a.length-"TypeGuard".length),o=void 0;s.endsWith("UseIf")?(s=a.substr(0,s.length-"UseIf".length),o="UseIf"):o=this.getStaticSymbol(e.filePath,e.name,[a]),r[s]=o}}}catch(u){i.e(u)}finally{i.f()}return r}},{key:"_registerDecoratorOrConstructor",value:function(e,t){this.conversionMap.set(e,function(e,n){return Object(l.a)(t,Object(g.a)(n))})}},{key:"_registerFunction",value:function(e,t){this.conversionMap.set(e,function(e,n){return t.apply(void 0,n)})}},{key:"initializeConversionMap",value:function(){this._registerDecoratorOrConstructor(this.findDeclaration(Qf,"Injectable"),re),this.injectionToken=this.findDeclaration(Qf,"InjectionToken"),this.opaqueToken=this.findDeclaration(Qf,"OpaqueToken"),this.ROUTES=this.tryFindDeclaration("@angular/router","ROUTES"),this.ANALYZE_FOR_ENTRY_COMPONENTS=this.findDeclaration(Qf,"ANALYZE_FOR_ENTRY_COMPONENTS"),this._registerDecoratorOrConstructor(this.findDeclaration(Qf,"Host"),ce),this._registerDecoratorOrConstructor(this.findDeclaration(Qf,"Self"),oe),this._registerDecoratorOrConstructor(this.findDeclaration(Qf,"SkipSelf"),ue),this._registerDecoratorOrConstructor(this.findDeclaration(Qf,"Inject"),V),this._registerDecoratorOrConstructor(this.findDeclaration(Qf,"Optional"),se),this._registerDecoratorOrConstructor(this.findDeclaration(Qf,"Attribute"),H),this._registerDecoratorOrConstructor(this.findDeclaration(Qf,"ContentChild"),W),this._registerDecoratorOrConstructor(this.findDeclaration(Qf,"ContentChildren"),q),this._registerDecoratorOrConstructor(this.findDeclaration(Qf,"ViewChild"),K),this._registerDecoratorOrConstructor(this.findDeclaration(Qf,"ViewChildren"),z),this._registerDecoratorOrConstructor(this.findDeclaration(Qf,"Input"),J),this._registerDecoratorOrConstructor(this.findDeclaration(Qf,"Output"),Z),this._registerDecoratorOrConstructor(this.findDeclaration(Qf,"Pipe"),Y),this._registerDecoratorOrConstructor(this.findDeclaration(Qf,"HostBinding"),ee),this._registerDecoratorOrConstructor(this.findDeclaration(Qf,"HostListener"),te),this._registerDecoratorOrConstructor(this.findDeclaration(Qf,"Directive"),Q),this._registerDecoratorOrConstructor(this.findDeclaration(Qf,"Component"),$),this._registerDecoratorOrConstructor(this.findDeclaration(Qf,"NgModule"),ne),this._registerDecoratorOrConstructor(this.findDeclaration(Qf,"Host"),ce),this._registerDecoratorOrConstructor(this.findDeclaration(Qf,"Self"),oe),this._registerDecoratorOrConstructor(this.findDeclaration(Qf,"SkipSelf"),ue),this._registerDecoratorOrConstructor(this.findDeclaration(Qf,"Optional"),se)}},{key:"getStaticSymbol",value:function(e,t,n){return this.symbolResolver.getStaticSymbol(e,t,n)}},{key:"trySimplify",value:function(e,t){var n=this.errorRecorder;this.errorRecorder=function(e,t){};var r=this.simplify(e,t);return this.errorRecorder=n,r}},{key:"simplify",value:function(e,t){var n,r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=this,a=ad.empty,s=new Map;function o(e,t,n,r){function u(e){var t=i.symbolResolver.resolveSymbol(e);return t?t.metadata:null}function c(t){return o(e,t,n,0)}function l(t,a){if(t===e)return o(t,a,n+1,r);try{return o(t,a,n+1,r)}catch(c){if(!ed(c))throw c;var s=c.chain?"references '"+c.symbol.name+"'":nd(c),u={message:"'".concat(t.name,"' ").concat(s),position:c.position,next:c.chain};i.error({message:c.message,advise:c.advise,context:c.context,chain:u,symbol:t},e)}}function h(t){if(id(t))return t;if(Array.isArray(t)){var p,f=[],d=Object(v.a)(t);try{for(d.s();!(p=d.n()).done;){var m=p.value;if(m&&"spread"===m.__symbolic){var y=c(m.expression);if(Array.isArray(y)){var b,k=Object(v.a)(y);try{for(k.s();!(b=k.n()).done;){var E=b.value;f.push(E)}}catch(q){k.e(q)}finally{k.f()}continue}}var _=h(m);Yf(_)||f.push(_)}}catch(q){d.e(q)}finally{d.f()}return f}if(t instanceof kn){if(t===i.injectionToken||i.conversionMap.has(t)||r>0&&!t.members.length)return t;var S=t,x=u(S);return null!=x?l(S,x):S}if(t){if(t.__symbolic){var w;switch(t.__symbolic){case"binop":var C=h(t.left);if(Yf(C))return C;var O=h(t.right);if(Yf(O))return O;switch(t.operator){case"&&":return C&&O;case"||":return C||O;case"|":return C|O;case"^":return C^O;case"&":return C&O;case"==":return C==O;case"!=":return C!=O;case"===":return C===O;case"!==":return C!==O;case"<":return C<O;case">":return C>O;case"<=":return C<=O;case">=":return C>=O;case"<<":return C<<O;case">>":return C>>O;case"+":return C+O;case"-":return C-O;case"*":return C*O;case"/":return C/O;case"%":return C%O}return null;case"if":var T=h(t.condition);return h(T?t.thenExpression:t.elseExpression);case"pre":var j=h(t.operand);if(Yf(j))return j;switch(t.operator){case"+":return j;case"-":return-j;case"!":return!j;case"~":return~j}return null;case"index":var N=c(t.expression),M=c(t.index);return N&&id(M)?N[M]:null;case"select":var A=t.member,P=e,I=h(t.expression);if(I instanceof kn){var R=I.members.concat(A),D=u(P=i.getStaticSymbol(I.filePath,I.name,R));return null!=D?l(P,D):P}return I&&id(A)?l(P,I[A]):null;case"reference":var F=t.name,L=a.resolve(F);if(L!=ad.missing)return L;break;case"resolved":try{return h(t.symbol)}catch(W){throw ed(W)&&null!=t.fileName&&null!=t.line&&null!=t.character&&(W.position={fileName:t.fileName,line:t.line,column:t.character}),W}case"class":case"function":return e;case"new":case"call":if((w=o(e,t.expression,n+1,0))instanceof kn){if(w===i.injectionToken||w===i.opaqueToken)return e;var B=t.arguments||[],V=i.conversionMap.get(w);if(V){var U=B.map(function(t){return l(e,t)}).map(function(e){return Yf(e)?void 0:e});return V(e,U)}return function(t,r,o,u){if(r&&"function"==r.__symbolic){s.get(t)&&i.error({message:"Recursion is not supported",summary:"called '".concat(t.name,"' recursively"),value:r},t);try{var c=r.value;if(c&&(0!=n||"error"!=c.__symbolic)){var p,v=r.parameters,f=r.defaults;if(o=o.map(function(t){return l(e,t)}).map(function(e){return Yf(e)?void 0:e}),f&&f.length>o.length)(p=o).push.apply(p,Object(g.a)(f.slice(o.length).map(function(e){return h(e)})));s.set(t,!0);for(var d=ad.build(),m=0;m<v.length;m++)d.define(v[m],o[m]);var y,b=a;try{a=d.done(),y=l(t,c)}finally{a=b}return y}}finally{s.delete(t)}}if(0===n)return Gf;var k=void 0;if(u&&"resolved"==u.__symbolic){var E=u.line,_=u.character,S=u.fileName;null!=S&&null!=E&&null!=_&&(k={fileName:S,line:E,column:_})}i.error({message:td,context:t,value:r,position:k},e)}(w,u(w),B,t.expression)}return Gf;case"error":var H=t.message;return null!=t.line?i.error({message:H,context:t.context,value:t,position:{fileName:t.fileName,line:t.line,column:t.character}},e):i.error({message:H,context:t.context},e),Gf;case"ignore":return t}return null}return rd(t,function(a,s){if($f.has(s)){if("useValue"===s&&"provide"in t){var u=h(t.provide);if(u===i.ROUTES||u==i.ANALYZE_FOR_ENTRY_COMPONENTS)return h(a)}return function(t){return o(e,t,n,r+1)}(a)}return h(a)})}return Gf}return h(t)}try{n=o(e,t,0,r?1:0)}catch(u){if(!this.errorRecorder)throw ud(u,e);this.reportError(u,e)}if(!Yf(n))return n}},{key:"getTypeMetadata",value:function(e){var t=this.symbolResolver.resolveSymbol(e);return t&&t.metadata?t.metadata:{__symbolic:"class"}}},{key:"reportError",value:function(e,t,n){if(!this.errorRecorder)throw e;this.errorRecorder(ud(e,t),t&&t.filePath||n)}},{key:"error",value:function(e,t){var n=e.message,r=e.summary,i=e.advise,a=e.position,s=e.context,o=(e.value,e.symbol),u=e.chain;this.reportError(Zf(n,r,i,a,o,s,u),t)}}]),e}();function Zf(e,t,n,r,i,a,s){var o=Pn(e);return o.ngMetadataError=!0,n&&(o.advise=n),r&&(o.position=r),t&&(o.summary=t),a&&(o.context=a),s&&(o.chain=s),i&&(o.symbol=i),o}function ed(e){return!!e.ngMetadataError}var td="Function call not supported";function nd(e){if(e.summary)return e.summary;switch(e.message){case"Reference to non-exported class":if(e.context&&e.context.className)return"references non-exported class ".concat(e.context.className);break;case"Variable not initialized":return"is not initialized";case"Destructuring not supported":return"is a destructured variable";case"Could not resolve type":return"could not be resolved";case td:return e.context&&e.context.name?"calls '".concat(e.context.name,"'"):"calls a function";case"Reference to a local symbol":return e.context&&e.context.name?"references local variable ".concat(e.context.name):"references a local variable"}return"contains the error"}function rd(e,t){if(!e)return{};var n={};return Object.keys(e).forEach(function(r){var i=t(e[r],r);Yf(i)||(Xf.test(r)?Object.defineProperty(n,r,{enumerable:!1,configurable:!0,value:i}):n[r]=i)}),n}function id(e){return null===e||"function"!=typeof e&&"object"!=typeof e}var ad=function(){function e(){Object(b.a)(this,e)}return Object(k.a)(e,null,[{key:"build",value:function(){var t=new Map;return{define:function(e,n){return t.set(e,n),this},done:function(){return t.size>0?new sd(t):e.empty}}}}]),e}();ad.missing={},ad.empty={resolve:function(e){return ad.missing}};var sd=function(e){Object(m.a)(n,e);var t=Object(y.a)(n);function n(e){var r;return Object(b.a)(this,n),(r=t.call(this)).bindings=e,r}return Object(k.a)(n,[{key:"resolve",value:function(e){return this.bindings.has(e)?this.bindings.get(e):ad.missing}}]),n}(ad);function od(e,t){var n=function(e,t){switch(e){case"Reference to non-exported class":if(t&&t.className)return"References to a non-exported class are not supported in decorators but ".concat(t.className," was referenced.");break;case"Variable not initialized":return"Only initialized variables and constants can be referenced in decorators because the value of this variable is needed by the template compiler";case"Destructuring not supported":return"Referencing an exported destructured variable or constant is not supported in decorators and this value is needed by the template compiler";case"Could not resolve type":if(t&&t.typeName)return"Could not resolve type ".concat(t.typeName);break;case td:return t&&t.name?"Function calls are not supported in decorators but '".concat(t.name,"' was called"):"Function calls are not supported in decorators";case"Reference to a local symbol":if(t&&t.name)return"Reference to a local (non-exported) symbols are not supported in decorators but '".concat(t.name,"' was referenced");break;case"Lambda not supported":return"Function expressions are not supported in decorators"}return e}(e.message,e.context),r=e.symbol?" in '".concat(e.symbol.name,"'"):"",i="".concat(n).concat(r),a=e.position,s=e.next?od(e.next,t):t?{message:t}:void 0;return{message:i,position:a,next:s?[s]:void 0}}function ud(e,t){if(ed(e)){var n=e.position;return zf(od({message:"Error during template compile of '".concat(t.name,"'"),position:n,next:{message:e.message,next:e.chain,context:e.context,symbol:e.symbol}},e.advise||function(e,t){switch(e){case"Reference to non-exported class":if(t&&t.className)return"Consider exporting '".concat(t.className,"'");break;case"Destructuring not supported":return"Consider simplifying to avoid destructuring";case"Reference to a local symbol":if(t&&t.name)return"Consider exporting '".concat(t.name,"'");break;case"Lambda not supported":return"Consider changing the function expression into an exported function"}}(e.message,e.context)))}return e}var cd=function(){function e(t,n){Object(b.a)(this,e),this.host=t,this.staticSymbolCache=n,this.summaryCache=new Map,this.loadedFilePaths=new Map,this.importAs=new Map,this.knownFileNameToModuleNames=new Map}return Object(k.a)(e,[{key:"isLibraryFile",value:function(e){return!this.host.isSourceFile(dv(e))}},{key:"toSummaryFileName",value:function(e,t){return this.host.toSummaryFileName(e,t)}},{key:"fromSummaryFileName",value:function(e,t){return this.host.fromSummaryFileName(e,t)}},{key:"resolveSummary",value:function(e){var t=e.members.length?this.staticSymbolCache.get(e.filePath,e.name):e,n=this.summaryCache.get(t);return n||(this._loadSummaryFile(e.filePath),n=this.summaryCache.get(e)),t===e&&n||null}},{key:"getSymbolsOf",value:function(e){return this._loadSummaryFile(e)?Array.from(this.summaryCache.keys()).filter(function(t){return t.filePath===e}):null}},{key:"getImportAs",value:function(e){return e.assertNoMembers(),this.importAs.get(e)}},{key:"getKnownModuleName",value:function(e){return this.knownFileNameToModuleNames.get(e)||null}},{key:"addSummary",value:function(e){this.summaryCache.set(e.symbol,e)}},{key:"_loadSummaryFile",value:function(e){var t=this,n=this.loadedFilePaths.get(e);if(null!=n)return n;var r=null;if(this.isLibraryFile(e)){var i=gv(e);try{r=this.host.loadSummary(i)}catch(c){throw console.error("Error loading summary file ".concat(i)),c}}if(n=null!=r,this.loadedFilePaths.set(e,n),r){var a=function(e,t,n,r){return new Mf(e,t).deserialize(n,r)}(this.staticSymbolCache,this,e,r),s=a.moduleName,o=a.summaries,u=a.importAs;o.forEach(function(e){return t.summaryCache.set(e.symbol,e)}),s&&this.knownFileNameToModuleNames.set(e,s),u.forEach(function(e){t.importAs.set(e.symbol,e.importAs)})}return n}}]),e}();function ld(e){return{resolve:function(t,n){var r=e.resourceNameToFileName(n,t);if(!r)throw Pn("Couldn't resolve resource ".concat(n," from ").concat(t));return r}}}function hd(e,t,n){var r,i=t.translations||"",a=ld(e),s=new En,o=new cd(e,s),u=new wf(e,s,o),c=new Jf(o,u,[],[],n);r=t.enableIvy?new Pu:new iv(new Pu,i,t.i18nFormat,t.missingTranslation,console);var l=new Op({defaultEncapsulation:P.Emulated,useJit:!1,missingTranslation:t.missingTranslation,preserveWhitespaces:t.preserveWhitespaces,strictInjectionParameters:t.strictInjectionParameters}),h=new jp({get:function(t){return e.loadResource(t)}},a,r,l),p=new dl(new el),v=new Tl,f=new Ic(l,c,p,v,r,console,[]),d=new Av(l,r,new Kv(c),new Ap(c),new $v(c),o,v,h,console,s,c,n),m=new tf(c),y=new Yv(t,c);return{compiler:new Pf(l,t,e,c,d,f,new $o(a),m,y,new zv(c),new cv(c,!!t.enableIvy),new Xv,o,u),reflector:c}}var pd=function e(){Object(b.a)(this,e)},vd=function(){function e(){Object(b.a)(this,e),this._summaries=new Map}return Object(k.a)(e,[{key:"isLibraryFile",value:function(){return!1}},{key:"toSummaryFileName",value:function(e){return e}},{key:"fromSummaryFileName",value:function(e){return e}},{key:"resolveSummary",value:function(e){return this._summaries.get(e)||null}},{key:"getSymbolsOf",value:function(){return[]}},{key:"getImportAs",value:function(e){return e}},{key:"getKnownModuleName",value:function(e){return null}},{key:"addSummary",value:function(e){this._summaries.set(e.symbol,e)}}]),e}();function fd(e,t,n,r,i){for(var a=r.createChildWihtLocalVars(),s=0;s<e.length;s++)a.vars.set(e[s],t[s]);var o=i.visitAllStatements(n,a);return o?o.value:null}var dd=function(){function e(t,n,r,i){Object(b.a)(this,e),this.parent=t,this.instance=n,this.className=r,this.vars=i,this.exports=[]}return Object(k.a)(e,[{key:"createChildWihtLocalVars",value:function(){return new e(this,this.instance,this.className,new Map)}}]),e}(),md=function e(t){Object(b.a)(this,e),this.value=t};var yd=function(){function e(t){Object(b.a)(this,e),this.reflector=t}return Object(k.a)(e,[{key:"debugAst",value:function(e){return Qv(e)}},{key:"visitDeclareVarStmt",value:function(e,t){var n=e.value?e.value.visitExpression(this,t):void 0;return t.vars.set(e.name,n),e.hasModifier(rt.Exported)&&t.exports.push(e.name),null}},{key:"visitWriteVarExpr",value:function(e,t){for(var n=e.value.visitExpression(this,t),r=t;null!=r;){if(r.vars.has(e.name))return r.vars.set(e.name,n),n;r=r.parent}throw new Error("Not declared variable ".concat(e.name))}},{key:"visitWrappedNodeExpr",value:function(e,t){throw new Error("Cannot interpret a WrappedNodeExpr.")}},{key:"visitTypeofExpr",value:function(e,t){throw new Error("Cannot interpret a TypeofExpr")}},{key:"visitReadVarExpr",value:function(e,t){var n=e.name;if(null!=e.builtin)switch(e.builtin){case Pe.Super:return Object.getPrototypeOf(t.instance);case Pe.This:return t.instance;case Pe.CatchError:n=bd;break;case Pe.CatchStack:n=kd;break;default:throw new Error("Unknown builtin variable ".concat(e.builtin))}for(var r=t;null!=r;){if(r.vars.has(n))return r.vars.get(n);r=r.parent}throw new Error("Not declared variable ".concat(n))}},{key:"visitWriteKeyExpr",value:function(e,t){var n=e.receiver.visitExpression(this,t),r=e.index.visitExpression(this,t),i=e.value.visitExpression(this,t);return n[r]=i,i}},{key:"visitWritePropExpr",value:function(e,t){var n=e.receiver.visitExpression(this,t),r=e.value.visitExpression(this,t);return n[e.name]=r,r}},{key:"visitInvokeMethodExpr",value:function(e,t){var n,r=e.receiver.visitExpression(this,t),i=this.visitAllExpressions(e.args,t);if(null!=e.builtin)switch(e.builtin){case Re.ConcatArray:n=r.concat.apply(r,Object(g.a)(i));break;case Re.SubscribeObservable:n=r.subscribe({next:i[0]});break;case Re.Bind:n=r.bind.apply(r,Object(g.a)(i));break;default:throw new Error("Unknown builtin method ".concat(e.builtin))}else n=r[e.name].apply(r,i);return n}},{key:"visitInvokeFunctionExpr",value:function(e,t){var n=this.visitAllExpressions(e.args,t),r=e.fn;return r instanceof De&&r.builtin===Pe.Super?(t.instance.constructor.prototype.constructor.apply(t.instance,n),null):e.fn.visitExpression(this,t).apply(null,n)}},{key:"visitTaggedTemplateExpr",value:function(e,t){var n=e.template.elements.map(function(e){return e.text});Object.defineProperty(n,"raw",{value:e.template.elements.map(function(e){return e.rawText})});var r=this.visitAllExpressions(e.template.expressions,t);return r.unshift(n),e.tag.visitExpression(this,t).apply(null,r)}},{key:"visitReturnStmt",value:function(e,t){return new md(e.value.visitExpression(this,t))}},{key:"visitDeclareClassStmt",value:function(e,t){var n=function(e,t,n){var r={};e.getters.forEach(function(i){r[i.name]={configurable:!1,get:function(){var r=new dd(t,this,e.name,t.vars);return fd([],[],i.body,r,n)}}}),e.methods.forEach(function(i){var a=i.params.map(function(e){return e.name});r[i.name]={writable:!1,configurable:!1,value:function(){for(var r=new dd(t,this,e.name,t.vars),s=arguments.length,o=new Array(s),u=0;u<s;u++)o[u]=arguments[u];return fd(a,o,i.body,r,n)}}});var i=e.constructorMethod.params.map(function(e){return e.name}),a=function(){var r=this,a=new dd(t,this,e.name,t.vars);e.fields.forEach(function(e){r[e.name]=void 0});for(var s=arguments.length,o=new Array(s),u=0;u<s;u++)o[u]=arguments[u];fd(i,o,e.constructorMethod.body,a,n)},s=e.parent?e.parent.visitExpression(n,t):Object;return a.prototype=Object.create(s.prototype,r),a}(e,t,this);return t.vars.set(e.name,n),e.hasModifier(rt.Exported)&&t.exports.push(e.name),null}},{key:"visitExpressionStmt",value:function(e,t){return e.expr.visitExpression(this,t)}},{key:"visitIfStmt",value:function(e,t){return e.condition.visitExpression(this,t)?this.visitAllStatements(e.trueCase,t):null!=e.falseCase?this.visitAllStatements(e.falseCase,t):null}},{key:"visitTryCatchStmt",value:function(e,t){try{return this.visitAllStatements(e.bodyStmts,t)}catch(r){var n=t.createChildWihtLocalVars();return n.vars.set(bd,r),n.vars.set(kd,r.stack),this.visitAllStatements(e.catchStmts,n)}}},{key:"visitThrowStmt",value:function(e,t){throw e.error.visitExpression(this,t)}},{key:"visitInstantiateExpr",value:function(e,t){var n=this.visitAllExpressions(e.args,t),r=e.classExpr.visitExpression(this,t);return Object(l.a)(r,Object(g.a)(n))}},{key:"visitLiteralExpr",value:function(e,t){return e.value}},{key:"visitLocalizedString",value:function(e,t){return null}},{key:"visitExternalExpr",value:function(e,t){return this.reflector.resolveExternalReference(e.value)}},{key:"visitConditionalExpr",value:function(e,t){return e.condition.visitExpression(this,t)?e.trueCase.visitExpression(this,t):null!=e.falseCase?e.falseCase.visitExpression(this,t):null}},{key:"visitNotExpr",value:function(e,t){return!e.condition.visitExpression(this,t)}},{key:"visitAssertNotNullExpr",value:function(e,t){return e.condition.visitExpression(this,t)}},{key:"visitCastExpr",value:function(e,t){return e.value.visitExpression(this,t)}},{key:"visitFunctionExpr",value:function(e,t){return gd(e.params.map(function(e){return e.name}),e.statements,t,this)}},{key:"visitDeclareFunctionStmt",value:function(e,t){var n=e.params.map(function(e){return e.name});return t.vars.set(e.name,gd(n,e.statements,t,this)),e.hasModifier(rt.Exported)&&t.exports.push(e.name),null}},{key:"visitUnaryOperatorExpr",value:function(e,t){var n=this,r=function(){return e.expr.visitExpression(n,t)};switch(e.operator){case ge.Plus:return+r();case ge.Minus:return-r();default:throw new Error("Unknown operator ".concat(e.operator))}}},{key:"visitBinaryOperatorExpr",value:function(e,t){var n=this,r=function(){return e.lhs.visitExpression(n,t)},i=function(){return e.rhs.visitExpression(n,t)};switch(e.operator){case be.Equals:return r()==i();case be.Identical:return r()===i();case be.NotEquals:return r()!=i();case be.NotIdentical:return r()!==i();case be.And:return r()&&i();case be.Or:return r()||i();case be.Plus:return r()+i();case be.Minus:return r()-i();case be.Divide:return r()/i();case be.Multiply:return r()*i();case be.Modulo:return r()%i();case be.Lower:return r()<i();case be.LowerEquals:return r()<=i();case be.Bigger:return r()>i();case be.BiggerEquals:return r()>=i();default:throw new Error("Unknown operator ".concat(e.operator))}}},{key:"visitReadPropExpr",value:function(e,t){return e.receiver.visitExpression(this,t)[e.name]}},{key:"visitReadKeyExpr",value:function(e,t){return e.receiver.visitExpression(this,t)[e.index.visitExpression(this,t)]}},{key:"visitLiteralArrayExpr",value:function(e,t){return this.visitAllExpressions(e.entries,t)}},{key:"visitLiteralMapExpr",value:function(e,t){var n=this,r={};return e.entries.forEach(function(e){return r[e.key]=e.value.visitExpression(n,t)}),r}},{key:"visitCommaExpr",value:function(e,t){var n=this.visitAllExpressions(e.parts,t);return n[n.length-1]}},{key:"visitAllExpressions",value:function(e,t){var n=this;return e.map(function(e){return e.visitExpression(n,t)})}},{key:"visitAllStatements",value:function(e,t){for(var n=0;n<e.length;n++){var r=e[n].visitStatement(this,t);if(r instanceof md)return r}return null}}]),e}();function gd(e,t,n,r){return function(){for(var i=arguments.length,a=new Array(i),s=0;s<i;s++)a[s]=arguments[s];return fd(e,a,t,n,r)}}var bd="error",kd="stack",Ed=function(){function e(t,n,r,i,a,s,o,u,c,l,h){Object(b.a)(this,e),this._metadataResolver=t,this._templateParser=n,this._styleCompiler=r,this._viewCompiler=i,this._ngModuleCompiler=a,this._summaryResolver=s,this._reflector=o,this._jitEvaluator=u,this._compilerConfig=c,this._console=l,this.getExtraNgModuleProviders=h,this._compiledTemplateCache=new Map,this._compiledHostTemplateCache=new Map,this._compiledDirectiveWrapperCache=new Map,this._compiledNgModuleCache=new Map,this._sharedStylesheetCount=0,this._addedAotSummaries=new Set}return Object(k.a)(e,[{key:"compileModuleSync",value:function(e){return jn(this._compileModuleAndComponents(e,!0))}},{key:"compileModuleAsync",value:function(e){return Promise.resolve(this._compileModuleAndComponents(e,!1))}},{key:"compileModuleAndAllComponentsSync",value:function(e){return jn(this._compileModuleAndAllComponents(e,!0))}},{key:"compileModuleAndAllComponentsAsync",value:function(e){return Promise.resolve(this._compileModuleAndAllComponents(e,!1))}},{key:"getComponentFactory",value:function(e){return this._metadataResolver.getDirectiveSummary(e).componentFactory}},{key:"loadAotSummaries",value:function(e){this.clearCache(),this._addAotSummaries(e)}},{key:"_addAotSummaries",value:function(e){if(!this._addedAotSummaries.has(e)){this._addedAotSummaries.add(e);for(var t=e(),n=0;n<t.length;n++){var r=t[n];if("function"==typeof r)this._addAotSummaries(r);else{var i=r;this._summaryResolver.addSummary({symbol:i.type.reference,metadata:null,type:i})}}}}},{key:"hasAotSummary",value:function(e){return!!this._summaryResolver.resolveSummary(e)}},{key:"_filterJitIdentifiers",value:function(e){var t=this;return e.map(function(e){return e.reference}).filter(function(e){return!t.hasAotSummary(e)})}},{key:"_compileModuleAndComponents",value:function(e,t){var n=this;return Nn(this._loadModules(e,t),function(){return n._compileComponents(e,null),n._compileModule(e)})}},{key:"_compileModuleAndAllComponents",value:function(e,t){var n=this;return Nn(this._loadModules(e,t),function(){var t=[];return n._compileComponents(e,t),{ngModuleFactory:n._compileModule(e),componentFactories:t}})}},{key:"_loadModules",value:function(e,t){var n=this,r=[],i=this._metadataResolver.getNgModuleMetadata(e);return this._filterJitIdentifiers(i.transitiveModule.modules).forEach(function(e){var i=n._metadataResolver.getNgModuleMetadata(e);n._filterJitIdentifiers(i.declaredDirectives).forEach(function(e){var a=n._metadataResolver.loadDirectiveMetadata(i.type.reference,e,t);a&&r.push(a)}),n._filterJitIdentifiers(i.declaredPipes).forEach(function(e){return n._metadataResolver.getOrLoadPipeMetadata(e)})}),Mn(r)}},{key:"_compileModule",value:function(e){var t=this._compiledNgModuleCache.get(e);if(!t){var n=this._metadataResolver.getNgModuleMetadata(e),r=this.getExtraNgModuleProviders(n.type.reference),i=xd(),a=this._ngModuleCompiler.compile(i,n,r);t=this._interpretOrJit(br(n),i.statements)[a.ngModuleFactoryVar],this._compiledNgModuleCache.set(n.type.reference,t)}return t}},{key:"_compileComponents",value:function(e,t){var n=this,r=this._metadataResolver.getNgModuleMetadata(e),i=new Map,a=new Set,s=this._filterJitIdentifiers(r.transitiveModule.modules);s.forEach(function(e){var r=n._metadataResolver.getNgModuleMetadata(e);n._filterJitIdentifiers(r.declaredDirectives).forEach(function(e){i.set(e,r);var s=n._metadataResolver.getDirectiveMetadata(e);if(s.isComponent&&(a.add(n._createCompiledTemplate(s,r)),t)){var o=n._createCompiledHostTemplate(s.type.reference,r);a.add(o),t.push(s.componentFactory)}})}),s.forEach(function(e){var t=n._metadataResolver.getNgModuleMetadata(e);n._filterJitIdentifiers(t.declaredDirectives).forEach(function(e){var t=n._metadataResolver.getDirectiveMetadata(e);t.isComponent&&t.entryComponents.forEach(function(e){var t=i.get(e.componentType);a.add(n._createCompiledHostTemplate(e.componentType,t))})}),t.entryComponents.forEach(function(e){if(!n.hasAotSummary(e.componentType)){var t=i.get(e.componentType);a.add(n._createCompiledHostTemplate(e.componentType,t))}})}),a.forEach(function(e){return n._compileTemplate(e)})}},{key:"clearCacheFor",value:function(e){this._compiledNgModuleCache.delete(e),this._metadataResolver.clearCacheFor(e),this._compiledHostTemplateCache.delete(e),this._compiledTemplateCache.get(e)&&this._compiledTemplateCache.delete(e)}},{key:"clearCache",value:function(){this._metadataResolver.clearCache(),this._compiledTemplateCache.clear(),this._compiledHostTemplateCache.clear(),this._compiledNgModuleCache.clear()}},{key:"_createCompiledHostTemplate",value:function(e,t){if(!t)throw new Error("Component ".concat(Vn(e)," is not part of any NgModule or the module has not been imported into your module."));var n=this._compiledHostTemplateCache.get(e);if(!n){var r=this._metadataResolver.getDirectiveMetadata(e);Sd(r);var i=this._metadataResolver.getHostComponentMetadata(r,r.componentFactory.viewDefFactory);n=new _d(!0,r.type,i,t,[r.type]),this._compiledHostTemplateCache.set(e,n)}return n}},{key:"_createCompiledTemplate",value:function(e,t){var n=this._compiledTemplateCache.get(e.type.reference);return n||(Sd(e),n=new _d(!1,e.type,e,t,t.transitiveModule.directives),this._compiledTemplateCache.set(e.type.reference,n)),n}},{key:"_compileTemplate",value:function(e){var t=this;if(!e.isCompiled){var n=e.compMeta,r=new Map,i=xd(),a=this._styleCompiler.compileComponent(i,n);n.template.externalStylesheets.forEach(function(e){var i=t._styleCompiler.compileStyles(xd(),n,e);r.set(e.moduleUrl,i)}),this._resolveStylesCompileResult(a,r);e.ngModule.transitiveModule.pipes.map(function(e){return t._metadataResolver.getPipeSummary(e.reference)});var s=this._parseTemplate(n,e.ngModule,e.directives),o=s.template,u=s.pipes,c=this._viewCompiler.compileComponent(i,n,o,Xt(a.stylesVar),u),l=this._interpretOrJit(kr(e.ngModule.type,e.compMeta),i.statements),h=l[c.viewClassVar],p=l[c.rendererTypeVar];e.compiled(h,p)}}},{key:"_parseTemplate",value:function(e,t,n){var r=this,i=e.template.preserveWhitespaces,a=n.map(function(e){return r._metadataResolver.getDirectiveSummary(e.reference)}),s=t.transitiveModule.pipes.map(function(e){return r._metadataResolver.getPipeSummary(e.reference)});return this._templateParser.parse(e,e.template.htmlAst,a,s,t.schemas,yr(t.type,e,e.template),i)}},{key:"_resolveStylesCompileResult",value:function(e,t){var n=this;e.dependencies.forEach(function(e,r){var i=t.get(e.moduleUrl),a=n._resolveAndEvalStylesCompileResult(i,t);e.setValue(a)})}},{key:"_resolveAndEvalStylesCompileResult",value:function(e,t){return this._resolveStylesCompileResult(e,t),this._interpretOrJit(gr(e.meta,this._sharedStylesheetCount++),e.outputCtx.statements)[e.stylesVar]}},{key:"_interpretOrJit",value:function(e,t){return this._compilerConfig.useJit?this._jitEvaluator.evaluateStatements(e,t,this._reflector,this._compilerConfig.jitDevMode):function(e,t){var n=new dd(null,null,null,new Map);new yd(t).visitAllStatements(e,n);var r={};return n.exports.forEach(function(e){r[e]=n.vars.get(e)}),r}(t,this._reflector)}}]),e}(),_d=function(){function e(t,n,r,i,a){Object(b.a)(this,e),this.isHost=t,this.compType=n,this.compMeta=r,this.ngModule=i,this.directives=a,this._viewClass=null,this.isCompiled=!1}return Object(k.a)(e,[{key:"compiled",value:function(e,t){for(var n in this._viewClass=e,this.compMeta.componentViewType.setDelegate(e),t)this.compMeta.rendererType[n]=t[n];this.isCompiled=!0}}]),e}();function Sd(e){if(!e.isComponent)throw new Error("Could not compile '".concat(Jn(e.type),"' because it is not a component."))}function xd(){return{statements:[],genFilePath:"",importExpr:function(e){return Gt({name:Jn(e),moduleName:null,runtime:e})},constantPool:new hn}}var wd=function e(){Object(b.a)(this,e)};function Cd(){return new Td}function Od(){return new Td(".")}var Td=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;Object(b.a)(this,e),this._packagePrefix=t}return Object(k.a)(e,[{key:"resolve",value:function(e,t){var n=t;null!=e&&e.length>0&&(n=function(e,t){var n=Ad(encodeURI(t)),r=Ad(e);if(null!=n[Nd.Scheme])return Pd(n);n[Nd.Scheme]=r[Nd.Scheme];for(var i=Nd.Scheme;i<=Nd.Port;i++)null==n[i]&&(n[i]=r[i]);if("/"==n[Nd.Path][0])return Pd(n);var a=r[Nd.Path];null==a&&(a="/");var s=a.lastIndexOf("/");return a=a.substring(0,s+1)+n[Nd.Path],n[Nd.Path]=a,Pd(n)}(e,n));var r=Ad(n),i=this._packagePrefix;if(null!=i&&null!=r&&"package"==r[Nd.Scheme]){var a=r[Nd.Path];return i=i.replace(/\/+$/,""),a=a.replace(/^\/+/,""),"".concat(i,"/").concat(a)}return n}}]),e}();function jd(e){var t=Ad(e);return t&&t[Nd.Scheme]||""}var Nd,Md=new RegExp("^(?:([^:/?#.]+):)?(?://(?:([^/?#]*)@)?([\\w\\d\\-\\u0100-\\uffff.%]*)(?::([0-9]+))?)?([^?#]+)?(?:\\?([^#]*))?(?:#(.*))?$");function Ad(e){return e.match(Md)}function Pd(e){var t,n,r,i,a,s,o,u,c=e[Nd.Path];return c=null==c?"":function(e){if("/"==e)return"/";for(var t="/"==e[0]?"/":"",n="/"===e[e.length-1]?"/":"",r=e.split("/"),i=[],a=0,s=0;s<r.length;s++){var o=r[s];switch(o){case"":case".":break;case"..":i.length>0?i.pop():a++;break;default:i.push(o)}}if(""==t){for(;a-- >0;)i.unshift("..");0===i.length&&i.push(".")}return t+i.join("/")+n}(c),e[Nd.Path]=c,t=e[Nd.Scheme],n=e[Nd.UserInfo],r=e[Nd.Domain],i=e[Nd.Port],a=c,s=e[Nd.QueryData],o=e[Nd.Fragment],u=[],null!=t&&u.push(t+":"),null!=r&&(u.push("//"),null!=n&&u.push(n+"@"),u.push(r),null!=i&&u.push(":"+i)),null!=a&&u.push(a),null!=s&&u.push("?"+s),null!=o&&u.push("#"+o),u.join("")}!function(e){e[e.Scheme=1]="Scheme",e[e.UserInfo=2]="UserInfo",e[e.Domain=3]="Domain",e[e.Port=4]="Port",e[e.Path=5]="Path",e[e.QueryData=6]="QueryData",e[e.Fragment=7]="Fragment"}(Nd||(Nd={}));var Id=function(){function e(t,n,r,i){Object(b.a)(this,e),this.host=t,this.staticSymbolResolver=n,this.messageBundle=r,this.metadataResolver=i}return Object(k.a)(e,[{key:"extract",value:function(e){var t=this,n=Lf(e,this.host,this.staticSymbolResolver,this.metadataResolver),r=n.files,i=n.ngModules;return Promise.all(i.map(function(e){return t.metadataResolver.loadNgModuleDirectiveAndPipeMetadata(e.type.reference,!1)})).then(function(){var e=[];if(r.forEach(function(n){var r=[];n.directives.forEach(function(e){var n=t.metadataResolver.getDirectiveMetadata(e);n&&n.isComponent&&r.push(n)}),r.forEach(function(n){var r=n.template.template,i=n.template.templateUrl,a=La.fromArray(n.template.interpolation);e.push.apply(e,Object(g.a)(t.messageBundle.updateFromTemplate(r,i,a)))})}),e.length)throw new Error(e.map(function(e){return e.toString()}).join("\n"));return t.messageBundle})}}],[{key:"create",value:function(t,n){var r=new Pu,i=ld(t),a=new En,s=new cd(t,a),o=new wf(t,a,s),u=new Jf(s,o),c=new Op({defaultEncapsulation:P.Emulated,useJit:!1}),l=new jp({get:function(e){return t.loadResource(e)}},i,r,c),h=new Tl,p=new Av(c,r,new Kv(u),new Ap(u),new $v(u),s,h,l,console,a,u),v=new mf(r,[],{},n);return{extractor:new e(t,o,v,p),staticReflector:u}}}]),e}(),Rd=function(){function e(t){Object(b.a)(this,e),this.directiveMatcher=t}return Object(k.a)(e,[{key:"bind",value:function(e){if(!e.template)throw new Error("Binding without a template not yet supported");var t=Dd.apply(e.template),n=function(e){var t=new Map;function n(e){if(t.has(e.template))return t.get(e.template);var r,i=e.namedEntities;return r=null!==e.parentScope?new Map([].concat(Object(g.a)(n(e.parentScope)),Object(g.a)(i))):new Map(i),t.set(e.template,r),r}var r=[e];for(;r.length>0;){var i,a=r.pop(),s=Object(v.a)(a.childScopes.values());try{for(s.s();!(i=s.n()).done;){var o=i.value;r.push(o)}}catch(m){s.e(m)}finally{s.f()}n(a)}var u,c=new Map,l=Object(v.a)(t);try{for(l.s();!(u=l.n()).done;){var p=Object(h.a)(u.value,2),f=p[0],d=p[1];c.set(f,new Set(d.values()))}}catch(m){l.e(m)}finally{l.f()}return c}(t),r=Fd.apply(e.template,this.directiveMatcher),i=r.directives,a=r.bindings,s=r.references,o=Ld.apply(e.template,t),u=o.expressions,c=o.symbols,l=o.nestingLevel,p=o.usedPipes;return new Bd(e,i,a,s,u,c,l,n,p)}}]),e}(),Dd=function(){function e(t,n){Object(b.a)(this,e),this.parentScope=t,this.template=n,this.namedEntities=new Map,this.childScopes=new Map}return Object(k.a)(e,[{key:"ingest",value:function(e){var t=this;e instanceof $r?(e.variables.forEach(function(e){return t.visitVariable(e)}),e.children.forEach(function(e){return e.visit(t)})):e.forEach(function(e){return e.visit(t)})}},{key:"visitElement",value:function(e){var t=this;e.references.forEach(function(e){return t.visitReference(e)}),e.children.forEach(function(e){return e.visit(t)})}},{key:"visitTemplate",value:function(t){var n=this;t.references.forEach(function(e){return n.visitReference(e)});var r=new e(this,t);r.ingest(t),this.childScopes.set(t,r)}},{key:"visitVariable",value:function(e){this.maybeDeclare(e)}},{key:"visitReference",value:function(e){this.maybeDeclare(e)}},{key:"visitContent",value:function(e){}},{key:"visitBoundAttribute",value:function(e){}},{key:"visitBoundEvent",value:function(e){}},{key:"visitBoundText",value:function(e){}},{key:"visitText",value:function(e){}},{key:"visitTextAttribute",value:function(e){}},{key:"visitIcu",value:function(e){}},{key:"maybeDeclare",value:function(e){this.namedEntities.has(e.name)||this.namedEntities.set(e.name,e)}},{key:"lookup",value:function(e){return this.namedEntities.has(e)?this.namedEntities.get(e):null!==this.parentScope?this.parentScope.lookup(e):null}},{key:"getChildScope",value:function(e){var t=this.childScopes.get(e);if(void 0===t)throw new Error("Assertion error: child scope for ".concat(e," not found"));return t}}],[{key:"newRootScope",value:function(){return new e(null,null)}},{key:"apply",value:function(t){var n=e.newRootScope();return n.ingest(t),n}}]),e}(),Fd=function(){function e(t,n,r,i){Object(b.a)(this,e),this.matcher=t,this.directives=n,this.bindings=r,this.references=i}return Object(k.a)(e,[{key:"ingest",value:function(e){var t=this;e.forEach(function(e){return e.visit(t)})}},{key:"visitElement",value:function(e){this.visitElementOrTemplate(e.name,e)}},{key:"visitTemplate",value:function(e){this.visitElementOrTemplate("ng-template",e)}},{key:"visitElementOrTemplate",value:function(e,t){var n=this,r=Ch(e,Ca(t)),i=[];this.matcher.match(r,function(e,t){return i.push(t)}),i.length>0&&this.directives.set(t,i),t.references.forEach(function(e){var r=null;if(""===e.value.trim())r=i.find(function(e){return e.isComponent})||null;else if(null===(r=i.find(function(t){return null!==t.exportAs&&t.exportAs.some(function(t){return t===e.value})})||null))return;null!==r?n.references.set(e,{directive:r,node:t}):n.references.set(e,t)});var a=function(e,r){var a=i.find(function(t){return t[r].hasBindingPropertyName(e.name)}),s=void 0!==a?a:t;n.bindings.set(e,s)};t.inputs.forEach(function(e){return a(e,"inputs")}),t.attributes.forEach(function(e){return a(e,"inputs")}),t instanceof $r&&t.templateAttrs.forEach(function(e){return a(e,"inputs")}),t.outputs.forEach(function(e){return a(e,"outputs")}),t.children.forEach(function(e){return e.visit(n)})}},{key:"visitContent",value:function(e){}},{key:"visitVariable",value:function(e){}},{key:"visitReference",value:function(e){}},{key:"visitTextAttribute",value:function(e){}},{key:"visitBoundAttribute",value:function(e){}},{key:"visitBoundEvent",value:function(e){}},{key:"visitBoundAttributeOrEvent",value:function(e){}},{key:"visitText",value:function(e){}},{key:"visitBoundText",value:function(e){}},{key:"visitIcu",value:function(e){}}],[{key:"apply",value:function(t,n){var r=new Map,i=new Map,a=new Map;return new e(n,r,i,a).ingest(t),{directives:r,bindings:i,references:a}}}]),e}(),Ld=function(e){Object(m.a)(n,e);var t=Object(y.a)(n);function n(e,r,i,a,s,o,u){var c;return Object(b.a)(this,n),(c=t.call(this)).bindings=e,c.symbols=r,c.usedPipes=i,c.nestingLevel=a,c.scope=s,c.template=o,c.level=u,c.pipesUsed=[],c.visitNode=function(e){return e.visit(Object(p.a)(c))},c}return Object(k.a)(n,[{key:"visit",value:function(e,t){e instanceof fs?e.visit(this,t):e.visit(this)}},{key:"ingest",value:function(e){e instanceof $r?(e.variables.forEach(this.visitNode),e.children.forEach(this.visitNode),this.nestingLevel.set(e,this.level)):e.forEach(this.visitNode)}},{key:"visitElement",value:function(e){e.inputs.forEach(this.visitNode),e.outputs.forEach(this.visitNode),e.children.forEach(this.visitNode)}},{key:"visitTemplate",value:function(e){e.inputs.forEach(this.visitNode),e.outputs.forEach(this.visitNode),e.templateAttrs.forEach(this.visitNode),e.references.forEach(this.visitNode);var t=this.scope.getChildScope(e);new n(this.bindings,this.symbols,this.usedPipes,this.nestingLevel,t,e,this.level+1).ingest(e)}},{key:"visitVariable",value:function(e){null!==this.template&&this.symbols.set(e,this.template)}},{key:"visitReference",value:function(e){null!==this.template&&this.symbols.set(e,this.template)}},{key:"visitText",value:function(e){}},{key:"visitContent",value:function(e){}},{key:"visitTextAttribute",value:function(e){}},{key:"visitIcu",value:function(e){var t=this;Object.keys(e.vars).forEach(function(n){return e.vars[n].visit(t)}),Object.keys(e.placeholders).forEach(function(n){return e.placeholders[n].visit(t)})}},{key:"visitBoundAttribute",value:function(e){e.value.visit(this)}},{key:"visitBoundEvent",value:function(e){e.handler.visit(this)}},{key:"visitBoundText",value:function(e){e.value.visit(this)}},{key:"visitPipe",value:function(e,t){return this.usedPipes.add(e.name),Object(f.a)(Object(d.a)(n.prototype),"visitPipe",this).call(this,e,t)}},{key:"visitPropertyRead",value:function(e,t){return this.maybeMap(t,e,e.name),Object(f.a)(Object(d.a)(n.prototype),"visitPropertyRead",this).call(this,e,t)}},{key:"visitSafePropertyRead",value:function(e,t){return this.maybeMap(t,e,e.name),Object(f.a)(Object(d.a)(n.prototype),"visitSafePropertyRead",this).call(this,e,t)}},{key:"visitPropertyWrite",value:function(e,t){return this.maybeMap(t,e,e.name),Object(f.a)(Object(d.a)(n.prototype),"visitPropertyWrite",this).call(this,e,t)}},{key:"visitMethodCall",value:function(e,t){return this.maybeMap(t,e,e.name),Object(f.a)(Object(d.a)(n.prototype),"visitMethodCall",this).call(this,e,t)}},{key:"visitSafeMethodCall",value:function(e,t){return this.maybeMap(t,e,e.name),Object(f.a)(Object(d.a)(n.prototype),"visitSafeMethodCall",this).call(this,e,t)}},{key:"maybeMap",value:function(e,t,n){if(t.receiver instanceof gs){var r=this.scope.lookup(n);null!==r&&this.bindings.set(t,r)}}}],[{key:"apply",value:function(e,t){var r=new Map,i=new Map,a=new Map,s=new Set;return new n(r,i,s,a,t,e instanceof $r?e:null,0).ingest(e),{expressions:r,symbols:i,nestingLevel:a,usedPipes:s}}}]),n}(qs),Bd=function(){function e(t,n,r,i,a,s,o,u,c){Object(b.a)(this,e),this.target=t,this.directives=n,this.bindings=r,this.references=i,this.exprTargets=a,this.symbols=s,this.nestingLevel=o,this.templateEntities=u,this.usedPipes=c}return Object(k.a)(e,[{key:"getEntitiesInTemplateScope",value:function(e){var t;return null!==(t=this.templateEntities.get(e))&&void 0!==t?t:new Set}},{key:"getDirectivesOfNode",value:function(e){return this.directives.get(e)||null}},{key:"getReferenceTarget",value:function(e){return this.references.get(e)||null}},{key:"getConsumerOfBinding",value:function(e){return this.bindings.get(e)||null}},{key:"getExpressionTarget",value:function(e){return this.exprTargets.get(e)||null}},{key:"getTemplateOfSymbol",value:function(e){return this.symbols.get(e)||null}},{key:"getNestingLevel",value:function(e){return this.nestingLevel.get(e)||0}},{key:"getUsedDirectives",value:function(){var e=new Set;return this.directives.forEach(function(t){return t.forEach(function(t){return e.add(t)})}),Array.from(e.values())}},{key:"getUsedPipes",value:function(){return Array.from(this.usedPipes)}}]),e}();function Vd(e,t){return null===e||0===e.length?null:Zt(e.map(function(e){return t(e)}))}function Ud(e,t){var n=Object.keys(e).map(function(n){var r=e[n];return{key:n,value:t(r),quoted:!0}});return n.length>0?en(n):null}function Hd(e){var t=qd(e);return{expression:Gt(_r.declareDirective).callFn([t.toLiteralMap()]),type:Yh(e)}}function qd(e){var t=new wa;return t.set("version",an("11.2.14")),t.set("type",e.internalType),null!==e.selector&&t.set("selector",an(e.selector)),t.set("inputs",ba(e.inputs,!0)),t.set("outputs",ba(e.outputs)),t.set("host",function(e){var t=new wa;t.set("attributes",Ud(e.attributes,function(e){return e})),t.set("listeners",Ud(e.listeners,an)),t.set("properties",Ud(e.properties,an)),e.specialAttributes.styleAttr&&t.set("styleAttribute",an(e.specialAttributes.styleAttr));e.specialAttributes.classAttr&&t.set("classAttribute",an(e.specialAttributes.classAttr));return t.values.length>0?t.toLiteralMap():null}(e.host)),t.set("providers",e.providers),e.queries.length>0&&t.set("queries",Zt(e.queries.map(Wd))),e.viewQueries.length>0&&t.set("viewQueries",Zt(e.viewQueries.map(Wd))),null!==e.exportAs&&t.set("exportAs",ga(e.exportAs)),e.usesInheritance&&t.set("usesInheritance",an(!0)),e.lifecycle.usesOnChanges&&t.set("usesOnChanges",an(!0)),t.set("ngImport",Gt(_r.core)),t}function Wd(e){var t=new wa;return t.set("propertyName",an(e.propertyName)),e.first&&t.set("first",an(!0)),t.set("predicate",Array.isArray(e.predicate)?ga(e.predicate):e.predicate),e.emitDistinctChangesOnly||t.set("emitDistinctChangesOnly",an(!1)),e.descendants&&t.set("descendants",an(!0)),t.set("read",e.read),e.static&&t.set("static",an(!0)),t.toLiteralMap()}function zd(e,t){var n=function(e,t){var n=qd(e);n.set("template",function(e){if("string"==typeof e.template){if(e.isInline)return an(e.template);var t=e.template,n=new Za(t,e.templateUrl),r=new Ja(n,0,0,0),i=function(e,t){var n=t.length,r=0,i=0,a=0;do{-1!==(r=t.indexOf("\n",i))&&(i=r+1,a++)}while(-1!==r);return new Ja(e,n,a,n-i)}(n,t),a=new es(r,i);return an(t,null,a)}return e.template}(t)),t.isInline&&n.set("isInline",an(!0));n.set("styles",Vd(e.styles,an)),n.set("directives",function(e){var t=0!==e.declarationListEmitMode?Kd:function(e){return e};return Vd(e.directives,function(e){var n=new wa;return n.set("type",t(e.type)),n.set("selector",an(e.selector)),n.set("inputs",Vd(e.inputs,an)),n.set("outputs",Vd(e.outputs,an)),n.set("exportAs",Vd(e.exportAs,an)),n.toLiteralMap()})}(e)),n.set("pipes",function(e){if(0===e.pipes.size)return null;var t,n=0!==e.declarationListEmitMode?Kd:function(e){return e},r=[],i=Object(v.a)(e.pipes);try{for(i.s();!(t=i.n()).done;){var a=Object(h.a)(t.value,2),s=a[0],o=a[1];r.push({key:s,value:n(o),quoted:!0})}}catch(u){i.e(u)}finally{i.f()}return en(r)}(e)),n.set("viewProviders",e.viewProviders),n.set("animations",e.animations),void 0!==e.changeDetection&&n.set("changeDetection",Gt(_r.ChangeDetectionStrategy).prop(I[e.changeDetection]));e.encapsulation!==P.Emulated&&n.set("encapsulation",Gt(_r.ViewEncapsulation).prop(P[e.encapsulation]));e.interpolation!==Ba&&n.set("interpolation",Zt([an(e.interpolation.start),an(e.interpolation.end)]));!0===t.preserveWhitespaces&&n.set("preserveWhitespaces",an(!0));return n}(e,t);return{expression:Gt(_r.declareComponent).callFn([n.toLiteralMap()]),type:Wh(e)}}function Kd(e){return Gt(_r.forwardRef).callFn([tn([],[new Tt(e)])])}function Qd(e){var t=function(e){var t=new wa;t.set("version",an("11.2.14")),t.set("ngImport",Gt(_r.core)),t.set("type",e.internalType),t.set("name",an(e.pipeName)),!1===e.pure&&t.set("pure",an(e.pure));return t}(e);return{expression:Gt(_r.declarePipe).callFn([t.toLiteralMap()]),type:ls(e)}}wp(Kn)}}]);